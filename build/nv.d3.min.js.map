{"version":3,"sources":["../ts-out/core.js","../ts-out/dom.js","../ts-out/interactiveLayer.js","../ts-out/tooltip.js","../ts-out/utils.js","../ts-out/models/axis.js","../ts-out/models/boxPlot.js","../ts-out/models/boxPlotChart.js","../ts-out/models/bullet.js","../ts-out/models/bulletChart.js","../ts-out/models/candlestickBar.js","../ts-out/models/cumulativeLineChart.js","../ts-out/models/differenceChart.js","../ts-out/models/discreteBar.js","../ts-out/models/discreteBarChart.js","../ts-out/models/distribution.js","../ts-out/models/distroPlot.js","../ts-out/models/distroPlotChart.js","../ts-out/models/focus.js","../ts-out/models/forceDirectedGraph.js","../ts-out/models/furiousLegend.js","../ts-out/models/heatMap.js","../ts-out/models/heatMapChart.js","../ts-out/models/historicalBar.js","../ts-out/models/historicalBarChart.js","../ts-out/models/legend.js","../ts-out/models/line.js","../ts-out/models/lineChart.js","../ts-out/models/linePlusBarChart.js","../ts-out/models/multiBar.js","../ts-out/models/multiBarChart.js","../ts-out/models/multiBarHorizontal.js","../ts-out/models/multiBarHorizontalChart.js","../ts-out/models/multiChart.js","../ts-out/models/ohlcBar.js","../ts-out/models/parallelCoordinates.js","../ts-out/models/parallelCoordinatesChart.js","../ts-out/models/pie.js","../ts-out/models/pieChart.js","../ts-out/models/sankey.js","../ts-out/models/sankeyChart.js","../ts-out/models/scatter.js","../ts-out/models/scatterChart.js","../ts-out/models/sparkline.js","../ts-out/models/sparklinePlus.js","../ts-out/models/stackedArea.js","../ts-out/models/stackedAreaChart.js","../ts-out/models/sunburst.js","../ts-out/models/sunburstChart.js"],"names":["nv","dev","tooltip","utils","models","charts","logs","dom","d3","require","dispatch","Function","prototype","bind","oThis","this","TypeError","aArgs","Array","slice","call","arguments","fToBind","fNOP","fBound","apply","concat","on","e","startTime","Date","endTime","totalTime","log","window","console","length","deprecated","name","info","warn","render","step","active","render_start","renderLoop","chart","graph","i","queue","generate","callback","splice","setTimeout","render_end","addGraph","obj","push","module","exports","write","undefined","fastdom","mutate","read","measure","interactiveGuideline","layer","selection","each","data","mouseHandler","mouseX","event","clientX","getBoundingClientRect","left","mouseY","clientY","top","subtractMargin","mouseOutAnyReason","isMSIE","offsetX","offsetY","target","tagName","className","baseVal","match","margin","type","availableWidth","availableHeight","relatedTarget","ownerSVGElement","nvPointerEventsClass","elementMouseout","renderGuideLine","hidden","scaleIsOrdinal","xScale","rangeBands","pointXValue","elementIndex","bisect","range","rangeBand","domain","invert","elementMousemove","elementDblclick","elementClick","elementMouseDown","elementMouseUp","container","select","width","height","wrap","selectAll","enter","append","attr","svgContainer","guideLine","x","showGuideLine","line","NaNtoZero","String","d","exit","remove","scale","linear","ActiveXObject","duration","hideDelay","_","interactiveBisect","values","searchVal","xAccessor","_xAccessor","_cmp","v","bisector","index","max","currentValue","nextIndex","min","nextValue","Math","abs","nearestValueIndex","threshold","yDistMax","Infinity","indexToHighlight","forEach","delta","initTooltip","node","document","body","id","classes","style","classed","nvtooltip","enabled","dataSeriesExists","newContent","contentGenerator","innerHTML","positionTooltip","floor","random","gravity","distance","snapDistance","lastPosition","headerEnabled","valueFormatter","p","headerFormatter","keyFormatter","elem","table","createElement","html","value","tbodyEnter","trowEnter","series","highlight","color","total","key","filter","percent","format","opacityScale","opacity","outerHTML","footer","position","pos","getComputedStyle","transform","client","isArray","isObject","calcGravityOffset","tmp","offsetHeight","offsetWidth","clientWidth","documentElement","clientHeight","gravityOffset","interrupt","transition","delay","old_translate","new_translate","round","translateInterpolator","interpolateString","is_hidden","styleTween","options","optionsFunc","_options","Object","create","get","set","chartContainer","fixedTop","offset","point","y","initOptions","windowSize","size","innerWidth","innerHeight","compatMode","a","isFunction","isDate","toString","isNumber","isNaN","windowResize","handler","addEventListener","clear","removeEventListener","getColor","defaultColor","color_scale","ordinal","category20","customTheme","dictionary","getKey","defaultColors","defIndex","pjax","links","content","load","href","fragment","parentNode","replaceChild","history","pushState","textContent","preventDefault","state","calcApproxTextWidth","svgTextElem","text","fontSize","parseInt","replace","textLength","n","watchTransition","renderWatch","args","_duration","renderStack","self","model","__rendered","m","arg","renderEnd","indexOf","reset","pop","every","deepExtend","dst","source","srcObj","_setState","_getState","init","changed","getter","fn","setter","update","_set","settings","JSON","stringify","change","map","calcTicksX","numTicks","numValues","stream_len","calcTicksY","getY","maxValue","j","initOption","_calls","_overrides","ops","getOwnPropertyNames","calls","inheritOptionsD3","d3_source","oplist","_d3options","item","ar","unshift","rebind","arrayUnique","sort","symbolMap","symbol","t","s","svg","symbolTypes","functor","inheritOptions","inherited","_inherited","d3ops","initSVG","nvd3-svg","sanitizeHeight","sanitizeWidth","bottom","right","noData","opt","noDataText","wrapTicks","word","words","split","reverse","lineNumber","lineHeight","dy","parseFloat","tspan","join","getComputedTextLength","arrayEquals","array1","array2","l","pointIsInArc","pt","ptData","d3Arc","r1","innerRadius","r2","outerRadius","theta1","startAngle","theta2","endAngle","dist","angle","atan2","PI","axis","wrapEnter","g","ticks","orient","scale0","fmt","tickFormat","axisLabel","axisLabelText","xLabelMargin","axisMaxMin","w","axisLabelDistance","isOrdinal","showMaxMin","tickPadding","formatter","tickFormatMaxMin","maxTextWidth","textHeight","xTicks","rotateLabelsRule","rotateLabels","box","sin","staggerLabels","rotateYLabel","maxMinRange","err","copy","boxPlot","xDomain","getX","xRange","yData","yDomain","yMin","yMax","q1","getQ1","q3","getQ3","wl","getWl","wh","getWh","olItems","getOlItems","getOlValue","yScale","yRange","xScale0","yScale0","boxplots","boxEnter","hover","f","box_width","maxBoxWidth","box_left","box_right","endpoint","elementMouseover","getQ2","outliers","getOlColor","getOlLabel","label","Q1","Q2","Q3","whisker_low","whisker_high","q2","itemColor","outlierValue","outlierLabel","outlierColor","boxPlotChart","boxplot","showXAxis","xAxis","showYAxis","yAxis","beforeUpdate","clamp","gEnter","defsEnter","rightAlignYAxis","datum","disabled","tickSize","evt","tooltipContent","bullet","sortLabels","labels","lz","b","iA","iB","descending","rangez","ranges","markerz","markers","markerLinez","markerLines","measurez","measures","rangeLabelz","rangeLabels","markerLabelz","markerLabels","markerLineLabelz","markerLineLabels","measureLabelz","measureLabels","x1","extent","merge","forceX","__chart__","il","rangeClassNames","legacyRangeClassNames","w1","xp1","h3","markerData","marker","markerLinesData","defaultRangeLabels","bulletChart","x0","title","subtitle","bulletWrap","tick","tickEnter","tickUpdate","timer","flush","candlestickBar","barWidth","padData","getLow","forceY","getHigh","chartClick","clipEdge","tickGroups","getOpen","getClose","open","close","high","low","interactive","highlightPoint","pointIndex","isHoverOver","clearHighlights","cumulativeLineChart","lines","dragStart","dragMove","dx","updateZero","dragEnd","stateChange","indexLine","oldDuration","stateSetter","stateGetter","defaultState","indexDrag","behavior","drag","indexify","currentYDomain","getCurrentYDomain","rescaleY","interactivePointerEvents","showLegend","legend","marginTop","showControls","controlsData","controls","rightAlign","tempDisabled","useInteractiveGuideline","interactiveLayer","display","linesWrap","seriesIndex","avgLineData","average","avgLines","getAvgLineY","yVal","_ticks","mouse","newState","singlePoint","pointXLocation","allData","yValue","domainExtent","xValue","idx","indexifyYGetter","indexValue","noErrorCheck","seriesDomains","updateState","useVoronoi","differenceChart","dataWithoutDisabledSeries","dataset","processedData","processData","focus","multiChart","category10","yForMultiChart","interpolate","keyForActualGreaterThanPredicted","keyForActualLessThanPredicted","diff","y0","y1","stack1","areaY1","scatter","transformData","allValues","dateExtent","xForMultiChart","yExtent","yDomain1","yAxis1","yAxis2","focusMargin","filteredData","leftIndex","rightIndex","some","val","filteredValues","iterations","assign","clonedData","allProcessed","processed","actualData","dataSet","predictedData","defaultKeyForActualLessThanPredicted","defaultKeyForActualGreaterThanPredicted","noHighlightSeries","strokeWidth","showPredictedLine","actualDataAsMap","reduce","result","yAccessor","predictedDataAsMap","keys","stringifiedXValue","actualUsage","predictedUsage","fakeDatumToGetProperXValue","keyForXValue","correctlyFormattedXValue","predictedActualDelta","isDefined","thingToCheck","time","multi","getMinutes","getHours","getDay","getDate","getMonth","discreteBar","seriesData","showValues","groups","bars","barsEnter","element","stopPropagation","elementDblClick","valueFormat","cornerRadius","rectClass","discreteBarChart","discretebar","wrapLabels","distribution","naxis","distWrap","getData","distroPlot","select_sigma","sorted","ascending","normalize","IQR","quantile","deviation","calcBandwidth","A","pow","prepData","dat","calcStats","xGroup","colorGroup","allColorGroups","add","iqr","upper","lower","minmax","stddev","mean","wu","median","observations","beeswarm","radius","pointSize","orientation","side","distributeOn","arrange","object_constancy","isOutlier","isOutlierStdDev","randX","jitter","bandwidth","bandwidthCalc","kde","kernelDensityEstimator","eKernel","resolution","kdeDat","clampViolin","clampViolinKDE","tmpScale","yVScale","reformat","count","num_outlier","sum","notch","sqrt","reformatDatFlat","formatted","nest","rollup","entries","xGroups","allGroups","kernel","X","sample","clamped","res","u","makeNotchBox","boxLeft","notchLeft","boxCenter","centralTendency","getMean","notchBox","getNl","getNu","whiskerDef","nice","reformatDat","squash","areaEnter","distroplots","areaWidth","areaCenter","areaLeft","areaRight","tickLeft","tickRight","plotType","showOnlyOutliers","observationType","hideWhiskers","toFixed","violin","objData","interp","area","getMax","getMin","getDev","fillColor","obsWrap","getValsObj","obsGroup","stroke","rgb","recalcData","distroPlotChart","dataHasChanged","arraysEqual","dataCache","parse","arr1","arr2","objectEquals","aProps","bProps","propName","distroplot","opts","colorGroup0","bandwidth0","resolution0","clampViolin0","xLabel","yLabel","resizePath","updateBrushBG","brush","empty","brushExtent","brushBG","leftWidth","rightWidth","onBrush","shouldDispatch","contentWrap","syncBrushing","brushBGenter","gBrush","pointActive","xTickFormat","yTickFormat","forceDirectedGraph","nodes","nodeFieldSet","Set","force","layout","linkStrength","friction","linkDistance","linkDist","charge","theta","alpha","start","link","py","px","nodeColor","field","linkExtras","nodeExtras","furiousLegend","setTextColor","vers","expanded","disengaged","setBGColor","seriesShape","seriesEnter","property","seriesCheckbox","seriesText","legendMouseover","legendMouseout","legendClick","radioButtonMode","userDisabled","engaged","legendDblclick","versPadding","align","seriesWidths","legendText","maxKeyLength","trimmedKey","substring","nodeTextLength","Error","padding","seriesPerRow","legendWidth","columnWidths","k","prev","cur","array","xPositions","curX","ceil","xpos","ypos","newxpos","maxwidth","heatMap","cellTextColor","bgColor","highContrastText","rgbColor","r","getHeatmapValues","vals","cell","getIY","getCellValue","getIX","mad","med","cellColor","colorVal","getNorm","cellsAreNumeric","colorScale","missingDataColor","getColorDomain","prepedData","uniqueColor","normalizeData","uniqueX","uniqueY","includes","agg","stat","normVal","_cellPos","norm","uniqueXMeta","uniqueYMeta","uniqueCells","combo","warnings","sortedCells","ix","iy","valX","valY","valColor","xMeta","yMeta","isArrayInArray","reformatData","cellVal","cellPos","arr","item_as_string","ele","removeAllHoverClasses","sortObjByVals","getKeyByValue","object","cellWidth","cellHeight","cellAspectRatio","cellBorderWidth","quantize","colorDomain","colorRange","RdYlBu","gridLinesV","gridLinesH","cellWrap","getIdx","xMetas","xMetaHeight","metaOffset","yMetas","xMetaColorScale","yMetaWidth","yMetaColorScale","cellsEnter","cellRadius","fill","cellValueLabel","showCellValues","numHLines","stroke-width","showGrid","allMetaRect","coordinates","getBBox","isColMeta","cellValueFormat","missingDataLabel","getCellPos","cellValue","heatMapChart","quantizeLegendValues","invertExtent","hasRowMeta","hasColumnMeta","axisX","rot","yPos","alignXAxis","axisY","xPos","alignYAxis","legendWrap","legendVal","historicalBar","rval","historicalBarChart","bar_model","transitionDuration","tooltipHide","ohlcBarChart","ohlcBar","candlestickBarChart","setBGOpacity","enableDoubleClick","insert","scatterWrap","fillOpacity","areaPaths","isArea","defined","linePaths","pointDomain","lineChart","updateXAxis","updateYAxis","disableTooltip","focusEnable","focusEnter","legendPosition","currentValues","pointYValue","defaultValueFormatter","x2Axis","y2Axis","focusHeight","focusShowAxisX","focusShowAxisY","lineWithFocusChart","linePlusBarChart","availableHeight2","x2","availableHeight1","bar","focusBarsWrap","dataBars","focusLinesWrap","allDisabled","dataLines","dataLine","switchYAxisOrder","y1Axis","y2","barsOpacity","linesOpacity","y1Opacity","y2Opacity","margin2","y3","lines2","bars2","y4","series1","series2","contextEnter","legendXPosition","originalKey","legendRightAxisHint","legendLeftAxisHint","bars2Wrap","lines2Wrap","y3Axis","y4Axis","getBarsAxis","main","getLinesAxis","multiBar","prepareData","nonStackableCount","hideable","stacked","parsed","stack","stackOffset","nonStackable","nonStackableSeries","_d","posBase","negBase","scaleData","groupSpacing","xd1","xd2","createContainer","createGroups","exitTransition","_i","_j","last_datalength","createBars","barColor","darker","registerBarsEvents","getStackedChartFns","xFn","yFn","widthFn","heightFn","getGroupedChartFns","barSelection","_a","_b","valueStyle","multiBarChart","multibar","controlWidth","controlLabels","grouped","getTranslate","staggerUp","staggerDown","totalInBetweenTicks","reduceXTicks","multiBarHorizontal","valuePadding","getYerr","xerr","mid","path","yerr","yErr","multiBarHorizontalChart","controlsPosition","mouseover_line","yaxis","mouseover_scatter","mouseover_stack","mouseover_bar","bars1","chartMap","lines1","dataLines1","dataLines2","scatters1","dataScatters1","scatters2","dataScatters2","dataBars1","dataBars2","dataStack1","stack2","dataStack2","relevantChart","relevantDatasets","color_array","lines1Wrap","scatters1Wrap","bars1Wrap","stack1Wrap","scatters2Wrap","stack2Wrap","extraValue1BarStacked","aVal","extraValue2BarStacked","yScale1","yScale2","yDomain2","stackedArea","parallelCoordinates","enabledDimensions","displayMissingValuesline","axisWithUndefinedValues","newscale","missingValuesline","missingValueslineText","restoreBrush","visible","filters","brushDomain","dimension","hasOnlyNaN","oldDomainMaxValue","hasNaN","dimensions","updateTicks","brushstart","displayBrush","actives","dimensionNames","extents","foreground","isActive","brushend","hasActiveBrush","brushEnd","currentTicks","tickValues","dragging","__origin__","background","dimensionPosition","currentPosition","dimensionsOrder","newData","dataValues","dimensionData","rangePoints","onlyUndefinedValues","tension","lineTension","axisDrag","lineData","undefinedValuesLabel","dimensionsEnter","formerActive","activeChanged","dimensionFormats","parallelCoordinatesChart","originalPosition","isSorted","nanValue","str","tp","dim","dd","pie","arcTween","donut","_current","arcs","arcsRadiusOuter","arcsRadiusInner","arcsRadius","outer","inner","donutRatio","growOnHover","g_pie","arcsOver","arc","arcOver","padAngle","titleOffset","slices","pieLabels","ae","attrTween","showLabels","labelsArc","labelsOutside","group","labelSunbeamLayout","rotateAngle","centroid","labelLocationHash","avgHeight","avgWidth","createHashKey","getSlicePercentage","center","labelThreshold","hashKey","labelType","hideOverlapLabels","bb","topLeft","topRight","bottomLeft","bottomRight","pieLabelsOutside","donutLabelsOutside","labelFormat","pieChart","pieWrap","showTooltipPercent","sankey","computeNodeLinks","sourceLinks","targetLinks","computeNodeValues","computeNodeBreadths","nextNodes","remainingNodes","nodeWidth","sinksRight","moveSinksRight","scaleNodeBreadths","kx","computeNodeDepths","initializeNodeDepth","ky","nodesByBreadth","nodePadding","relaxLeftToRight","weightedSource","sy","breadth","relaxRightToLeft","weightedTarget","ty","resolveCollisions","ascendingDepth","sortKeys","computeLinkDepths","ascendingSourceDepth","ascendingTargetDepth","relayout","xi","interpolateNumber","curvature","x3","sankeyChart","dragmove","testData","isDataValid","dataAvailable","error","showError","linkTitle","origin","appendChild","nodeFillColor","nodeStrokeColor","nodeTitle","units","formatNumber","message","nodeStyle","strokeColor","getCache","_cache","delCache","getDiffs","cache","diffs","hasOwnProperty","updateInteractiveLayer","needsUpdate","vertices","groupIndex","pX","pY","pointArray","bounds","geom","polygon","epsilon","voronoi","clip","pointPaths","vPointPaths","showVoronoi","clipVoronoi","pointClips","clipRadius","mouseEventCallback","el","mDispatch","scrollTop","pageYOffset","scrollLeft","pageXOffset","relativePos","logScale","sizeDomain","getSize","padDataOuter","z","forceSize","sizeRange","_sizeRange_def","z0","scaleDiff","width0","height0","sizeDiff","xDom","domainDiff","yDom","pointBorderColor","points","getShape","titles","interactiveUpdateDelay","clearTimeout","timeoutID","shape","notActive","pointScale","pointRange","forcePoint","pointShape","scatterChart","showDistX","distX","showDistY","distY","regWrap","regLine","intercept","slope","sparkline","paths","yValues","maxPoint","lastIndexOf","minPoint","currentPoint","showMinMaxPoints","showCurrentPoint","animate","sparklinePlus","updateValueLine","paused","hoverValue","hoverEnter","sparklineHover","getClosestIndex","closestIndex","sparklineWrap","showLastValue","valueWrap","rightAlignValue","alignValue","dataRaw","aseries","dataFiltered","order","out","zeroArea","areaMouseover","pageX","pageY","areaMouseout","areaClick","d3_stackedOffset_stackPercent","stackData","o","stackedAreaChart","currentFormat","oldYTickFormat","percentFormatter","xAxisHeight","legendTop","metaKey","stream","stream_center","stack_percent","controlOptions","requiredTop","stackedWrap","valueSum","allNullValues","atleastOnePoint","tooltipValue","showTotalInTooltip","stackedY0","stackedY","totalLabel","oldValueFormatter","stackedAreaWithFocusChart","sunburst","rotationToAvoidUpsideDown","computeCenterAngle","computeNodePercentage","labelThresholdMatched","arcTweenZoom","xd","yd","yr","arcTweenUpdate","ipo","dx0","dy0","updatePrevPosition","prevPositions","pP","storeRetrievePrevPositions","zoomClick","depth","centerAngle","rotation","partition","modes","mode","cG","groupColorByParent","children","parent","d1","d2","sunburstChart"],"mappings":"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","file":"nv.d3.min.js","sourcesContent":["// set up main nv object\nvar nv = {};\n// the major global objects under the nv namespace\nnv.dev = false; //set false when in production\nnv.tooltip = nv.tooltip || {}; // For the tooltip system\nnv.utils = nv.utils || {}; // Utility subsystem\nnv.models = nv.models || {}; //stores all the possible models/components\nnv.charts = {}; //stores all the ready to use charts\nnv.logs = {}; //stores some statistics and potential error messages\nnv.dom = {}; //DOM manipulation functions\n// Node/CommonJS - require D3\nif (typeof (module) !== 'undefined' && typeof (exports) !== 'undefined' && typeof (d3) == 'undefined') {\n    d3 = require('d3');\n}\nnv.dispatch = d3.dispatch('render_start', 'render_end');\n// Function bind polyfill\n// Needed ONLY for phantomJS as it's missing until version 2.0 which is unreleased as of this comment\n// https://github.com/ariya/phantomjs/issues/10522\n// http://kangax.github.io/compat-table/es5/#Function.prototype.bind\n// phantomJS is used for running the test suite\nif (!Function.prototype.bind) {\n    Function.prototype.bind = function (oThis) {\n        if (typeof this !== \"function\") {\n            // closest thing possible to the ECMAScript 5 internal IsCallable function\n            throw new TypeError(\"Function.prototype.bind - what is trying to be bound is not callable\");\n        }\n        var aArgs = Array.prototype.slice.call(arguments, 1), fToBind = this, fNOP = function () { }, fBound = function () {\n            return fToBind.apply(this instanceof fNOP && oThis\n                ? this\n                : oThis, aArgs.concat(Array.prototype.slice.call(arguments)));\n        };\n        fNOP.prototype = this.prototype;\n        fBound.prototype = new fNOP();\n        return fBound;\n    };\n}\n//  Development render timers - disabled if dev = false\nif (nv.dev) {\n    nv.dispatch.on('render_start', function (e) {\n        nv.logs.startTime = +new Date();\n    });\n    nv.dispatch.on('render_end', function (e) {\n        nv.logs.endTime = +new Date();\n        nv.logs.totalTime = nv.logs.endTime - nv.logs.startTime;\n        nv.log('total', nv.logs.totalTime); // used for development, to keep track of graph generation times\n    });\n}\n// Logs all arguments, and returns the last so you can test things in place\n// Note: in IE8 console.log is an object not a function, and if modernizr is used\n// then calling Function.prototype.bind with with anything other than a function\n// causes a TypeError to be thrown.\nnv.log = function () {\n    if (nv.dev && window.console && console.log && console.log.apply)\n        console.log.apply(console, arguments);\n    else if (nv.dev && window.console && typeof console.log == \"function\" && Function.prototype.bind) {\n        var log = Function.prototype.bind.call(console.log, console);\n        log.apply(console, arguments);\n    }\n    return arguments[arguments.length - 1];\n};\n// print console warning, should be used by deprecated functions\nnv.deprecated = function (name, info) {\n    if (console && console.warn) {\n        console.warn('nvd3 warning: `' + name + '` has been deprecated. ', info || '');\n    }\n};\n// The nv.render function is used to queue up chart rendering\n// in non-blocking async functions.\n// When all queued charts are done rendering, nv.dispatch.render_end is invoked.\nnv.render = function render(step) {\n    // number of graphs to generate in each timeout loop\n    step = step || 1;\n    nv.render.active = true;\n    nv.dispatch.render_start();\n    var renderLoop = function () {\n        var chart, graph;\n        for (var i = 0; i < step && (graph = nv.render.queue[i]); i++) {\n            chart = graph.generate();\n            if (typeof graph.callback == typeof (Function))\n                graph.callback(chart);\n        }\n        nv.render.queue.splice(0, i);\n        if (nv.render.queue.length) {\n            setTimeout(renderLoop);\n        }\n        else {\n            nv.dispatch.render_end();\n            nv.render.active = false;\n        }\n    };\n    setTimeout(renderLoop);\n};\nnv.render.active = false;\nnv.render.queue = [];\n/*\nAdds a chart to the async rendering queue. This method can take arguments in two forms:\nnv.addGraph({\n    generate: <Function>\n    callback: <Function>\n})\n\nor\n\nnv.addGraph(<generate Function>, <callback Function>)\n\nThe generate function should contain code that creates the NVD3 model, sets options\non it, adds data to an SVG element, and invokes the chart model. The generate function\nshould return the chart model.  See examples/lineChart.html for a usage example.\n\nThe callback function is optional, and it is called when the generate function completes.\n*/\nnv.addGraph = function (obj) {\n    if (typeof arguments[0] === typeof (Function)) {\n        obj = { generate: arguments[0], callback: arguments[1] };\n    }\n    nv.render.queue.push(obj);\n    if (!nv.render.active) {\n        nv.render();\n    }\n};\n// Node/CommonJS exports\nif (typeof (module) !== 'undefined' && typeof (exports) !== 'undefined') {\n    module.exports = nv;\n}\nif (typeof (window) !== 'undefined') {\n    window.nv = nv;\n}\n","/* Facade for queueing DOM write operations\n * with Fastdom (https://github.com/wilsonpage/fastdom)\n * if available.\n * This could easily be extended to support alternate\n * implementations in the future.\n */\nnv.dom.write = function (callback) {\n    if (window.fastdom !== undefined) {\n        return fastdom.mutate(callback);\n    }\n    return callback();\n};\n/* Facade for queueing DOM read operations\n * with Fastdom (https://github.com/wilsonpage/fastdom)\n * if available.\n * This could easily be extended to support alternate\n * implementations in the future.\n */\nnv.dom.read = function (callback) {\n    if (window.fastdom !== undefined) {\n        return fastdom.measure(callback);\n    }\n    return callback();\n};\n","/* Utility class to handle creation of an interactive layer.\n This places a rectangle on top of the chart. When you mouse move over it, it sends a dispatch\n containing the X-coordinate. It can also render a vertical line where the mouse is located.\n\n dispatch.elementMousemove is the important event to latch onto.  It is fired whenever the mouse moves over\n the rectangle. The dispatch is given one object which contains the mouseX/Y location.\n It also has 'pointXValue', which is the conversion of mouseX to the x-axis scale.\n */\nnv.interactiveGuideline = function () {\n    \"use strict\";\n    var margin = { left: 0, top: 0 } //Pass the chart's top and left magins. Used to calculate the mouseX/Y.\n    , width = null, height = null, xScale = d3.scale.linear(), dispatch = d3.dispatch('elementMousemove', 'elementMouseout', 'elementClick', 'elementDblclick', 'elementMouseDown', 'elementMouseUp'), showGuideLine = true, svgContainer = null // Must pass the chart's svg, we'll use its mousemove event.\n    , tooltip = nv.models.tooltip(), isMSIE = window.ActiveXObject // Checkt if IE by looking for activeX. (excludes IE11)\n    ;\n    tooltip\n        .duration(0)\n        .hideDelay(0)\n        .hidden(false);\n    function layer(selection) {\n        selection.each(function (data) {\n            var container = d3.select(this);\n            var availableWidth = (width || 960), availableHeight = (height || 400);\n            var wrap = container.selectAll(\"g.nv-wrap.nv-interactiveLineLayer\")\n                .data([data]);\n            var wrapEnter = wrap.enter()\n                .append(\"g\").attr(\"class\", \" nv-wrap nv-interactiveLineLayer\");\n            wrapEnter.append(\"g\").attr(\"class\", \"nv-interactiveGuideLine\");\n            if (!svgContainer) {\n                return;\n            }\n            function mouseHandler() {\n                var mouseX = d3.event.clientX - this.getBoundingClientRect().left;\n                var mouseY = d3.event.clientY - this.getBoundingClientRect().top;\n                var subtractMargin = true;\n                var mouseOutAnyReason = false;\n                if (isMSIE) {\n                    /*\n                     D3.js (or maybe SVG.getScreenCTM) has a nasty bug in Internet Explorer 10.\n                     d3.mouse() returns incorrect X,Y mouse coordinates when mouse moving\n                     over a rect in IE 10.\n                     However, d3.event.offsetX/Y also returns the mouse coordinates\n                     relative to the triggering <rect>. So we use offsetX/Y on IE.\n                     */\n                    mouseX = d3.event.offsetX;\n                    mouseY = d3.event.offsetY;\n                    /*\n                     On IE, if you attach a mouse event listener to the <svg> container,\n                     it will actually trigger it for all the child elements (like <path>, <circle>, etc).\n                     When this happens on IE, the offsetX/Y is set to where ever the child element\n                     is located.\n                     As a result, we do NOT need to subtract margins to figure out the mouse X/Y\n                     position under this scenario. Removing the line below *will* cause\n                     the interactive layer to not work right on IE.\n                     */\n                    if (d3.event.target.tagName !== \"svg\") {\n                        subtractMargin = false;\n                    }\n                    if (d3.event.target.className.baseVal.match(\"nv-legend\")) {\n                        mouseOutAnyReason = true;\n                    }\n                }\n                if (subtractMargin) {\n                    mouseX -= margin.left;\n                    mouseY -= margin.top;\n                }\n                /* If mouseX/Y is outside of the chart's bounds,\n                 trigger a mouseOut event.\n                 */\n                if (d3.event.type === 'mouseout'\n                    || mouseX < 0 || mouseY < 0\n                    || mouseX > availableWidth || mouseY > availableHeight\n                    || (d3.event.relatedTarget && d3.event.relatedTarget.ownerSVGElement === undefined)\n                    || mouseOutAnyReason) {\n                    if (isMSIE) {\n                        if (d3.event.relatedTarget\n                            && d3.event.relatedTarget.ownerSVGElement === undefined\n                            && (d3.event.relatedTarget.className === undefined\n                                || d3.event.relatedTarget.className.match(tooltip.nvPointerEventsClass))) {\n                            return;\n                        }\n                    }\n                    dispatch.elementMouseout({\n                        mouseX: mouseX,\n                        mouseY: mouseY\n                    });\n                    layer.renderGuideLine(null); //hide the guideline\n                    tooltip.hidden(true);\n                    return;\n                }\n                else {\n                    tooltip.hidden(false);\n                }\n                var scaleIsOrdinal = typeof xScale.rangeBands === 'function';\n                var pointXValue = undefined;\n                // Ordinal scale has no invert method\n                if (scaleIsOrdinal) {\n                    var elementIndex = d3.bisect(xScale.range(), mouseX) - 1;\n                    // Check if mouseX is in the range band\n                    if (xScale.range()[elementIndex] + xScale.rangeBand() >= mouseX) {\n                        pointXValue = xScale.domain()[d3.bisect(xScale.range(), mouseX) - 1];\n                    }\n                    else {\n                        dispatch.elementMouseout({\n                            mouseX: mouseX,\n                            mouseY: mouseY\n                        });\n                        layer.renderGuideLine(null); //hide the guideline\n                        tooltip.hidden(true);\n                        return;\n                    }\n                }\n                else {\n                    pointXValue = xScale.invert(mouseX);\n                }\n                dispatch.elementMousemove({\n                    mouseX: mouseX,\n                    mouseY: mouseY,\n                    pointXValue: pointXValue\n                });\n                //If user double clicks the layer, fire a elementDblclick\n                if (d3.event.type === \"dblclick\") {\n                    dispatch.elementDblclick({\n                        mouseX: mouseX,\n                        mouseY: mouseY,\n                        pointXValue: pointXValue\n                    });\n                }\n                // if user single clicks the layer, fire elementClick\n                if (d3.event.type === 'click') {\n                    dispatch.elementClick({\n                        mouseX: mouseX,\n                        mouseY: mouseY,\n                        pointXValue: pointXValue\n                    });\n                }\n                // if user presses mouse down the layer, fire elementMouseDown\n                if (d3.event.type === 'mousedown') {\n                    dispatch.elementMouseDown({\n                        mouseX: mouseX,\n                        mouseY: mouseY,\n                        pointXValue: pointXValue\n                    });\n                }\n                // if user presses mouse down the layer, fire elementMouseUp\n                if (d3.event.type === 'mouseup') {\n                    dispatch.elementMouseUp({\n                        mouseX: mouseX,\n                        mouseY: mouseY,\n                        pointXValue: pointXValue\n                    });\n                }\n            }\n            svgContainer\n                .on(\"touchmove\", mouseHandler)\n                .on(\"mousemove\", mouseHandler, true)\n                .on(\"mouseout\", mouseHandler, true)\n                .on(\"mousedown\", mouseHandler, true)\n                .on(\"mouseup\", mouseHandler, true)\n                .on(\"dblclick\", mouseHandler)\n                .on(\"click\", mouseHandler);\n            layer.guideLine = null;\n            //Draws a vertical guideline at the given X postion.\n            layer.renderGuideLine = function (x) {\n                if (!showGuideLine)\n                    return;\n                if (layer.guideLine && layer.guideLine.attr(\"x1\") === x)\n                    return;\n                nv.dom.write(function () {\n                    var line = wrap.select(\".nv-interactiveGuideLine\")\n                        .selectAll(\"line\")\n                        .data((x != null) ? [nv.utils.NaNtoZero(x)] : [], String);\n                    line.enter()\n                        .append(\"line\")\n                        .attr(\"class\", \"nv-guideline\")\n                        .attr(\"x1\", function (d) { return d; })\n                        .attr(\"x2\", function (d) { return d; })\n                        .attr(\"y1\", availableHeight)\n                        .attr(\"y2\", 0);\n                    line.exit().remove();\n                });\n            };\n        });\n    }\n    layer.dispatch = dispatch;\n    layer.tooltip = tooltip;\n    layer.margin = function (_) {\n        if (!arguments.length)\n            return margin;\n        margin.top = typeof _.top != 'undefined' ? _.top : margin.top;\n        margin.left = typeof _.left != 'undefined' ? _.left : margin.left;\n        return layer;\n    };\n    layer.width = function (_) {\n        if (!arguments.length)\n            return width;\n        width = _;\n        return layer;\n    };\n    layer.height = function (_) {\n        if (!arguments.length)\n            return height;\n        height = _;\n        return layer;\n    };\n    layer.xScale = function (_) {\n        if (!arguments.length)\n            return xScale;\n        xScale = _;\n        return layer;\n    };\n    layer.showGuideLine = function (_) {\n        if (!arguments.length)\n            return showGuideLine;\n        showGuideLine = _;\n        return layer;\n    };\n    layer.svgContainer = function (_) {\n        if (!arguments.length)\n            return svgContainer;\n        svgContainer = _;\n        return layer;\n    };\n    return layer;\n};\n/* Utility class that uses d3.bisect to find the index in a given array, where a search value can be inserted.\n This is different from normal bisectLeft; this function finds the nearest index to insert the search value.\n\n For instance, lets say your array is [1,2,3,5,10,30], and you search for 28.\n Normal d3.bisectLeft will return 4, because 28 is inserted after the number 10.  But interactiveBisect will return 5\n because 28 is closer to 30 than 10.\n\n Unit tests can be found in: interactiveBisectTest.html\n\n Has the following known issues:\n * Will not work if the data points move backwards (ie, 10,9,8,7, etc) or if the data points are in random order.\n * Won't work if there are duplicate x coordinate values.\n */\nnv.interactiveBisect = function (values, searchVal, xAccessor) {\n    \"use strict\";\n    if (!(values instanceof Array)) {\n        return null;\n    }\n    var _xAccessor;\n    if (typeof xAccessor !== 'function') {\n        _xAccessor = function (d) {\n            return d.x;\n        };\n    }\n    else {\n        _xAccessor = xAccessor;\n    }\n    var _cmp = function (d, v) {\n        // Accessors are no longer passed the index of the element along with\n        // the element itself when invoked by d3.bisector.\n        //\n        // Starting at D3 v3.4.4, d3.bisector() started inspecting the\n        // function passed to determine if it should consider it an accessor\n        // or a comparator. This meant that accessors that take two arguments\n        // (expecting an index as the second parameter) are treated as\n        // comparators where the second argument is the search value against\n        // which the first argument is compared.\n        return _xAccessor(d) - v;\n    };\n    var bisect = d3.bisector(_cmp).left;\n    var index = d3.max([0, bisect(values, searchVal) - 1]);\n    var currentValue = _xAccessor(values[index]);\n    if (typeof currentValue === 'undefined') {\n        currentValue = index;\n    }\n    if (currentValue === searchVal) {\n        return index; //found exact match\n    }\n    var nextIndex = d3.min([index + 1, values.length - 1]);\n    var nextValue = _xAccessor(values[nextIndex]);\n    if (typeof nextValue === 'undefined') {\n        nextValue = nextIndex;\n    }\n    if (Math.abs(nextValue - searchVal) >= Math.abs(currentValue - searchVal)) {\n        return index;\n    }\n    else {\n        return nextIndex;\n    }\n};\n/*\n Returns the index in the array \"values\" that is closest to searchVal.\n Only returns an index if searchVal is within some \"threshold\".\n Otherwise, returns null.\n */\nnv.nearestValueIndex = function (values, searchVal, threshold) {\n    \"use strict\";\n    var yDistMax = Infinity, indexToHighlight = null;\n    values.forEach(function (d, i) {\n        var delta = Math.abs(searchVal - d);\n        if (d != null && delta <= yDistMax && delta < threshold) {\n            yDistMax = delta;\n            indexToHighlight = i;\n        }\n    });\n    return indexToHighlight;\n};\n","/* Model which can be instantiated to handle tooltip rendering.\n Example usage:\n var tip = nv.models.tooltip().gravity('w').distance(23)\n .data(myDataObject);\n\n tip();    //just invoke the returned function to render tooltip.\n */\nnv.models.tooltip = function () {\n    \"use strict\";\n    /*\n    Tooltip data. If data is given in the proper format, a consistent tooltip is generated.\n    Example Format of data:\n    {\n        key: \"Date\",\n        value: \"August 2009\",\n        series: [\n            {key: \"Series 1\", value: \"Value 1\", color: \"#000\"},\n            {key: \"Series 2\", value: \"Value 2\", color: \"#00f\"}\n        ]\n    }\n    */\n    var id = \"nvtooltip-\" + Math.floor(Math.random() * 100000) // Generates a unique id when you create a new tooltip() object.\n    , data = null, gravity = 'w' // Can be 'n','s','e','w'. Determines how tooltip is positioned.\n    , distance = 25 // Distance to offset tooltip from the mouse location.\n    , snapDistance = 0 // Tolerance allowed before tooltip is moved from its current position (creates 'snapping' effect)\n    , classes = null // Attaches additional CSS classes to the tooltip DIV that is created.\n    , hidden = true // Start off hidden, toggle with hide/show functions below.\n    , hideDelay = 200 // Delay (in ms) before the tooltip hides after calling hide().\n    , tooltip = null // d3 select of the tooltip div.\n    , lastPosition = { left: null, top: null } // Last position the tooltip was in.\n    , enabled = true // True -> tooltips are rendered. False -> don't render tooltips.\n    , duration = 100 // Tooltip movement duration, in ms.\n    , headerEnabled = true // If is to show the tooltip header.\n    , nvPointerEventsClass = \"nv-pointer-events-none\" // CSS class to specify whether element should not have mouse events.\n    ;\n    // Format function for the tooltip values column.\n    // d is value,\n    // i is series index\n    // p is point containing the value\n    var valueFormatter = function (d, i, p) {\n        return d;\n    };\n    // Format function for the tooltip header value.\n    var headerFormatter = function (d) {\n        return d;\n    };\n    var keyFormatter = function (d, i) {\n        return d;\n    };\n    // By default, the tooltip model renders a beautiful table inside a DIV, returned as HTML\n    // You can override this function if a custom tooltip is desired. For instance, you could directly manipulate\n    // the DOM by accessing elem and returning false.\n    var contentGenerator = function (d, elem) {\n        if (d === null) {\n            return '';\n        }\n        var table = d3.select(document.createElement(\"table\"));\n        if (headerEnabled) {\n            var theadEnter = table.selectAll(\"thead\")\n                .data([d])\n                .enter().append(\"thead\");\n            theadEnter.append(\"tr\")\n                .append(\"td\")\n                .attr(\"colspan\", 3)\n                .append(\"strong\")\n                .classed(\"x-value\", true)\n                .html(headerFormatter(d.value));\n        }\n        var tbodyEnter = table.selectAll(\"tbody\")\n            .data([d])\n            .enter().append(\"tbody\");\n        var trowEnter = tbodyEnter.selectAll(\"tr\")\n            .data(function (p) { return p.series; })\n            .enter()\n            .append(\"tr\")\n            .classed(\"highlight\", function (p) { return p.highlight; });\n        trowEnter.append(\"td\")\n            .classed(\"legend-color-guide\", true)\n            .append(\"div\")\n            .style(\"background-color\", function (p) { return p.color; });\n        trowEnter.append(\"td\")\n            .classed(\"key\", true)\n            .classed(\"total\", function (p) { return !!p.total; })\n            .html(function (p, i) { return keyFormatter(p.key, i); });\n        trowEnter.append(\"td\")\n            .classed(\"value\", true)\n            .html(function (p, i) { return valueFormatter(p.value, i, p); });\n        trowEnter.filter(function (p, i) { return p.percent !== undefined; }).append(\"td\")\n            .classed(\"percent\", true)\n            .html(function (p, i) { return \"(\" + d3.format('%')(p.percent) + \")\"; });\n        trowEnter.selectAll(\"td\").each(function (p) {\n            if (p.highlight) {\n                var opacityScale = d3.scale.linear().domain([0, 1]).range([\"#fff\", p.color]);\n                var opacity = 0.6;\n                d3.select(this)\n                    .style(\"border-bottom-color\", opacityScale(opacity))\n                    .style(\"border-top-color\", opacityScale(opacity));\n            }\n        });\n        var html = table.node().outerHTML;\n        if (d.footer !== undefined)\n            html += \"<div class='footer'>\" + d.footer + \"</div>\";\n        return html;\n    };\n    /*\n     Function that returns the position (relative to the viewport/document.body)\n     the tooltip should be placed in.\n     Should return: {\n        left: <leftPos>,\n        top: <topPos>\n     }\n     */\n    var position = function () {\n        var pos = {\n            left: d3.event !== null ? d3.event.clientX : 0,\n            top: d3.event !== null ? d3.event.clientY : 0\n        };\n        if (getComputedStyle(document.body).transform != 'none') {\n            // Take the offset into account, as now the tooltip is relative\n            // to document.body.\n            var client = document.body.getBoundingClientRect();\n            pos.left -= client.left;\n            pos.top -= client.top;\n        }\n        return pos;\n    };\n    var dataSeriesExists = function (d) {\n        if (d && d.series) {\n            if (nv.utils.isArray(d.series)) {\n                return true;\n            }\n            // if object, it's okay just convert to array of the object\n            if (nv.utils.isObject(d.series)) {\n                d.series = [d.series];\n                return true;\n            }\n        }\n        return false;\n    };\n    // Calculates the gravity offset of the tooltip. Parameter is position of tooltip\n    // relative to the viewport.\n    var calcGravityOffset = function (pos) {\n        var height = tooltip.node().offsetHeight, width = tooltip.node().offsetWidth, clientWidth = document.documentElement.clientWidth, // Don't want scrollbars.\n        clientHeight = document.documentElement.clientHeight, // Don't want scrollbars.\n        left, top, tmp;\n        // calculate position based on gravity\n        switch (gravity) {\n            case 'e':\n                left = -width - distance;\n                top = -(height / 2);\n                if (pos.left + left < 0)\n                    left = distance;\n                if ((tmp = pos.top + top) < 0)\n                    top -= tmp;\n                if ((tmp = pos.top + top + height) > clientHeight)\n                    top -= tmp - clientHeight;\n                break;\n            case 'w':\n                left = distance;\n                top = -(height / 2);\n                if (pos.left + left + width > clientWidth)\n                    left = -width - distance;\n                if ((tmp = pos.top + top) < 0)\n                    top -= tmp;\n                if ((tmp = pos.top + top + height) > clientHeight)\n                    top -= tmp - clientHeight;\n                break;\n            case 'n':\n                left = -(width / 2) - 5; // - 5 is an approximation of the mouse's height.\n                top = distance;\n                if (pos.top + top + height > clientHeight)\n                    top = -height - distance;\n                if ((tmp = pos.left + left) < 0)\n                    left -= tmp;\n                if ((tmp = pos.left + left + width) > clientWidth)\n                    left -= tmp - clientWidth;\n                break;\n            case 's':\n                left = -(width / 2);\n                top = -height - distance;\n                if (pos.top + top < 0)\n                    top = distance;\n                if ((tmp = pos.left + left) < 0)\n                    left -= tmp;\n                if ((tmp = pos.left + left + width) > clientWidth)\n                    left -= tmp - clientWidth;\n                break;\n            case 'center':\n                left = -(width / 2);\n                top = -(height / 2);\n                break;\n            default:\n                left = 0;\n                top = 0;\n                break;\n        }\n        return { 'left': left, 'top': top };\n    };\n    /*\n     Positions the tooltip in the correct place, as given by the position() function.\n     */\n    var positionTooltip = function () {\n        nv.dom.read(function () {\n            var pos = position(), gravityOffset = calcGravityOffset(pos), left = pos.left + gravityOffset.left, top = pos.top + gravityOffset.top;\n            // delay hiding a bit to avoid flickering\n            if (hidden) {\n                tooltip\n                    .interrupt()\n                    .transition()\n                    .delay(hideDelay)\n                    .duration(0)\n                    .style('opacity', 0);\n            }\n            else {\n                // using tooltip.style('transform') returns values un-usable for tween\n                var old_translate = 'translate(' + lastPosition.left + 'px, ' + lastPosition.top + 'px)';\n                var new_translate = 'translate(' + Math.round(left) + 'px, ' + Math.round(top) + 'px)';\n                var translateInterpolator = d3.interpolateString(old_translate, new_translate);\n                var is_hidden = tooltip.style('opacity') < 0.1;\n                tooltip\n                    .interrupt() // cancel running transitions\n                    .transition()\n                    .duration(is_hidden ? 0 : duration)\n                    // using tween since some versions of d3 can't auto-tween a translate on a div\n                    .styleTween('transform', function (d) {\n                    return translateInterpolator;\n                }, 'important')\n                    // Safari has its own `-webkit-transform` and does not support `transform`\n                    .styleTween('-webkit-transform', function (d) {\n                    return translateInterpolator;\n                })\n                    .style('-ms-transform', new_translate)\n                    .style('opacity', 1);\n            }\n            lastPosition.left = left;\n            lastPosition.top = top;\n        });\n    };\n    // Creates new tooltip container, or uses existing one on DOM.\n    function initTooltip() {\n        if (!tooltip || !tooltip.node()) {\n            // Create new tooltip div if it doesn't exist on DOM.\n            var data = [1];\n            tooltip = d3.select(document.body).selectAll('#' + id).data(data);\n            tooltip.enter().append('div')\n                .attr(\"class\", \"nvtooltip \" + (classes ? classes : \"xy-tooltip\"))\n                .attr(\"id\", id)\n                .style(\"top\", 0).style(\"left\", 0)\n                .style('opacity', 0)\n                .style('position', 'absolute')\n                .selectAll(\"div, table, td, tr\").classed(nvPointerEventsClass, true)\n                .classed(nvPointerEventsClass, true);\n            tooltip.exit().remove();\n        }\n    }\n    // Draw the tooltip onto the DOM.\n    function nvtooltip() {\n        if (!enabled)\n            return;\n        if (!dataSeriesExists(data))\n            return;\n        nv.dom.write(function () {\n            initTooltip();\n            // Generate data and set it into tooltip.\n            // Bonus - If you override contentGenerator and return false, you can use something like\n            //         Angular, React or Knockout to bind the data for your tooltip directly to the DOM.\n            var newContent = contentGenerator(data, tooltip.node());\n            if (newContent) {\n                tooltip.node().innerHTML = newContent;\n            }\n            positionTooltip();\n        });\n        return nvtooltip;\n    }\n    nvtooltip.nvPointerEventsClass = nvPointerEventsClass;\n    nvtooltip.options = nv.utils.optionsFunc.bind(nvtooltip);\n    nvtooltip._options = Object.create({}, {\n        // simple read/write options\n        duration: { get: function () { return duration; }, set: function (_) { duration = _; } },\n        gravity: { get: function () { return gravity; }, set: function (_) { gravity = _; } },\n        distance: { get: function () { return distance; }, set: function (_) { distance = _; } },\n        snapDistance: { get: function () { return snapDistance; }, set: function (_) { snapDistance = _; } },\n        classes: { get: function () { return classes; }, set: function (_) { classes = _; } },\n        enabled: { get: function () { return enabled; }, set: function (_) { enabled = _; } },\n        hideDelay: { get: function () { return hideDelay; }, set: function (_) { hideDelay = _; } },\n        contentGenerator: { get: function () { return contentGenerator; }, set: function (_) { contentGenerator = _; } },\n        valueFormatter: { get: function () { return valueFormatter; }, set: function (_) { valueFormatter = _; } },\n        headerFormatter: { get: function () { return headerFormatter; }, set: function (_) { headerFormatter = _; } },\n        keyFormatter: { get: function () { return keyFormatter; }, set: function (_) { keyFormatter = _; } },\n        headerEnabled: { get: function () { return headerEnabled; }, set: function (_) { headerEnabled = _; } },\n        position: { get: function () { return position; }, set: function (_) { position = _; } },\n        // Deprecated options\n        chartContainer: { get: function () { return document.body; }, set: function (_) {\n                // deprecated after 1.8.3\n                nv.deprecated('chartContainer', 'feature removed after 1.8.3');\n            } },\n        fixedTop: { get: function () { return null; }, set: function (_) {\n                // deprecated after 1.8.1\n                nv.deprecated('fixedTop', 'feature removed after 1.8.1');\n            } },\n        offset: { get: function () { return { left: 0, top: 0 }; }, set: function (_) {\n                // deprecated after 1.8.1\n                nv.deprecated('offset', 'use chart.tooltip.distance() instead');\n            } },\n        // options with extra logic\n        hidden: { get: function () { return hidden; }, set: function (_) {\n                if (hidden != _) {\n                    hidden = !!_;\n                    nvtooltip();\n                }\n            } },\n        data: { get: function () { return data; }, set: function (_) {\n                // if showing a single data point, adjust data format with that\n                if (_.point) {\n                    _.value = _.point.x;\n                    _.series = _.series || {};\n                    _.series.value = _.point.y;\n                    _.series.color = _.point.color || _.series.color;\n                }\n                data = _;\n            } },\n        // read only properties\n        node: { get: function () { return tooltip.node(); }, set: function (_) { } },\n        id: { get: function () { return id; }, set: function (_) { } }\n    });\n    nv.utils.initOptions(nvtooltip);\n    return nvtooltip;\n};\n","/*\nGets the browser window size\n\nReturns object with height and width properties\n */\nnv.utils.windowSize = function () {\n    // Sane defaults\n    var size = { width: 640, height: 480 };\n    // Most recent browsers use\n    if (window.innerWidth && window.innerHeight) {\n        size.width = window.innerWidth;\n        size.height = window.innerHeight;\n        return (size);\n    }\n    // IE can use depending on mode it is in\n    if (document.compatMode == 'CSS1Compat' &&\n        document.documentElement &&\n        document.documentElement.offsetWidth) {\n        size.width = document.documentElement.offsetWidth;\n        size.height = document.documentElement.offsetHeight;\n        return (size);\n    }\n    // Earlier IE uses Doc.body\n    if (document.body && document.body.offsetWidth) {\n        size.width = document.body.offsetWidth;\n        size.height = document.body.offsetHeight;\n        return (size);\n    }\n    return (size);\n};\n/* handle dumb browser quirks...  isinstance breaks if you use frames\ntypeof returns 'object' for null, NaN is a number, etc.\n */\nnv.utils.isArray = Array.isArray;\nnv.utils.isObject = function (a) {\n    return a !== null && typeof a === 'object';\n};\nnv.utils.isFunction = function (a) {\n    return typeof a === 'function';\n};\nnv.utils.isDate = function (a) {\n    return toString.call(a) === '[object Date]';\n};\nnv.utils.isNumber = function (a) {\n    return !isNaN(a) && typeof a === 'number';\n};\n/*\nBinds callback function to run when window is resized\n */\nnv.utils.windowResize = function (handler) {\n    if (window.addEventListener) {\n        window.addEventListener('resize', handler);\n    }\n    else {\n        nv.log(\"ERROR: Failed to bind to window.resize with: \", handler);\n    }\n    // return object with clear function to remove the single added callback.\n    return {\n        callback: handler,\n        clear: function () {\n            window.removeEventListener('resize', handler);\n        }\n    };\n};\n/*\nBackwards compatible way to implement more d3-like coloring of graphs.\nCan take in nothing, an array, or a function/scale\nTo use a normal scale, get the range and pass that because we must be able\nto take two arguments and use the index to keep backward compatibility\n*/\nnv.utils.getColor = function (color) {\n    //if you pass in nothing, get default colors back\n    if (color === undefined) {\n        return nv.utils.defaultColor();\n        //if passed an array, turn it into a color scale\n    }\n    else if (nv.utils.isArray(color)) {\n        var color_scale = d3.scale.ordinal().range(color);\n        return function (d, i) {\n            var key = i === undefined ? d : i;\n            return d.color || color_scale(key);\n        };\n        //if passed a function or scale, return it, or whatever it may be\n        //external libs, such as angularjs-nvd3-directives use this\n    }\n    else {\n        //can't really help it if someone passes rubbish as color\n        return color;\n    }\n};\n/*\nDefault color chooser uses a color scale of 20 colors from D3\n https://github.com/mbostock/d3/wiki/Ordinal-Scales#categorical-colors\n */\nnv.utils.defaultColor = function () {\n    // get range of the scale so we'll turn it into our own function.\n    return nv.utils.getColor(d3.scale.category20().range());\n};\n/*\nReturns a color function that takes the result of 'getKey' for each series and\nlooks for a corresponding color from the dictionary\n*/\nnv.utils.customTheme = function (dictionary, getKey, defaultColors) {\n    // use default series.key if getKey is undefined\n    getKey = getKey || function (series) { return series.key; };\n    defaultColors = defaultColors || d3.scale.category20().range();\n    // start at end of default color list and walk back to index 0\n    var defIndex = defaultColors.length;\n    return function (series, index) {\n        var key = getKey(series);\n        if (nv.utils.isFunction(dictionary[key])) {\n            return dictionary[key]();\n        }\n        else if (dictionary[key] !== undefined) {\n            return dictionary[key];\n        }\n        else {\n            // no match in dictionary, use a default color\n            if (!defIndex) {\n                // used all the default colors, start over\n                defIndex = defaultColors.length;\n            }\n            defIndex = defIndex - 1;\n            return defaultColors[defIndex];\n        }\n    };\n};\n/*\nFrom the PJAX example on d3js.org, while this is not really directly needed\nit's a very cool method for doing pjax, I may expand upon it a little bit,\nopen to suggestions on anything that may be useful\n*/\nnv.utils.pjax = function (links, content) {\n    var load = function (href) {\n        d3.html(href, function (fragment) {\n            var target = d3.select(content).node();\n            target.parentNode.replaceChild(d3.select(fragment).select(content).node(), target);\n            nv.utils.pjax(links, content);\n        });\n    };\n    d3.selectAll(links).on(\"click\", function () {\n        history.pushState(this.href, this.textContent, this.href);\n        load(this.href);\n        d3.event.preventDefault();\n    });\n    d3.select(window).on(\"popstate\", function () {\n        if (d3.event.state) {\n            load(d3.event.state);\n        }\n    });\n};\n/*\nFor when we want to approximate the width in pixels for an SVG:text element.\nMost common instance is when the element is in a display:none; container.\nForumla is : text.length * font-size * constant_factor\n*/\nnv.utils.calcApproxTextWidth = function (svgTextElem) {\n    if (nv.utils.isFunction(svgTextElem.style) && nv.utils.isFunction(svgTextElem.text)) {\n        var fontSize = parseInt(svgTextElem.style(\"font-size\").replace(\"px\", \"\"), 10);\n        var textLength = svgTextElem.text().length;\n        return nv.utils.NaNtoZero(textLength * fontSize * 0.5);\n    }\n    return 0;\n};\n/*\nNumbers that are undefined, null or NaN, convert them to zeros.\n*/\nnv.utils.NaNtoZero = function (n) {\n    if (!nv.utils.isNumber(n)\n        || isNaN(n)\n        || n === null\n        || n === Infinity\n        || n === -Infinity) {\n        return 0;\n    }\n    return n;\n};\n/*\nAdd a way to watch for d3 transition ends to d3\n*/\nd3.selection.prototype.watchTransition = function (renderWatch) {\n    var args = [this].concat([].slice.call(arguments, 1));\n    return renderWatch.transition.apply(renderWatch, args);\n};\n/*\nHelper object to watch when d3 has rendered something\n*/\nnv.utils.renderWatch = function (dispatch, duration) {\n    if (!(this instanceof nv.utils.renderWatch)) {\n        return new nv.utils.renderWatch(dispatch, duration);\n    }\n    var _duration = duration !== undefined ? duration : 250;\n    var renderStack = [];\n    var self = this;\n    this.models = function (models) {\n        models = [].slice.call(arguments, 0);\n        models.forEach(function (model) {\n            model.__rendered = false;\n            (function (m) {\n                m.dispatch.on('renderEnd', function (arg) {\n                    m.__rendered = true;\n                    self.renderEnd('model');\n                });\n            })(model);\n            if (renderStack.indexOf(model) < 0) {\n                renderStack.push(model);\n            }\n        });\n        return this;\n    };\n    this.reset = function (duration) {\n        if (duration !== undefined) {\n            _duration = duration;\n        }\n        renderStack = [];\n    };\n    this.transition = function (selection, args, duration) {\n        args = arguments.length > 1 ? [].slice.call(arguments, 1) : [];\n        if (args.length > 1) {\n            duration = args.pop();\n        }\n        else {\n            duration = _duration !== undefined ? _duration : 250;\n        }\n        selection.__rendered = false;\n        if (renderStack.indexOf(selection) < 0) {\n            renderStack.push(selection);\n        }\n        if (duration === 0) {\n            selection.__rendered = true;\n            selection.delay = function () { return this; };\n            selection.duration = function () { return this; };\n            return selection;\n        }\n        else {\n            if (selection.length === 0) {\n                selection.__rendered = true;\n            }\n            else if (selection.every(function (d) { return !d.length; })) {\n                selection.__rendered = true;\n            }\n            else {\n                selection.__rendered = false;\n            }\n            var n = 0;\n            return selection\n                .transition()\n                .duration(duration)\n                .each(function () { ++n; })\n                .each('end', function (d, i) {\n                if (--n === 0) {\n                    selection.__rendered = true;\n                    self.renderEnd.apply(this, args);\n                }\n            });\n        }\n    };\n    this.renderEnd = function () {\n        if (renderStack.every(function (d) { return d.__rendered; })) {\n            renderStack.forEach(function (d) { d.__rendered = false; });\n            dispatch.renderEnd.apply(this, arguments);\n        }\n    };\n};\n/*\nTakes multiple objects and combines them into the first one (dst)\nexample:  nv.utils.deepExtend({a: 1}, {a: 2, b: 3}, {c: 4});\ngives:  {a: 2, b: 3, c: 4}\n*/\nnv.utils.deepExtend = function (dst) {\n    var sources = arguments.length > 1 ? [].slice.call(arguments, 1) : [];\n    sources.forEach(function (source) {\n        for (var key in source) {\n            var isArray = nv.utils.isArray(dst[key]);\n            var isObject = nv.utils.isObject(dst[key]);\n            var srcObj = nv.utils.isObject(source[key]);\n            if (isObject && !isArray && srcObj) {\n                nv.utils.deepExtend(dst[key], source[key]);\n            }\n            else {\n                dst[key] = source[key];\n            }\n        }\n    });\n};\n/*\nstate utility object, used to track d3 states in the models\n*/\nnv.utils.state = function () {\n    if (!(this instanceof nv.utils.state)) {\n        return new nv.utils.state();\n    }\n    var state = {};\n    var _self = this;\n    var _setState = function () { };\n    var _getState = function () { return {}; };\n    var init = null;\n    var changed = null;\n    this.dispatch = d3.dispatch('change', 'set');\n    this.dispatch.on('set', function (state) {\n        _setState(state, true);\n    });\n    this.getter = function (fn) {\n        _getState = fn;\n        return this;\n    };\n    this.setter = function (fn, callback) {\n        if (!callback) {\n            callback = function () { };\n        }\n        _setState = function (state, update) {\n            fn(state);\n            if (update) {\n                callback();\n            }\n        };\n        return this;\n    };\n    this.init = function (state) {\n        init = init || {};\n        nv.utils.deepExtend(init, state);\n    };\n    var _set = function () {\n        var settings = _getState();\n        if (JSON.stringify(settings) === JSON.stringify(state)) {\n            return false;\n        }\n        for (var key in settings) {\n            if (state[key] === undefined) {\n                state[key] = {};\n            }\n            state[key] = settings[key];\n            changed = true;\n        }\n        return true;\n    };\n    this.update = function () {\n        if (init) {\n            _setState(init, false);\n            init = null;\n        }\n        if (_set.call(this)) {\n            this.dispatch.change(state);\n        }\n    };\n};\n/*\nSnippet of code you can insert into each nv.models.* to give you the ability to\ndo things like:\nchart.options({\n  showXAxis: true,\n  tooltips: true\n});\n\nTo enable in the chart:\nchart.options = nv.utils.optionsFunc.bind(chart);\n*/\nnv.utils.optionsFunc = function (args) {\n    if (args) {\n        d3.map(args).forEach((function (key, value) {\n            if (nv.utils.isFunction(this[key])) {\n                this[key](value);\n            }\n        }).bind(this));\n    }\n    return this;\n};\n/*\nnumTicks:  requested number of ticks\ndata:  the chart data\n\nreturns the number of ticks to actually use on X axis, based on chart data\nto avoid duplicate ticks with the same value\n*/\nnv.utils.calcTicksX = function (numTicks, data) {\n    // find max number of values from all data streams\n    var numValues = 1;\n    var i = 0;\n    for (i; i < data.length; i += 1) {\n        var stream_len = data[i] && data[i].values ? data[i].values.length : 0;\n        numValues = stream_len > numValues ? stream_len : numValues;\n    }\n    nv.log(\"Requested number of ticks: \", numTicks);\n    nv.log(\"Calculated max values to be: \", numValues);\n    // make sure we don't have more ticks than values to avoid duplicates\n    numTicks = numTicks > numValues ? numTicks = numValues - 1 : numTicks;\n    // make sure we have at least one tick\n    numTicks = numTicks < 1 ? 1 : numTicks;\n    // make sure it's an integer\n    numTicks = Math.floor(numTicks);\n    nv.log(\"Calculating tick count as: \", numTicks);\n    return numTicks;\n};\n/*\n returns number of ticks to actually use on Y axis, based on chart data\n */\nnv.utils.calcTicksY = function (numTicks, data, getY) {\n    if (getY) {\n        // find max number of values from all data streams\n        var numValues = 1;\n        for (var i = 0; i < data.length; i += 1) {\n            var values = data[i] && data[i].values ? data[i].values : [];\n            var maxValue;\n            for (var j = 0; j < values.length; j += 1) {\n                maxValue = values[j] && getY(values[j]) ? getY(values[j]) : 0;\n                numValues = maxValue > numValues ? maxValue : numValues;\n            }\n        }\n        nv.log(\"Requested number of ticks: \", numTicks);\n        nv.log(\"Calculated max values to be: \", numValues);\n        // make sure we don't have more ticks than values to avoid duplicates\n        numTicks = numTicks > numValues ? numValues - 1 : numTicks;\n        // make sure we have at least one tick\n        numTicks = numTicks < 1 ? 1 : numTicks;\n        // make sure it's an integer\n        numTicks = Math.floor(numTicks);\n        nv.log(\"Calculating tick count as: \", numTicks);\n        return numTicks;\n    }\n    else {\n        return nv.utils.calcTicksX(numTicks, data);\n    }\n};\n/*\nAdd a particular option from an options object onto chart\nOptions exposed on a chart are a getter/setter function that returns chart\non set to mimic typical d3 option chaining, e.g. svg.option1('a').option2('b');\n\noption objects should be generated via Object.create() to provide\nthe option of manipulating data via get/set functions.\n*/\nnv.utils.initOption = function (chart, name) {\n    // if it's a call option, just call it directly, otherwise do get/set\n    if (chart._calls && chart._calls[name]) {\n        chart[name] = chart._calls[name];\n    }\n    else {\n        chart[name] = function (_) {\n            if (!arguments.length)\n                return chart._options[name];\n            chart._overrides[name] = true;\n            chart._options[name] = _;\n            return chart;\n        };\n        // calling the option as _option will ignore if set by option already\n        // so nvd3 can set options internally but the stop if set manually\n        chart['_' + name] = function (_) {\n            if (!arguments.length)\n                return chart._options[name];\n            if (!chart._overrides[name]) {\n                chart._options[name] = _;\n            }\n            return chart;\n        };\n    }\n};\n/*\nAdd all options in an options object to the chart\n*/\nnv.utils.initOptions = function (chart) {\n    chart._overrides = chart._overrides || {};\n    var ops = Object.getOwnPropertyNames(chart._options || {});\n    var calls = Object.getOwnPropertyNames(chart._calls || {});\n    ops = ops.concat(calls);\n    for (var i in ops) {\n        nv.utils.initOption(chart, ops[i]);\n    }\n};\n/*\nInherit options from a D3 object\nd3.rebind makes calling the function on target actually call it on source\nAlso use _d3options so we can track what we inherit for documentation and chained inheritance\n*/\nnv.utils.inheritOptionsD3 = function (target, d3_source, oplist) {\n    target._d3options = oplist.concat(target._d3options || []);\n    // Find unique d3 options (string) and update d3options\n    target._d3options = (target._d3options || []).filter(function (item, i, ar) { return ar.indexOf(item) === i; });\n    oplist.unshift(d3_source);\n    oplist.unshift(target);\n    d3.rebind.apply(this, oplist);\n};\n/*\nRemove duplicates from an array\n*/\nnv.utils.arrayUnique = function (a) {\n    return a.sort().filter(function (item, pos) {\n        return !pos || item != a[pos - 1];\n    });\n};\n/*\nKeeps a list of custom symbols to draw from in addition to d3.svg.symbol\nNecessary since d3 doesn't let you extend its list -_-\nAdd new symbols by doing nv.utils.symbols.set('name', function(size){...});\n*/\nnv.utils.symbolMap = d3.map();\n/*\nReplaces d3.svg.symbol so that we can look both there and our own map\n */\nnv.utils.symbol = function () {\n    var type, size = 64;\n    function symbol(d, i) {\n        var t = type.call(this, d, i);\n        var s = size.call(this, d, i);\n        if (d3.svg.symbolTypes.indexOf(t) !== -1) {\n            return d3.svg.symbol().type(t).size(s)();\n        }\n        else {\n            return nv.utils.symbolMap.get(t)(s);\n        }\n    }\n    symbol.type = function (_) {\n        if (!arguments.length)\n            return type;\n        type = d3.functor(_);\n        return symbol;\n    };\n    symbol.size = function (_) {\n        if (!arguments.length)\n            return size;\n        size = d3.functor(_);\n        return symbol;\n    };\n    return symbol;\n};\n/*\nInherit option getter/setter functions from source to target\nd3.rebind makes calling the function on target actually call it on source\nAlso track via _inherited and _d3options so we can track what we inherit\nfor documentation generation purposes and chained inheritance\n*/\nnv.utils.inheritOptions = function (target, source) {\n    // inherit all the things\n    var ops = Object.getOwnPropertyNames(source._options || {});\n    var calls = Object.getOwnPropertyNames(source._calls || {});\n    var inherited = source._inherited || [];\n    var d3ops = source._d3options || [];\n    var args = ops.concat(calls).concat(inherited).concat(d3ops);\n    args.unshift(source);\n    args.unshift(target);\n    d3.rebind.apply(this, args);\n    // pass along the lists to keep track of them, don't allow duplicates\n    target._inherited = nv.utils.arrayUnique(ops.concat(calls).concat(inherited).concat(ops).concat(target._inherited || []));\n    target._d3options = nv.utils.arrayUnique(d3ops.concat(target._d3options || []));\n};\n/*\nRuns common initialize code on the svg before the chart builds\n*/\nnv.utils.initSVG = function (svg) {\n    svg.classed({ 'nvd3-svg': true });\n};\n/*\nSanitize and provide default for the container height.\n*/\nnv.utils.sanitizeHeight = function (height, container) {\n    return (height || parseInt(container.style('height'), 10) || 400);\n};\n/*\nSanitize and provide default for the container width.\n*/\nnv.utils.sanitizeWidth = function (width, container) {\n    return (width || parseInt(container.style('width'), 10) || 960);\n};\n/*\nCalculate the available height for a chart.\n*/\nnv.utils.availableHeight = function (height, container, margin) {\n    return Math.max(0, nv.utils.sanitizeHeight(height, container) - margin.top - margin.bottom);\n};\n/*\nCalculate the available width for a chart.\n*/\nnv.utils.availableWidth = function (width, container, margin) {\n    return Math.max(0, nv.utils.sanitizeWidth(width, container) - margin.left - margin.right);\n};\n/*\nClear any rendered chart components and display a chart's 'noData' message\n*/\nnv.utils.noData = function (chart, container) {\n    var opt = chart.options(), margin = opt.margin(), noData = opt.noData(), data = (noData == null) ? [\"No Data Available.\"] : [noData], height = nv.utils.availableHeight(null, container, margin), width = nv.utils.availableWidth(null, container, margin), x = margin.left + width / 2, y = margin.top + height / 2;\n    //Remove any previously created chart components\n    container.selectAll('g').remove();\n    var noDataText = container.selectAll('.nv-noData').data(data);\n    noDataText.enter().append('text')\n        .attr('class', 'nvd3 nv-noData')\n        .attr('dy', '-.7em')\n        .style('text-anchor', 'middle');\n    noDataText\n        .attr('x', x)\n        .attr('y', y)\n        .text(function (t) { return t; });\n};\n/*\n Wrap long labels.\n */\nnv.utils.wrapTicks = function (text, width) {\n    text.each(function () {\n        var text = d3.select(this), words = text.text().split(/\\s+/).reverse(), word, line = [], lineNumber = 0, lineHeight = 1.1, y = text.attr(\"y\"), dy = parseFloat(text.attr(\"dy\")), tspan = text.text(null).append(\"tspan\").attr(\"x\", 0).attr(\"y\", y).attr(\"dy\", dy + \"em\");\n        while (word = words.pop()) {\n            line.push(word);\n            tspan.text(line.join(\" \"));\n            if (tspan.node().getComputedTextLength() > width) {\n                line.pop();\n                tspan.text(line.join(\" \"));\n                line = [word];\n                tspan = text.append(\"tspan\").attr(\"x\", 0).attr(\"y\", y).attr(\"dy\", ++lineNumber * lineHeight + dy + \"em\").text(word);\n            }\n        }\n    });\n};\n/*\nCheck equality of 2 array\n*/\nnv.utils.arrayEquals = function (array1, array2) {\n    if (array1 === array2)\n        return true;\n    if (!array1 || !array2)\n        return false;\n    // compare lengths - can save a lot of time\n    if (array1.length != array2.length)\n        return false;\n    for (var i = 0, l = array1.length; i < l; i++) {\n        // Check if we have nested arrays\n        if (array1[i] instanceof Array && array2[i] instanceof Array) {\n            // recurse into the nested arrays\n            if (!nv.arrayEquals(array1[i], array2[i]))\n                return false;\n        }\n        else if (array1[i] != array2[i]) {\n            // Warning - two different object instances will never be equal: {x:20} != {x:20}\n            return false;\n        }\n    }\n    return true;\n};\n/*\n Check if a point within an arc\n */\nnv.utils.pointIsInArc = function (pt, ptData, d3Arc) {\n    // Center of the arc is assumed to be 0,0\n    // (pt.x, pt.y) are assumed to be relative to the center\n    var r1 = d3Arc.innerRadius()(ptData), // Note: Using the innerRadius\n    r2 = d3Arc.outerRadius()(ptData), theta1 = d3Arc.startAngle()(ptData), theta2 = d3Arc.endAngle()(ptData);\n    var dist = pt.x * pt.x + pt.y * pt.y, angle = Math.atan2(pt.x, -pt.y); // Note: different coordinate system.\n    angle = (angle < 0) ? (angle + Math.PI * 2) : angle;\n    return (r1 * r1 <= dist) && (dist <= r2 * r2) &&\n        (theta1 <= angle) && (angle <= theta2);\n};\n","nv.models.axis = function () {\n    \"use strict\";\n    //============================================================\n    // Public Variables with Default Settings\n    //------------------------------------------------------------\n    var axis = d3.svg.axis();\n    var scale = d3.scale.linear();\n    var margin = { top: 0, right: 0, bottom: 0, left: 0 }, width = 75 //only used for tickLabel currently\n    , height = 60 //only used for tickLabel currently\n    , axisLabelText = null, showMaxMin = true //TODO: showMaxMin should be disabled on all ordinal scaled axes\n    , rotateLabels = 0, rotateYLabel = true, staggerLabels = false, isOrdinal = false, ticks = null, axisLabelDistance = 0, fontSize = undefined, duration = 250, dispatch = d3.dispatch('renderEnd'), tickFormatMaxMin;\n    axis\n        .scale(scale)\n        .orient('bottom')\n        .tickFormat(function (d) { return d; });\n    //============================================================\n    // Private Variables\n    //------------------------------------------------------------\n    var scale0;\n    var renderWatch = nv.utils.renderWatch(dispatch, duration);\n    function chart(selection) {\n        renderWatch.reset();\n        selection.each(function (data) {\n            var container = d3.select(this);\n            nv.utils.initSVG(container);\n            // Setup containers and skeleton of chart\n            var wrap = container.selectAll('g.nv-wrap.nv-axis').data([data]);\n            var wrapEnter = wrap.enter().append('g').attr('class', 'nvd3 nv-wrap nv-axis');\n            var gEnter = wrapEnter.append('g');\n            var g = wrap.select('g');\n            if (ticks !== null)\n                axis.ticks(ticks);\n            else if (axis.orient() == 'top' || axis.orient() == 'bottom')\n                axis.ticks(Math.abs(scale.range()[1] - scale.range()[0]) / 100);\n            //TODO: consider calculating width/height based on whether or not label is added, for reference in charts using this component\n            g.watchTransition(renderWatch, 'axis').call(axis);\n            scale0 = scale0 || axis.scale();\n            var fmt = axis.tickFormat();\n            if (fmt == null) {\n                fmt = scale0.tickFormat();\n            }\n            var axisLabel = g.selectAll('text.nv-axislabel')\n                .data([axisLabelText || null]);\n            axisLabel.exit().remove();\n            //only skip when fontSize is undefined so it can be cleared with a null or blank string\n            if (fontSize !== undefined) {\n                g.selectAll('g').select(\"text\").style('font-size', fontSize);\n            }\n            var xLabelMargin;\n            var axisMaxMin;\n            var w;\n            switch (axis.orient()) {\n                case 'top':\n                    xLabelMargin = axisLabelDistance + 36;\n                    axisLabel.enter().append('text').attr('class', 'nv-axislabel');\n                    w = 0;\n                    if (scale.range().length === 1) {\n                        w = isOrdinal ? scale.range()[0] * 2 + scale.rangeBand() : 0;\n                    }\n                    else if (scale.range().length === 2) {\n                        w = isOrdinal ? scale.range()[0] + scale.range()[1] + scale.rangeBand() : scale.range()[1];\n                    }\n                    else if (scale.range().length > 2) {\n                        w = scale.range()[scale.range().length - 1] + (scale.range()[1] - scale.range()[0]);\n                    }\n                    ;\n                    axisLabel\n                        .attr('text-anchor', 'middle')\n                        .attr('y', -xLabelMargin)\n                        .attr('x', w / 2);\n                    if (showMaxMin) {\n                        axisMaxMin = wrap.selectAll('g.nv-axisMaxMin')\n                            .data(scale.domain());\n                        axisMaxMin.enter().append('g').attr('class', function (d, i) {\n                            return ['nv-axisMaxMin', 'nv-axisMaxMin-x', (i == 0 ? 'nv-axisMin-x' : 'nv-axisMax-x')].join(' ');\n                        }).append('text');\n                        axisMaxMin.exit().remove();\n                        axisMaxMin\n                            .attr('transform', function (d, i) {\n                            return 'translate(' + nv.utils.NaNtoZero(scale(d)) + ',0)';\n                        })\n                            .select('text')\n                            .attr('dy', '-0.5em')\n                            .attr('y', -axis.tickPadding())\n                            .attr('text-anchor', 'middle')\n                            .text(function (d, i) {\n                            var formatter = tickFormatMaxMin || fmt;\n                            var v = formatter(d);\n                            return ('' + v).match('NaN') ? '' : v;\n                        });\n                        axisMaxMin.watchTransition(renderWatch, 'min-max top')\n                            .attr('transform', function (d, i) {\n                            return 'translate(' + nv.utils.NaNtoZero(scale.range()[i]) + ',0)';\n                        });\n                    }\n                    break;\n                case 'bottom':\n                    xLabelMargin = axisLabelDistance + 36;\n                    var maxTextWidth = 30;\n                    var textHeight = 0;\n                    var xTicks = g.selectAll('g').select(\"text\");\n                    var rotateLabelsRule = '';\n                    if (rotateLabels % 360) {\n                        //Reset transform on ticks so textHeight can be calculated correctly\n                        xTicks.attr('transform', '');\n                        //Calculate the longest xTick width\n                        xTicks.each(function (d, i) {\n                            var box = this.getBoundingClientRect();\n                            var width = box.width;\n                            textHeight = box.height;\n                            if (width > maxTextWidth)\n                                maxTextWidth = width;\n                        });\n                        rotateLabelsRule = 'rotate(' + rotateLabels + ' 0,' + (textHeight / 2 + axis.tickPadding()) + ')';\n                        //Convert to radians before calculating sin. Add 30 to margin for healthy padding.\n                        var sin = Math.abs(Math.sin(rotateLabels * Math.PI / 180));\n                        xLabelMargin = (sin ? sin * maxTextWidth : maxTextWidth) + 30;\n                        //Rotate all xTicks\n                        xTicks\n                            .attr('transform', rotateLabelsRule)\n                            .style('text-anchor', rotateLabels % 360 > 0 ? 'start' : 'end');\n                    }\n                    else {\n                        if (staggerLabels) {\n                            xTicks\n                                .attr('transform', function (d, i) {\n                                return 'translate(0,' + (i % 2 == 0 ? '0' : '12') + ')';\n                            });\n                        }\n                        else {\n                            xTicks.attr('transform', \"translate(0,0)\");\n                        }\n                    }\n                    axisLabel.enter().append('text').attr('class', 'nv-axislabel');\n                    w = 0;\n                    if (scale.range().length === 1) {\n                        w = isOrdinal ? scale.range()[0] * 2 + scale.rangeBand() : 0;\n                    }\n                    else if (scale.range().length === 2) {\n                        w = isOrdinal ? scale.range()[0] + scale.range()[1] + scale.rangeBand() : scale.range()[1];\n                    }\n                    else if (scale.range().length > 2) {\n                        w = scale.range()[scale.range().length - 1] + (scale.range()[1] - scale.range()[0]);\n                    }\n                    ;\n                    axisLabel\n                        .attr('text-anchor', 'middle')\n                        .attr('y', xLabelMargin)\n                        .attr('x', w / 2);\n                    if (showMaxMin) {\n                        //if (showMaxMin && !isOrdinal) {\n                        axisMaxMin = wrap.selectAll('g.nv-axisMaxMin')\n                            //.data(scale.domain())\n                            .data([scale.domain()[0], scale.domain()[scale.domain().length - 1]]);\n                        axisMaxMin.enter().append('g').attr('class', function (d, i) {\n                            return ['nv-axisMaxMin', 'nv-axisMaxMin-x', (i == 0 ? 'nv-axisMin-x' : 'nv-axisMax-x')].join(' ');\n                        }).append('text');\n                        axisMaxMin.exit().remove();\n                        axisMaxMin\n                            .attr('transform', function (d, i) {\n                            return 'translate(' + nv.utils.NaNtoZero((scale(d) + (isOrdinal ? scale.rangeBand() / 2 : 0))) + ',0)';\n                        })\n                            .select('text')\n                            .attr('dy', '.71em')\n                            .attr('y', axis.tickPadding())\n                            .attr('transform', rotateLabelsRule)\n                            .style('text-anchor', rotateLabels ? (rotateLabels % 360 > 0 ? 'start' : 'end') : 'middle')\n                            .text(function (d, i) {\n                            var formatter = tickFormatMaxMin || fmt;\n                            var v = formatter(d);\n                            return ('' + v).match('NaN') ? '' : v;\n                        });\n                        axisMaxMin.watchTransition(renderWatch, 'min-max bottom')\n                            .attr('transform', function (d, i) {\n                            return 'translate(' + nv.utils.NaNtoZero((scale(d) + (isOrdinal ? scale.rangeBand() / 2 : 0))) + ',0)';\n                        });\n                    }\n                    break;\n                case 'right':\n                    axisLabel.enter().append('text').attr('class', 'nv-axislabel');\n                    axisLabel\n                        .style('text-anchor', rotateYLabel ? 'middle' : 'begin')\n                        .attr('transform', rotateYLabel ? 'rotate(90)' : '')\n                        .attr('y', rotateYLabel ? (-Math.max(margin.right, width) + 12 - (axisLabelDistance || 0)) : -10) //TODO: consider calculating this based on largest tick width... OR at least expose this on chart\n                        .attr('x', rotateYLabel ? (d3.max(scale.range()) / 2) : axis.tickPadding());\n                    if (showMaxMin) {\n                        axisMaxMin = wrap.selectAll('g.nv-axisMaxMin')\n                            .data(scale.domain());\n                        axisMaxMin.enter().append('g').attr('class', function (d, i) {\n                            return ['nv-axisMaxMin', 'nv-axisMaxMin-y', (i == 0 ? 'nv-axisMin-y' : 'nv-axisMax-y')].join(' ');\n                        }).append('text')\n                            .style('opacity', 0);\n                        axisMaxMin.exit().remove();\n                        axisMaxMin\n                            .attr('transform', function (d, i) {\n                            return 'translate(0,' + nv.utils.NaNtoZero(scale(d)) + ')';\n                        })\n                            .select('text')\n                            .attr('dy', '.32em')\n                            .attr('y', 0)\n                            .attr('x', axis.tickPadding())\n                            .style('text-anchor', 'start')\n                            .text(function (d, i) {\n                            var formatter = tickFormatMaxMin || fmt;\n                            var v = formatter(d);\n                            return ('' + v).match('NaN') ? '' : v;\n                        });\n                        axisMaxMin.watchTransition(renderWatch, 'min-max right')\n                            .attr('transform', function (d, i) {\n                            return 'translate(0,' + nv.utils.NaNtoZero(scale.range()[i]) + ')';\n                        })\n                            .select('text')\n                            .style('opacity', 1);\n                    }\n                    break;\n                case 'left':\n                    /*\n                     //For dynamically placing the label. Can be used with dynamically-sized chart axis margins\n                     var yTicks = g.selectAll('g').select(\"text\");\n                     yTicks.each(function(d,i){\n                     var labelPadding = this.getBoundingClientRect().width + axis.tickPadding() + 16;\n                     if(labelPadding > width) width = labelPadding;\n                     });\n                     */\n                    axisLabel.enter().append('text').attr('class', 'nv-axislabel');\n                    axisLabel\n                        .style('text-anchor', rotateYLabel ? 'middle' : 'end')\n                        .attr('transform', rotateYLabel ? 'rotate(-90)' : '')\n                        .attr('y', rotateYLabel ? (-Math.max(margin.left, width) + 25 - (axisLabelDistance || 0)) : -10)\n                        .attr('x', rotateYLabel ? (-d3.max(scale.range()) / 2) : -axis.tickPadding());\n                    if (showMaxMin) {\n                        axisMaxMin = wrap.selectAll('g.nv-axisMaxMin')\n                            .data(scale.domain());\n                        axisMaxMin.enter().append('g').attr('class', function (d, i) {\n                            return ['nv-axisMaxMin', 'nv-axisMaxMin-y', (i == 0 ? 'nv-axisMin-y' : 'nv-axisMax-y')].join(' ');\n                        }).append('text')\n                            .style('opacity', 0);\n                        axisMaxMin.exit().remove();\n                        axisMaxMin\n                            .attr('transform', function (d, i) {\n                            return 'translate(0,' + nv.utils.NaNtoZero(scale0(d)) + ')';\n                        })\n                            .select('text')\n                            .attr('dy', '.32em')\n                            .attr('y', 0)\n                            .attr('x', -axis.tickPadding())\n                            .attr('text-anchor', 'end')\n                            .text(function (d, i) {\n                            var formatter = tickFormatMaxMin || fmt;\n                            var v = formatter(d);\n                            return ('' + v).match('NaN') ? '' : v;\n                        });\n                        axisMaxMin.watchTransition(renderWatch, 'min-max right')\n                            .attr('transform', function (d, i) {\n                            return 'translate(0,' + nv.utils.NaNtoZero(scale.range()[i]) + ')';\n                        })\n                            .select('text')\n                            .style('opacity', 1);\n                    }\n                    break;\n            }\n            axisLabel.text(function (d) { return d; });\n            if (showMaxMin && (axis.orient() === 'left' || axis.orient() === 'right')) {\n                //check if max and min overlap other values, if so, hide the values that overlap\n                g.selectAll('g') // the g's wrapping each tick\n                    .each(function (d, i) {\n                    d3.select(this).select('text').attr('opacity', 1);\n                    if (scale(d) < scale.range()[1] + 10 || scale(d) > scale.range()[0] - 10) { // 10 is assuming text height is 16... if d is 0, leave it!\n                        if (d > 1e-10 || d < -1e-10) // accounts for minor floating point errors... though could be problematic if the scale is EXTREMELY SMALL\n                            d3.select(this).attr('opacity', 0);\n                        d3.select(this).select('text').attr('opacity', 0); // Don't remove the ZERO line!!\n                    }\n                });\n                //if Max and Min = 0 only show min, Issue #281\n                if (scale.domain()[0] == scale.domain()[1] && scale.domain()[0] == 0) {\n                    wrap.selectAll('g.nv-axisMaxMin').style('opacity', function (d, i) {\n                        return !i ? 1 : 0;\n                    });\n                }\n            }\n            if (showMaxMin && (axis.orient() === 'top' || axis.orient() === 'bottom')) {\n                var maxMinRange = [];\n                wrap.selectAll('g.nv-axisMaxMin')\n                    .each(function (d, i) {\n                    try {\n                        if (i) // i== 1, max position\n                            maxMinRange.push(scale(d) - this.getBoundingClientRect().width - 4); //assuming the max and min labels are as wide as the next tick (with an extra 4 pixels just in case)\n                        else // i==0, min position\n                            maxMinRange.push(scale(d) + this.getBoundingClientRect().width + 4);\n                    }\n                    catch (err) {\n                        if (i) // i== 1, max position\n                            maxMinRange.push(scale(d) - 4); //assuming the max and min labels are as wide as the next tick (with an extra 4 pixels just in case)\n                        else // i==0, min position\n                            maxMinRange.push(scale(d) + 4);\n                    }\n                });\n                // the g's wrapping each tick\n                g.selectAll('g').each(function (d, i) {\n                    if (scale(d) < maxMinRange[0] || scale(d) > maxMinRange[1]) {\n                        if (d > 1e-10 || d < -1e-10) // accounts for minor floating point errors... though could be problematic if the scale is EXTREMELY SMALL\n                            d3.select(this).remove();\n                        else\n                            d3.select(this).select('text').remove(); // Don't remove the ZERO line!!\n                    }\n                });\n            }\n            //Highlight zero tick line\n            g.selectAll('.tick')\n                .filter(function (d) {\n                /*\n                The filter needs to return only ticks at or near zero.\n                Numbers like 0.00001 need to count as zero as well,\n                and the arithmetic trick below solves that.\n                */\n                return !parseFloat(Math.round(d * 100000) / 1000000) && (d !== undefined);\n            })\n                .classed('zero', true);\n            //store old scales for use in transitions on update\n            scale0 = scale.copy();\n        });\n        renderWatch.renderEnd('axis immediate');\n        return chart;\n    }\n    //============================================================\n    // Expose Public Variables\n    //------------------------------------------------------------\n    // expose chart's sub-components\n    chart.axis = axis;\n    chart.dispatch = dispatch;\n    chart.options = nv.utils.optionsFunc.bind(chart);\n    chart._options = Object.create({}, {\n        // simple options, just get/set the necessary values\n        axisLabelDistance: { get: function () { return axisLabelDistance; }, set: function (_) { axisLabelDistance = _; } },\n        staggerLabels: { get: function () { return staggerLabels; }, set: function (_) { staggerLabels = _; } },\n        rotateLabels: { get: function () { return rotateLabels; }, set: function (_) { rotateLabels = _; } },\n        rotateYLabel: { get: function () { return rotateYLabel; }, set: function (_) { rotateYLabel = _; } },\n        showMaxMin: { get: function () { return showMaxMin; }, set: function (_) { showMaxMin = _; } },\n        axisLabel: { get: function () { return axisLabelText; }, set: function (_) { axisLabelText = _; } },\n        height: { get: function () { return height; }, set: function (_) { height = _; } },\n        ticks: { get: function () { return ticks; }, set: function (_) { ticks = _; } },\n        width: { get: function () { return width; }, set: function (_) { width = _; } },\n        fontSize: { get: function () { return fontSize; }, set: function (_) { fontSize = _; } },\n        tickFormatMaxMin: { get: function () { return tickFormatMaxMin; }, set: function (_) { tickFormatMaxMin = _; } },\n        // options that require extra logic in the setter\n        margin: { get: function () { return margin; }, set: function (_) {\n                margin.top = _.top !== undefined ? _.top : margin.top;\n                margin.right = _.right !== undefined ? _.right : margin.right;\n                margin.bottom = _.bottom !== undefined ? _.bottom : margin.bottom;\n                margin.left = _.left !== undefined ? _.left : margin.left;\n            } },\n        duration: { get: function () { return duration; }, set: function (_) {\n                duration = _;\n                renderWatch.reset(duration);\n            } },\n        scale: { get: function () { return scale; }, set: function (_) {\n                scale = _;\n                axis.scale(scale);\n                isOrdinal = typeof scale.rangeBands === 'function';\n                nv.utils.inheritOptionsD3(chart, scale, ['domain', 'range', 'rangeBand', 'rangeBands']);\n            } }\n    });\n    nv.utils.initOptions(chart);\n    nv.utils.inheritOptionsD3(chart, axis, ['orient', 'tickValues', 'tickSubdivide', 'tickSize', 'tickPadding', 'tickFormat']);\n    nv.utils.inheritOptionsD3(chart, scale, ['domain', 'range', 'rangeBand', 'rangeBands']);\n    return chart;\n};\n","nv.models.boxPlot = function () {\n    \"use strict\";\n    //============================================================\n    // Public Variables with Default Settings\n    //------------------------------------------------------------\n    var margin = { top: 0, right: 0, bottom: 0, left: 0 }, width = 960, height = 500, id = Math.floor(Math.random() * 10000), // Create semi-unique ID in case user doesn't select one\n    xScale = d3.scale.ordinal(), yScale = d3.scale.linear(), getX = function (d) { return d.label; }, // Default data model selectors.\n    getQ1 = function (d) { return d.values.Q1; }, getQ2 = function (d) { return d.values.Q2; }, getQ3 = function (d) { return d.values.Q3; }, getWl = function (d) { return d.values.whisker_low; }, getWh = function (d) { return d.values.whisker_high; }, getColor = function (d) { return d.color; }, getOlItems = function (d) { return d.values.outliers; }, getOlValue = function (d, i, j) { return d; }, getOlLabel = function (d, i, j) { return d; }, getOlColor = function (d, i, j) { return undefined; }, color = nv.utils.defaultColor(), container = null, xDomain, xRange, yDomain, yRange, dispatch = d3.dispatch('elementMouseover', 'elementMouseout', 'elementMousemove', 'renderEnd'), duration = 250, maxBoxWidth = null;\n    //============================================================\n    // Private Variables\n    //------------------------------------------------------------\n    var xScale0, yScale0;\n    var renderWatch = nv.utils.renderWatch(dispatch, duration);\n    function chart(selection) {\n        renderWatch.reset();\n        selection.each(function (data) {\n            var availableWidth = width - margin.left - margin.right, availableHeight = height - margin.top - margin.bottom;\n            container = d3.select(this);\n            nv.utils.initSVG(container);\n            // Setup Scales\n            xScale.domain(xDomain || data.map(function (d, i) { return getX(d, i); }))\n                .rangeBands(xRange || [0, availableWidth], 0.1);\n            // if we know yDomain, no need to calculate\n            var yData = [];\n            if (!yDomain) {\n                // (y-range is based on quartiles, whiskers and outliers)\n                var values = [], yMin, yMax;\n                data.forEach(function (d, i) {\n                    var q1 = getQ1(d), q3 = getQ3(d), wl = getWl(d), wh = getWh(d);\n                    var olItems = getOlItems(d);\n                    if (olItems) {\n                        olItems.forEach(function (e, i) {\n                            values.push(getOlValue(e, i, undefined));\n                        });\n                    }\n                    if (wl) {\n                        values.push(wl);\n                    }\n                    if (q1) {\n                        values.push(q1);\n                    }\n                    if (q3) {\n                        values.push(q3);\n                    }\n                    if (wh) {\n                        values.push(wh);\n                    }\n                });\n                yMin = d3.min(values);\n                yMax = d3.max(values);\n                yData = [yMin, yMax];\n            }\n            yScale.domain(yDomain || yData);\n            yScale.range(yRange || [availableHeight, 0]);\n            //store old scales if they exist\n            xScale0 = xScale0 || xScale;\n            yScale0 = yScale0 || yScale.copy().range([yScale(0), yScale(0)]);\n            // Setup containers and skeleton of chart\n            var wrap = container.selectAll('g.nv-wrap').data([data]);\n            var wrapEnter = wrap.enter().append('g').attr('class', 'nvd3 nv-wrap');\n            wrap.attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');\n            var boxplots = wrap.selectAll('.nv-boxplot').data(function (d) { return d; });\n            var boxEnter = boxplots.enter().append('g').style('stroke-opacity', 1e-6).style('fill-opacity', 1e-6);\n            boxplots\n                .attr('class', 'nv-boxplot')\n                .attr('transform', function (d, i, j) { return 'translate(' + (xScale(getX(d, i)) + xScale.rangeBand() * 0.05) + ', 0)'; })\n                .classed('hover', function (d) { return d.hover; });\n            boxplots\n                .watchTransition(renderWatch, 'nv-boxplot: boxplots')\n                .style('stroke-opacity', 1)\n                .style('fill-opacity', 0.75)\n                .delay(function (d, i) { return i * duration / data.length; })\n                .attr('transform', function (d, i) {\n                return 'translate(' + (xScale(getX(d, i)) + xScale.rangeBand() * 0.05) + ', 0)';\n            });\n            boxplots.exit().remove();\n            // ----- add the SVG elements for each boxPlot -----\n            // conditionally append whisker lines\n            boxEnter.each(function (d, i) {\n                var box = d3.select(this);\n                [getWl, getWh].forEach(function (f) {\n                    if (f(d) !== undefined && f(d) !== null) {\n                        var key = (f === getWl) ? 'low' : 'high';\n                        box.append('line')\n                            .style('stroke', getColor(d) || color(d, i))\n                            .attr('class', 'nv-boxplot-whisker nv-boxplot-' + key);\n                        box.append('line')\n                            .style('stroke', getColor(d) || color(d, i))\n                            .attr('class', 'nv-boxplot-tick nv-boxplot-' + key);\n                    }\n                });\n            });\n            var box_width = function () { return (maxBoxWidth === null ? xScale.rangeBand() * 0.9 : Math.min(75, xScale.rangeBand() * 0.9)); };\n            var box_left = function () { return xScale.rangeBand() * 0.45 - box_width() / 2; };\n            var box_right = function () { return xScale.rangeBand() * 0.45 + box_width() / 2; };\n            // update whisker lines and ticks\n            [getWl, getWh].forEach(function (f) {\n                var key = (f === getWl) ? 'low' : 'high';\n                var endpoint = (f === getWl) ? getQ1 : getQ3;\n                boxplots.select('line.nv-boxplot-whisker.nv-boxplot-' + key)\n                    .watchTransition(renderWatch, 'nv-boxplot: boxplots')\n                    .attr('x1', xScale.rangeBand() * 0.45)\n                    .attr('y1', function (d, i) { return yScale(f(d)); })\n                    .attr('x2', xScale.rangeBand() * 0.45)\n                    .attr('y2', function (d, i) { return yScale(endpoint(d)); });\n                boxplots.select('line.nv-boxplot-tick.nv-boxplot-' + key)\n                    .watchTransition(renderWatch, 'nv-boxplot: boxplots')\n                    .attr('x1', box_left)\n                    .attr('y1', function (d, i) { return yScale(f(d)); })\n                    .attr('x2', box_right)\n                    .attr('y2', function (d, i) { return yScale(f(d)); });\n            });\n            [getWl, getWh].forEach(function (f) {\n                var key = (f === getWl) ? 'low' : 'high';\n                boxEnter.selectAll('.nv-boxplot-' + key)\n                    .on('mouseover', function (d, i, j) {\n                    d3.select(this).classed('hover', true);\n                    dispatch.elementMouseover({\n                        series: { key: f(d), color: getColor(d) || color(d, j) },\n                        e: d3.event\n                    });\n                })\n                    .on('mouseout', function (d, i, j) {\n                    d3.select(this).classed('hover', false);\n                    dispatch.elementMouseout({\n                        series: { key: f(d), color: getColor(d) || color(d, j) },\n                        e: d3.event\n                    });\n                })\n                    .on('mousemove', function (d, i) {\n                    dispatch.elementMousemove({ e: d3.event });\n                });\n            });\n            // boxes\n            boxEnter.append('rect')\n                .attr('class', 'nv-boxplot-box')\n                // tooltip events\n                .on('mouseover', function (d, i) {\n                d3.select(this).classed('hover', true);\n                dispatch.elementMouseover({\n                    key: getX(d),\n                    value: getX(d),\n                    series: [\n                        { key: 'Q3', value: getQ3(d), color: getColor(d) || color(d, i) },\n                        { key: 'Q2', value: getQ2(d), color: getColor(d) || color(d, i) },\n                        { key: 'Q1', value: getQ1(d), color: getColor(d) || color(d, i) }\n                    ],\n                    data: d,\n                    index: i,\n                    e: d3.event\n                });\n            })\n                .on('mouseout', function (d, i) {\n                d3.select(this).classed('hover', false);\n                dispatch.elementMouseout({\n                    key: getX(d),\n                    value: getX(d),\n                    series: [\n                        { key: 'Q3', value: getQ3(d), color: getColor(d) || color(d, i) },\n                        { key: 'Q2', value: getQ2(d), color: getColor(d) || color(d, i) },\n                        { key: 'Q1', value: getQ1(d), color: getColor(d) || color(d, i) }\n                    ],\n                    data: d,\n                    index: i,\n                    e: d3.event\n                });\n            })\n                .on('mousemove', function (d, i) {\n                dispatch.elementMousemove({ e: d3.event });\n            });\n            // box transitions\n            boxplots.select('rect.nv-boxplot-box')\n                .watchTransition(renderWatch, 'nv-boxplot: boxes')\n                .attr('y', function (d, i) { return yScale(getQ3(d)); })\n                .attr('width', box_width)\n                .attr('x', box_left)\n                .attr('height', function (d, i) { return Math.abs(yScale(getQ3(d)) - yScale(getQ1(d))) || 1; })\n                .style('fill', function (d, i) { return getColor(d) || color(d, i); })\n                .style('stroke', function (d, i) { return getColor(d) || color(d, i); });\n            // median line\n            boxEnter.append('line').attr('class', 'nv-boxplot-median');\n            boxplots.select('line.nv-boxplot-median')\n                .watchTransition(renderWatch, 'nv-boxplot: boxplots line')\n                .attr('x1', box_left)\n                .attr('y1', function (d, i) { return yScale(getQ2(d)); })\n                .attr('x2', box_right)\n                .attr('y2', function (d, i) { return yScale(getQ2(d)); });\n            // outliers\n            var outliers = boxplots.selectAll('.nv-boxplot-outlier').data(function (d) {\n                return getOlItems(d) || [];\n            });\n            outliers.enter().append('circle')\n                .style('fill', function (d, i, j) { return getOlColor(d, i, j) || color(d, j); })\n                .style('stroke', function (d, i, j) { return getOlColor(d, i, j) || color(d, j); })\n                .style('z-index', 9000)\n                .on('mouseover', function (d, i, j) {\n                d3.select(this).classed('hover', true);\n                dispatch.elementMouseover({\n                    series: { key: getOlLabel(d, i, j), color: getOlColor(d, i, j) || color(d, j) },\n                    e: d3.event\n                });\n            })\n                .on('mouseout', function (d, i, j) {\n                d3.select(this).classed('hover', false);\n                dispatch.elementMouseout({\n                    series: { key: getOlLabel(d, i, j), color: getOlColor(d, i, j) || color(d, j) },\n                    e: d3.event\n                });\n            })\n                .on('mousemove', function (d, i) {\n                dispatch.elementMousemove({ e: d3.event });\n            });\n            outliers.attr('class', 'nv-boxplot-outlier');\n            outliers\n                .watchTransition(renderWatch, 'nv-boxplot: nv-boxplot-outlier')\n                .attr('cx', xScale.rangeBand() * 0.45)\n                .attr('cy', function (d, i, j) { return yScale(getOlValue(d, i, j)); })\n                .attr('r', '3');\n            outliers.exit().remove();\n            //store old scales for use in transitions on update\n            xScale0 = xScale.copy();\n            yScale0 = yScale.copy();\n        });\n        renderWatch.renderEnd('nv-boxplot immediate');\n        return chart;\n    }\n    //============================================================\n    // Expose Public Variables\n    //------------------------------------------------------------\n    chart.dispatch = dispatch;\n    chart.options = nv.utils.optionsFunc.bind(chart);\n    chart._options = Object.create({}, {\n        // simple options, just get/set the necessary values\n        width: { get: function () { return width; }, set: function (_) { width = _; } },\n        height: { get: function () { return height; }, set: function (_) { height = _; } },\n        maxBoxWidth: { get: function () { return maxBoxWidth; }, set: function (_) { maxBoxWidth = _; } },\n        x: { get: function () { return getX; }, set: function (_) { getX = _; } },\n        q1: { get: function () { return getQ1; }, set: function (_) { getQ1 = _; } },\n        q2: { get: function () { return getQ2; }, set: function (_) { getQ2 = _; } },\n        q3: { get: function () { return getQ3; }, set: function (_) { getQ3 = _; } },\n        wl: { get: function () { return getWl; }, set: function (_) { getWl = _; } },\n        wh: { get: function () { return getWh; }, set: function (_) { getWh = _; } },\n        itemColor: { get: function () { return getColor; }, set: function (_) { getColor = _; } },\n        outliers: { get: function () { return getOlItems; }, set: function (_) { getOlItems = _; } },\n        outlierValue: { get: function () { return getOlValue; }, set: function (_) { getOlValue = _; } },\n        outlierLabel: { get: function () { return getOlLabel; }, set: function (_) { getOlLabel = _; } },\n        outlierColor: { get: function () { return getOlColor; }, set: function (_) { getOlColor = _; } },\n        xScale: { get: function () { return xScale; }, set: function (_) { xScale = _; } },\n        yScale: { get: function () { return yScale; }, set: function (_) { yScale = _; } },\n        xDomain: { get: function () { return xDomain; }, set: function (_) { xDomain = _; } },\n        yDomain: { get: function () { return yDomain; }, set: function (_) { yDomain = _; } },\n        xRange: { get: function () { return xRange; }, set: function (_) { xRange = _; } },\n        yRange: { get: function () { return yRange; }, set: function (_) { yRange = _; } },\n        id: { get: function () { return id; }, set: function (_) { id = _; } },\n        // rectClass: {get: function(){return rectClass;}, set: function(_){rectClass=_;}},\n        y: {\n            get: function () {\n                console.warn('BoxPlot \\'y\\' chart option is deprecated. Please use model overrides instead.');\n                return {};\n            },\n            set: function (_) {\n                console.warn('BoxPlot \\'y\\' chart option is deprecated. Please use model overrides instead.');\n            }\n        },\n        // options that require extra logic in the setter\n        margin: { get: function () { return margin; }, set: function (_) {\n                margin.top = _.top !== undefined ? _.top : margin.top;\n                margin.right = _.right !== undefined ? _.right : margin.right;\n                margin.bottom = _.bottom !== undefined ? _.bottom : margin.bottom;\n                margin.left = _.left !== undefined ? _.left : margin.left;\n            } },\n        color: { get: function () { return color; }, set: function (_) {\n                color = nv.utils.getColor(_);\n            } },\n        duration: { get: function () { return duration; }, set: function (_) {\n                duration = _;\n                renderWatch.reset(duration);\n            } }\n    });\n    nv.utils.initOptions(chart);\n    return chart;\n};\n","nv.models.boxPlotChart = function () {\n    \"use strict\";\n    //============================================================\n    // Public Variables with Default Settings\n    //------------------------------------------------------------\n    var boxplot = nv.models.boxPlot(), xAxis = nv.models.axis(), yAxis = nv.models.axis();\n    var margin = { top: 15, right: 10, bottom: 50, left: 60 }, width = null, height = null, color = nv.utils.getColor(), showXAxis = true, showYAxis = true, rightAlignYAxis = false, staggerLabels = false, tooltip = nv.models.tooltip(), x, y, noData = 'No Data Available.', dispatch = d3.dispatch('beforeUpdate', 'renderEnd'), duration = 250;\n    xAxis\n        .orient('bottom')\n        .showMaxMin(false)\n        .tickFormat(function (d) { return d; });\n    yAxis\n        .orient((rightAlignYAxis) ? 'right' : 'left')\n        .tickFormat(d3.format(',.1f'));\n    tooltip.duration(0);\n    //============================================================\n    // Private Variables\n    //------------------------------------------------------------\n    var renderWatch = nv.utils.renderWatch(dispatch, duration);\n    function chart(selection) {\n        renderWatch.reset();\n        renderWatch.models(boxplot);\n        if (showXAxis)\n            renderWatch.models(xAxis);\n        if (showYAxis)\n            renderWatch.models(yAxis);\n        selection.each(function (data) {\n            var container = d3.select(this), that = this;\n            nv.utils.initSVG(container);\n            var availableWidth = (width || parseInt(container.style('width')) || 960) - margin.left - margin.right;\n            var availableHeight = (height || parseInt(container.style('height')) || 400) - margin.top - margin.bottom;\n            chart.update = function () {\n                dispatch.beforeUpdate();\n                container.transition().duration(duration).call(chart);\n            };\n            chart.container = this;\n            // TODO still need to find a way to validate quartile data presence using boxPlot callbacks.\n            // Display No Data message if there's nothing to show. (quartiles required at minimum).\n            if (!data || !data.length) {\n                var noDataText = container.selectAll('.nv-noData').data([noData]);\n                noDataText.enter().append('text')\n                    .attr('class', 'nvd3 nv-noData')\n                    .attr('dy', '-.7em')\n                    .style('text-anchor', 'middle');\n                noDataText\n                    .attr('x', margin.left + availableWidth / 2)\n                    .attr('y', margin.top + availableHeight / 2)\n                    .text(function (d) { return d; });\n                return chart;\n            }\n            else {\n                container.selectAll('.nv-noData').remove();\n            }\n            // Setup Scales\n            x = boxplot.xScale();\n            y = boxplot.yScale().clamp(true);\n            // Setup containers and skeleton of chart\n            var wrap = container.selectAll('g.nv-wrap.nv-boxPlotWithAxes').data([data]);\n            var gEnter = wrap.enter().append('g').attr('class', 'nvd3 nv-wrap nv-boxPlotWithAxes').append('g');\n            var defsEnter = gEnter.append('defs');\n            var g = wrap.select('g');\n            gEnter.append('g').attr('class', 'nv-x nv-axis');\n            gEnter.append('g').attr('class', 'nv-y nv-axis')\n                .append('g').attr('class', 'nv-zeroLine')\n                .append('line');\n            gEnter.append('g').attr('class', 'nv-barsWrap');\n            g.attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');\n            if (rightAlignYAxis) {\n                g.select('.nv-y.nv-axis')\n                    .attr('transform', 'translate(' + availableWidth + ',0)');\n            }\n            // Main Chart Component(s)\n            boxplot.width(availableWidth).height(availableHeight);\n            var barsWrap = g.select('.nv-barsWrap')\n                .datum(data.filter(function (d) { return !d.disabled; }));\n            barsWrap.transition().call(boxplot);\n            defsEnter.append('clipPath')\n                .attr('id', 'nv-x-label-clip-' + boxplot.id())\n                .append('rect');\n            g.select('#nv-x-label-clip-' + boxplot.id() + ' rect')\n                .attr('width', x.rangeBand() * (staggerLabels ? 2 : 1))\n                .attr('height', 16)\n                .attr('x', -x.rangeBand() / (staggerLabels ? 1 : 2));\n            // Setup Axes\n            if (showXAxis) {\n                xAxis\n                    .scale(x)\n                    .ticks(nv.utils.calcTicksX(availableWidth / 100, data))\n                    .tickSize(-availableHeight, 0);\n                g.select('.nv-x.nv-axis').attr('transform', 'translate(0,' + y.range()[0] + ')');\n                g.select('.nv-x.nv-axis').call(xAxis);\n                var xTicks = g.select('.nv-x.nv-axis').selectAll('g');\n                if (staggerLabels) {\n                    xTicks\n                        .selectAll('text')\n                        .attr('transform', function (d, i, j) { return 'translate(0,' + (j % 2 === 0 ? '5' : '17') + ')'; });\n                }\n            }\n            if (showYAxis) {\n                yAxis\n                    .scale(y)\n                    .ticks(Math.floor(availableHeight / 36)) // can't use nv.utils.calcTicksY with Object data\n                    .tickSize(-availableWidth, 0);\n                g.select('.nv-y.nv-axis').call(yAxis);\n            }\n            // Zero line\n            g.select('.nv-zeroLine line')\n                .attr('x1', 0)\n                .attr('x2', availableWidth)\n                .attr('y1', y(0))\n                .attr('y2', y(0));\n            //============================================================\n            // Event Handling/Dispatching (in chart's scope)\n            //------------------------------------------------------------\n        });\n        renderWatch.renderEnd('nv-boxplot chart immediate');\n        return chart;\n    }\n    //============================================================\n    // Event Handling/Dispatching (out of chart's scope)\n    //------------------------------------------------------------\n    boxplot.dispatch.on('elementMouseover.tooltip', function (evt) {\n        tooltip.data(evt).hidden(false);\n    });\n    boxplot.dispatch.on('elementMouseout.tooltip', function (evt) {\n        tooltip.data(evt).hidden(true);\n    });\n    boxplot.dispatch.on('elementMousemove.tooltip', function (evt) {\n        tooltip();\n    });\n    //============================================================\n    // Expose Public Variables\n    //------------------------------------------------------------\n    chart.dispatch = dispatch;\n    chart.boxplot = boxplot;\n    chart.xAxis = xAxis;\n    chart.yAxis = yAxis;\n    chart.tooltip = tooltip;\n    chart.options = nv.utils.optionsFunc.bind(chart);\n    chart._options = Object.create({}, {\n        // simple options, just get/set the necessary values\n        width: { get: function () { return width; }, set: function (_) { width = _; } },\n        height: { get: function () { return height; }, set: function (_) { height = _; } },\n        staggerLabels: { get: function () { return staggerLabels; }, set: function (_) { staggerLabels = _; } },\n        showXAxis: { get: function () { return showXAxis; }, set: function (_) { showXAxis = _; } },\n        showYAxis: { get: function () { return showYAxis; }, set: function (_) { showYAxis = _; } },\n        tooltipContent: { get: function () { return tooltip; }, set: function (_) { tooltip = _; } },\n        noData: { get: function () { return noData; }, set: function (_) { noData = _; } },\n        // options that require extra logic in the setter\n        margin: { get: function () { return margin; }, set: function (_) {\n                margin.top = _.top !== undefined ? _.top : margin.top;\n                margin.right = _.right !== undefined ? _.right : margin.right;\n                margin.bottom = _.bottom !== undefined ? _.bottom : margin.bottom;\n                margin.left = _.left !== undefined ? _.left : margin.left;\n            } },\n        duration: { get: function () { return duration; }, set: function (_) {\n                duration = _;\n                renderWatch.reset(duration);\n                boxplot.duration(duration);\n                xAxis.duration(duration);\n                yAxis.duration(duration);\n            } },\n        color: { get: function () { return color; }, set: function (_) {\n                color = nv.utils.getColor(_);\n                boxplot.color(color);\n            } },\n        rightAlignYAxis: { get: function () { return rightAlignYAxis; }, set: function (_) {\n                rightAlignYAxis = _;\n                yAxis.orient((_) ? 'right' : 'left');\n            } }\n    });\n    nv.utils.inheritOptions(chart, boxplot);\n    nv.utils.initOptions(chart);\n    return chart;\n};\n","// Chart design based on the recommendations of Stephen Few. Implementation\n// based on the work of Clint Ivy, Jamie Love, and Jason Davies.\n// http://projects.instantcognition.com/protovis/bulletchart/\nnv.models.bullet = function () {\n    \"use strict\";\n    //============================================================\n    // Public Variables with Default Settings\n    //------------------------------------------------------------\n    var margin = { top: 0, right: 0, bottom: 0, left: 0 }, orient = 'left' // TODO top & bottom\n    , reverse = false, ranges = function (d) { return d.ranges; }, markers = function (d) { return d.markers ? d.markers : []; }, markerLines = function (d) { return d.markerLines ? d.markerLines : [0]; }, measures = function (d) { return d.measures; }, rangeLabels = function (d) { return d.rangeLabels ? d.rangeLabels : []; }, markerLabels = function (d) { return d.markerLabels ? d.markerLabels : []; }, markerLineLabels = function (d) { return d.markerLineLabels ? d.markerLineLabels : []; }, measureLabels = function (d) { return d.measureLabels ? d.measureLabels : []; }, forceX = [0] // List of numbers to Force into the X scale (ie. 0, or a max / min, etc.)\n    , width = 380, height = 30, container = null, tickFormat = null, color = nv.utils.getColor(['#1f77b4']), dispatch = d3.dispatch('elementMouseover', 'elementMouseout', 'elementMousemove'), defaultRangeLabels = [\"Maximum\", \"Mean\", \"Minimum\"], legacyRangeClassNames = [\"Max\", \"Avg\", \"Min\"], duration = 1000;\n    function sortLabels(labels, values) {\n        var lz = labels.slice();\n        labels.sort(function (a, b) {\n            var iA = lz.indexOf(a);\n            var iB = lz.indexOf(b);\n            return d3.descending(values[iA], values[iB]);\n        });\n    }\n    ;\n    function chart(selection) {\n        selection.each(function (d, i) {\n            var availableWidth = width - margin.left - margin.right, availableHeight = height - margin.top - margin.bottom;\n            container = d3.select(this);\n            nv.utils.initSVG(container);\n            var rangez = ranges.call(this, d, i).slice(), markerz = markers.call(this, d, i).slice(), markerLinez = markerLines.call(this, d, i).slice(), measurez = measures.call(this, d, i).slice(), rangeLabelz = rangeLabels.call(this, d, i).slice(), markerLabelz = markerLabels.call(this, d, i).slice(), markerLineLabelz = markerLineLabels.call(this, d, i).slice(), measureLabelz = measureLabels.call(this, d, i).slice();\n            // Sort labels according to their sorted values\n            sortLabels(rangeLabelz, rangez);\n            sortLabels(markerLabelz, markerz);\n            sortLabels(markerLineLabelz, markerLinez);\n            sortLabels(measureLabelz, measurez);\n            // sort values descending\n            rangez.sort(d3.descending);\n            markerz.sort(d3.descending);\n            markerLinez.sort(d3.descending);\n            measurez.sort(d3.descending);\n            // Setup Scales\n            // Compute the new x-scale.\n            var x1 = d3.scale.linear()\n                .domain(d3.extent(d3.merge([forceX, rangez])))\n                .range(reverse ? [availableWidth, 0] : [0, availableWidth]);\n            // Retrieve the old x-scale, if this is an update.\n            var x0 = this.__chart__ || d3.scale.linear()\n                .domain([0, Infinity])\n                .range(x1.range());\n            // Stash the new scale.\n            this.__chart__ = x1;\n            var rangeMin = d3.min(rangez), //rangez[2]\n            rangeMax = d3.max(rangez), //rangez[0]\n            rangeAvg = rangez[1];\n            // Setup containers and skeleton of chart\n            var wrap = container.selectAll('g.nv-wrap.nv-bullet').data([d]);\n            var wrapEnter = wrap.enter().append('g').attr('class', 'nvd3 nv-wrap nv-bullet');\n            var gEnter = wrapEnter.append('g');\n            var g = wrap.select('g');\n            for (var i = 0, il = rangez.length; i < il; i++) {\n                var rangeClassNames = 'nv-range nv-range' + i;\n                if (i <= 2) {\n                    rangeClassNames = rangeClassNames + ' nv-range' + legacyRangeClassNames[i];\n                }\n                gEnter.append('rect').attr('class', rangeClassNames);\n            }\n            gEnter.append('rect').attr('class', 'nv-measure');\n            wrap.attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');\n            var w0 = function (d) { return Math.abs(x0(d) - x0(0)); }, // TODO: could optimize by precalculating x0(0) and x1(0)\n            w1 = function (d) { return Math.abs(x1(d) - x1(0)); };\n            var xp0 = function (d) { return d < 0 ? x0(d) : x0(0); }, xp1 = function (d) { return d < 0 ? x1(d) : x1(0); };\n            for (var i = 0, il = rangez.length; i < il; i++) {\n                var range = rangez[i];\n                g.select('rect.nv-range' + i)\n                    .datum(range)\n                    .attr('height', availableHeight)\n                    .transition()\n                    .duration(duration)\n                    .attr('width', w1(range))\n                    .attr('x', xp1(range));\n            }\n            g.select('rect.nv-measure')\n                .style('fill', color)\n                .attr('height', availableHeight / 3)\n                .attr('y', availableHeight / 3)\n                .on('mouseover', function () {\n                dispatch.elementMouseover({\n                    value: measurez[0],\n                    label: measureLabelz[0] || 'Current',\n                    color: d3.select(this).style(\"fill\")\n                });\n            })\n                .on('mousemove', function () {\n                dispatch.elementMousemove({\n                    value: measurez[0],\n                    label: measureLabelz[0] || 'Current',\n                    color: d3.select(this).style(\"fill\")\n                });\n            })\n                .on('mouseout', function () {\n                dispatch.elementMouseout({\n                    value: measurez[0],\n                    label: measureLabelz[0] || 'Current',\n                    color: d3.select(this).style(\"fill\")\n                });\n            })\n                .transition()\n                .duration(duration)\n                .attr('width', measurez < 0 ?\n                x1(0) - x1(measurez[0])\n                : x1(measurez[0]) - x1(0))\n                .attr('x', xp1(measurez));\n            var h3 = availableHeight / 6;\n            var markerData = markerz.map(function (marker, index) {\n                return { value: marker, label: markerLabelz[index] };\n            });\n            gEnter\n                .selectAll(\"path.nv-markerTriangle\")\n                .data(markerData)\n                .enter()\n                .append('path')\n                .attr('class', 'nv-markerTriangle')\n                .attr('d', 'M0,' + h3 + 'L' + h3 + ',' + (-h3) + ' ' + (-h3) + ',' + (-h3) + 'Z')\n                .on('mouseover', function (d) {\n                dispatch.elementMouseover({\n                    value: d.value,\n                    label: d.label || 'Previous',\n                    color: d3.select(this).style(\"fill\"),\n                    pos: [x1(d.value), availableHeight / 2]\n                });\n            })\n                .on('mousemove', function (d) {\n                dispatch.elementMousemove({\n                    value: d.value,\n                    label: d.label || 'Previous',\n                    color: d3.select(this).style(\"fill\")\n                });\n            })\n                .on('mouseout', function (d, i) {\n                dispatch.elementMouseout({\n                    value: d.value,\n                    label: d.label || 'Previous',\n                    color: d3.select(this).style(\"fill\")\n                });\n            });\n            g.selectAll(\"path.nv-markerTriangle\")\n                .data(markerData)\n                .transition()\n                .duration(duration)\n                .attr('transform', function (d) { return 'translate(' + x1(d.value) + ',' + (availableHeight / 2) + ')'; });\n            var markerLinesData = markerLinez.map(function (marker, index) {\n                return { value: marker, label: markerLineLabelz[index] };\n            });\n            gEnter\n                .selectAll(\"line.nv-markerLine\")\n                .data(markerLinesData)\n                .enter()\n                .append('line')\n                .attr('cursor', '')\n                .attr('class', 'nv-markerLine')\n                .attr('x1', function (d) { return x1(d.value); })\n                .attr('y1', '2')\n                .attr('x2', function (d) { return x1(d.value); })\n                .attr('y2', availableHeight - 2)\n                .on('mouseover', function (d) {\n                dispatch.elementMouseover({\n                    value: d.value,\n                    label: d.label || 'Previous',\n                    color: d3.select(this).style(\"fill\"),\n                    pos: [x1(d.value), availableHeight / 2]\n                });\n            })\n                .on('mousemove', function (d) {\n                dispatch.elementMousemove({\n                    value: d.value,\n                    label: d.label || 'Previous',\n                    color: d3.select(this).style(\"fill\")\n                });\n            })\n                .on('mouseout', function (d, i) {\n                dispatch.elementMouseout({\n                    value: d.value,\n                    label: d.label || 'Previous',\n                    color: d3.select(this).style(\"fill\")\n                });\n            });\n            g.selectAll(\"line.nv-markerLine\")\n                .data(markerLinesData)\n                .transition()\n                .duration(duration)\n                .attr('x1', function (d) { return x1(d.value); })\n                .attr('x2', function (d) { return x1(d.value); });\n            wrap.selectAll('.nv-range')\n                .on('mouseover', function (d, i) {\n                var label = rangeLabelz[i] || defaultRangeLabels[i];\n                dispatch.elementMouseover({\n                    value: d,\n                    label: label,\n                    color: d3.select(this).style(\"fill\")\n                });\n            })\n                .on('mousemove', function () {\n                dispatch.elementMousemove({\n                    value: measurez[0],\n                    label: measureLabelz[0] || 'Previous',\n                    color: d3.select(this).style(\"fill\")\n                });\n            })\n                .on('mouseout', function (d, i) {\n                var label = rangeLabelz[i] || defaultRangeLabels[i];\n                dispatch.elementMouseout({\n                    value: d,\n                    label: label,\n                    color: d3.select(this).style(\"fill\")\n                });\n            });\n        });\n        return chart;\n    }\n    //============================================================\n    // Expose Public Variables\n    //------------------------------------------------------------\n    chart.dispatch = dispatch;\n    chart.options = nv.utils.optionsFunc.bind(chart);\n    chart._options = Object.create({}, {\n        // simple options, just get/set the necessary values\n        ranges: { get: function () { return ranges; }, set: function (_) { ranges = _; } },\n        markers: { get: function () { return markers; }, set: function (_) { markers = _; } },\n        measures: { get: function () { return measures; }, set: function (_) { measures = _; } },\n        forceX: { get: function () { return forceX; }, set: function (_) { forceX = _; } },\n        width: { get: function () { return width; }, set: function (_) { width = _; } },\n        height: { get: function () { return height; }, set: function (_) { height = _; } },\n        tickFormat: { get: function () { return tickFormat; }, set: function (_) { tickFormat = _; } },\n        duration: { get: function () { return duration; }, set: function (_) { duration = _; } },\n        // options that require extra logic in the setter\n        margin: { get: function () { return margin; }, set: function (_) {\n                margin.top = _.top !== undefined ? _.top : margin.top;\n                margin.right = _.right !== undefined ? _.right : margin.right;\n                margin.bottom = _.bottom !== undefined ? _.bottom : margin.bottom;\n                margin.left = _.left !== undefined ? _.left : margin.left;\n            } },\n        orient: { get: function () { return orient; }, set: function (_) {\n                orient = _;\n                reverse = orient == 'right' || orient == 'bottom';\n            } },\n        color: { get: function () { return color; }, set: function (_) {\n                color = nv.utils.getColor(_);\n            } }\n    });\n    nv.utils.initOptions(chart);\n    return chart;\n};\n","// Chart design based on the recommendations of Stephen Few. Implementation\n// based on the work of Clint Ivy, Jamie Love, and Jason Davies.\n// http://projects.instantcognition.com/protovis/bulletchart/\nnv.models.bulletChart = function () {\n    \"use strict\";\n    //============================================================\n    // Public Variables with Default Settings\n    //------------------------------------------------------------\n    var bullet = nv.models.bullet();\n    var tooltip = nv.models.tooltip();\n    var orient = 'left' // TODO top & bottom\n    , reverse = false, margin = { top: 5, right: 40, bottom: 20, left: 120 }, ranges = function (d) { return d.ranges; }, markers = function (d) { return d.markers ? d.markers : []; }, measures = function (d) { return d.measures; }, width = null, height = 55, tickFormat = null, ticks = null, noData = null, dispatch = d3.dispatch();\n    tooltip\n        .duration(0)\n        .headerEnabled(false);\n    function chart(selection) {\n        selection.each(function (d, i) {\n            var container = d3.select(this);\n            nv.utils.initSVG(container);\n            var availableWidth = nv.utils.availableWidth(width, container, margin), availableHeight = height - margin.top - margin.bottom, that = this;\n            chart.update = function () { chart(selection); };\n            chart.container = this;\n            // Display No Data message if there's nothing to show.\n            if (!d || !ranges.call(this, d, i)) {\n                nv.utils.noData(chart, container);\n                return chart;\n            }\n            else {\n                container.selectAll('.nv-noData').remove();\n            }\n            var rangez = ranges.call(this, d, i).slice().sort(d3.descending), markerz = markers.call(this, d, i).slice().sort(d3.descending), measurez = measures.call(this, d, i).slice().sort(d3.descending);\n            // Setup containers and skeleton of chart\n            var wrap = container.selectAll('g.nv-wrap.nv-bulletChart').data([d]);\n            var wrapEnter = wrap.enter().append('g').attr('class', 'nvd3 nv-wrap nv-bulletChart');\n            var gEnter = wrapEnter.append('g');\n            var g = wrap.select('g');\n            gEnter.append('g').attr('class', 'nv-bulletWrap');\n            gEnter.append('g').attr('class', 'nv-titles');\n            wrap.attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');\n            // Compute the new x-scale.\n            var x1 = d3.scale.linear()\n                .domain([0, Math.max(rangez[0], (markerz[0] || 0), measurez[0])]) // TODO: need to allow forceX and forceY, and xDomain, yDomain\n                .range(reverse ? [availableWidth, 0] : [0, availableWidth]);\n            // Retrieve the old x-scale, if this is an update.\n            var x0 = this.__chart__ || d3.scale.linear()\n                .domain([0, Infinity])\n                .range(x1.range());\n            // Stash the new scale.\n            this.__chart__ = x1;\n            var w0 = function (d) { return Math.abs(x0(d) - x0(0)); }, // TODO: could optimize by precalculating x0(0) and x1(0)\n            w1 = function (d) { return Math.abs(x1(d) - x1(0)); };\n            var title = gEnter.select('.nv-titles').append('g')\n                .attr('text-anchor', 'end')\n                .attr('transform', 'translate(-6,' + (height - margin.top - margin.bottom) / 2 + ')');\n            title.append('text')\n                .attr('class', 'nv-title')\n                .text(function (d) { return d.title; });\n            title.append('text')\n                .attr('class', 'nv-subtitle')\n                .attr('dy', '1em')\n                .text(function (d) { return d.subtitle; });\n            bullet\n                .width(availableWidth)\n                .height(availableHeight);\n            var bulletWrap = g.select('.nv-bulletWrap');\n            d3.transition(bulletWrap).call(bullet);\n            // Compute the tick format.\n            var format = tickFormat || x1.tickFormat(availableWidth / 100);\n            // Update the tick groups.\n            var tick = g.selectAll('g.nv-tick')\n                .data(x1.ticks(ticks ? ticks : (availableWidth / 50)), function (d) {\n                return this.textContent || format(d);\n            });\n            // Initialize the ticks with the old scale, x0.\n            var tickEnter = tick.enter().append('g')\n                .attr('class', 'nv-tick')\n                .attr('transform', function (d) { return 'translate(' + x0(d) + ',0)'; })\n                .style('opacity', 1e-6);\n            tickEnter.append('line')\n                .attr('y1', availableHeight)\n                .attr('y2', availableHeight * 7 / 6);\n            tickEnter.append('text')\n                .attr('text-anchor', 'middle')\n                .attr('dy', '1em')\n                .attr('y', availableHeight * 7 / 6)\n                .text(format);\n            // Transition the updating ticks to the new scale, x1.\n            var tickUpdate = d3.transition(tick)\n                .transition()\n                .duration(bullet.duration())\n                .attr('transform', function (d) { return 'translate(' + x1(d) + ',0)'; })\n                .style('opacity', 1);\n            tickUpdate.select('line')\n                .attr('y1', availableHeight)\n                .attr('y2', availableHeight * 7 / 6);\n            tickUpdate.select('text')\n                .attr('y', availableHeight * 7 / 6);\n            // Transition the exiting ticks to the new scale, x1.\n            d3.transition(tick.exit())\n                .transition()\n                .duration(bullet.duration())\n                .attr('transform', function (d) { return 'translate(' + x1(d) + ',0)'; })\n                .style('opacity', 1e-6)\n                .remove();\n        });\n        d3.timer.flush();\n        return chart;\n    }\n    //============================================================\n    // Event Handling/Dispatching (out of chart's scope)\n    //------------------------------------------------------------\n    bullet.dispatch.on('elementMouseover.tooltip', function (evt) {\n        evt['series'] = {\n            key: evt.label,\n            value: evt.value,\n            color: evt.color\n        };\n        tooltip.data(evt).hidden(false);\n    });\n    bullet.dispatch.on('elementMouseout.tooltip', function (evt) {\n        tooltip.hidden(true);\n    });\n    bullet.dispatch.on('elementMousemove.tooltip', function (evt) {\n        tooltip();\n    });\n    //============================================================\n    // Expose Public Variables\n    //------------------------------------------------------------\n    chart.bullet = bullet;\n    chart.dispatch = dispatch;\n    chart.tooltip = tooltip;\n    chart.options = nv.utils.optionsFunc.bind(chart);\n    chart._options = Object.create({}, {\n        // simple options, just get/set the necessary values\n        ranges: { get: function () { return ranges; }, set: function (_) { ranges = _; } },\n        markers: { get: function () { return markers; }, set: function (_) { markers = _; } },\n        measures: { get: function () { return measures; }, set: function (_) { measures = _; } },\n        width: { get: function () { return width; }, set: function (_) { width = _; } },\n        height: { get: function () { return height; }, set: function (_) { height = _; } },\n        tickFormat: { get: function () { return tickFormat; }, set: function (_) { tickFormat = _; } },\n        ticks: { get: function () { return ticks; }, set: function (_) { ticks = _; } },\n        noData: { get: function () { return noData; }, set: function (_) { noData = _; } },\n        // options that require extra logic in the setter\n        margin: { get: function () { return margin; }, set: function (_) {\n                margin.top = _.top !== undefined ? _.top : margin.top;\n                margin.right = _.right !== undefined ? _.right : margin.right;\n                margin.bottom = _.bottom !== undefined ? _.bottom : margin.bottom;\n                margin.left = _.left !== undefined ? _.left : margin.left;\n            } },\n        orient: { get: function () { return orient; }, set: function (_) {\n                orient = _;\n                reverse = orient == 'right' || orient == 'bottom';\n            } }\n    });\n    nv.utils.inheritOptions(chart, bullet);\n    nv.utils.initOptions(chart);\n    return chart;\n};\n","nv.models.candlestickBar = function () {\n    \"use strict\";\n    //============================================================\n    // Public Variables with Default Settings\n    //------------------------------------------------------------\n    var margin = { top: 0, right: 0, bottom: 0, left: 0 }, width = null, height = null, id = Math.floor(Math.random() * 10000) //Create semi-unique ID in case user doesn't select one\n    , container, x = d3.scale.linear(), y = d3.scale.linear(), getX = function (d) { return d.x; }, getY = function (d) { return d.y; }, getOpen = function (d) { return d.open; }, getClose = function (d) { return d.close; }, getHigh = function (d) { return d.high; }, getLow = function (d) { return d.low; }, forceX = [], forceY = [], padData = false // If true, adds half a data points width to front and back, for lining up a line chart with a bar chart\n    , clipEdge = true, color = nv.utils.defaultColor(), interactive = false, xDomain, yDomain, xRange, yRange, dispatch = d3.dispatch('stateChange', 'changeState', 'renderEnd', 'chartClick', 'elementClick', 'elementDblClick', 'elementMouseover', 'elementMouseout', 'elementMousemove');\n    //============================================================\n    // Private Variables\n    //------------------------------------------------------------\n    function chart(selection) {\n        selection.each(function (data) {\n            container = d3.select(this);\n            var availableWidth = nv.utils.availableWidth(width, container, margin), availableHeight = nv.utils.availableHeight(height, container, margin);\n            nv.utils.initSVG(container);\n            // Width of the candlestick bars.\n            var barWidth = (availableWidth / data[0].values.length) * .45;\n            // Setup Scales\n            x.domain(xDomain || d3.extent(data[0].values.map(getX).concat(forceX)));\n            if (padData)\n                x.range(xRange || [availableWidth * .5 / data[0].values.length, availableWidth * (data[0].values.length - .5) / data[0].values.length]);\n            else\n                x.range(xRange || [5 + barWidth / 2, availableWidth - barWidth / 2 - 5]);\n            y.domain(yDomain || [\n                d3.min(data[0].values.map(getLow).concat(forceY)),\n                d3.max(data[0].values.map(getHigh).concat(forceY))\n            ]).range(yRange || [availableHeight, 0]);\n            // If scale's domain don't have a range, slightly adjust to make one... so a chart can show a single data point\n            if (x.domain()[0] === x.domain()[1])\n                x.domain()[0] ?\n                    x.domain([x.domain()[0] - x.domain()[0] * 0.01, x.domain()[1] + x.domain()[1] * 0.01])\n                    : x.domain([-1, 1]);\n            if (y.domain()[0] === y.domain()[1])\n                y.domain()[0] ?\n                    y.domain([y.domain()[0] + y.domain()[0] * 0.01, y.domain()[1] - y.domain()[1] * 0.01])\n                    : y.domain([-1, 1]);\n            // Setup containers and skeleton of chart\n            var wrap = d3.select(this).selectAll('g.nv-wrap.nv-candlestickBar').data([data[0].values]);\n            var wrapEnter = wrap.enter().append('g').attr('class', 'nvd3 nv-wrap nv-candlestickBar');\n            var defsEnter = wrapEnter.append('defs');\n            var gEnter = wrapEnter.append('g');\n            var g = wrap.select('g');\n            gEnter.append('g').attr('class', 'nv-ticks');\n            wrap.attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');\n            container\n                .on('click', function (d, i) {\n                dispatch.chartClick({\n                    data: d,\n                    index: i,\n                    pos: d3.event,\n                    id: id\n                });\n            });\n            defsEnter.append('clipPath')\n                .attr('id', 'nv-chart-clip-path-' + id)\n                .append('rect');\n            wrap.select('#nv-chart-clip-path-' + id + ' rect')\n                .attr('width', availableWidth)\n                .attr('height', availableHeight);\n            g.attr('clip-path', clipEdge ? 'url(#nv-chart-clip-path-' + id + ')' : '');\n            var ticks = wrap.select('.nv-ticks').selectAll('.nv-tick')\n                .data(function (d) { return d; });\n            ticks.exit().remove();\n            var tickGroups = ticks.enter().append('g');\n            // The colors are currently controlled by CSS.\n            ticks\n                .attr('class', function (d, i, j) { return (getOpen(d, i) > getClose(d, i) ? 'nv-tick negative' : 'nv-tick positive') + ' nv-tick-' + j + '-' + i; });\n            var lines = tickGroups.append('line')\n                .attr('class', 'nv-candlestick-lines')\n                .attr('transform', function (d, i) { return 'translate(' + x(getX(d, i)) + ',0)'; })\n                .attr('x1', 0)\n                .attr('y1', function (d, i) { return y(getHigh(d, i)); })\n                .attr('x2', 0)\n                .attr('y2', function (d, i) { return y(getLow(d, i)); });\n            var rects = tickGroups.append('rect')\n                .attr('class', 'nv-candlestick-rects nv-bars')\n                .attr('transform', function (d, i) {\n                return 'translate(' + (x(getX(d, i)) - barWidth / 2) + ','\n                    + (y(getY(d, i)) - (getOpen(d, i) > getClose(d, i) ? (y(getClose(d, i)) - y(getOpen(d, i))) : 0))\n                    + ')';\n            })\n                .attr('x', 0)\n                .attr('y', 0)\n                .attr('width', barWidth)\n                .attr('height', function (d, i) {\n                var open = getOpen(d, i);\n                var close = getClose(d, i);\n                return open > close ? y(close) - y(open) : y(open) - y(close);\n            });\n            ticks.select('.nv-candlestick-lines').transition()\n                .attr('transform', function (d, i) { return 'translate(' + x(getX(d, i)) + ',0)'; })\n                .attr('x1', 0)\n                .attr('y1', function (d, i) { return y(getHigh(d, i)); })\n                .attr('x2', 0)\n                .attr('y2', function (d, i) { return y(getLow(d, i)); });\n            ticks.select('.nv-candlestick-rects').transition()\n                .attr('transform', function (d, i) {\n                return 'translate(' + (x(getX(d, i)) - barWidth / 2) + ','\n                    + (y(getY(d, i)) - (getOpen(d, i) > getClose(d, i) ? (y(getClose(d, i)) - y(getOpen(d, i))) : 0))\n                    + ')';\n            })\n                .attr('x', 0)\n                .attr('y', 0)\n                .attr('width', barWidth)\n                .attr('height', function (d, i) {\n                var open = getOpen(d, i);\n                var close = getClose(d, i);\n                return open > close ? y(close) - y(open) : y(open) - y(close);\n            });\n        });\n        return chart;\n    }\n    //Create methods to allow outside functions to highlight a specific bar.\n    chart.highlightPoint = function (pointIndex, isHoverOver) {\n        chart.clearHighlights();\n        container.select(\".nv-candlestickBar .nv-tick-0-\" + pointIndex)\n            .classed(\"hover\", isHoverOver);\n    };\n    chart.clearHighlights = function () {\n        container.select(\".nv-candlestickBar .nv-tick.hover\")\n            .classed(\"hover\", false);\n    };\n    //============================================================\n    // Expose Public Variables\n    //------------------------------------------------------------\n    chart.dispatch = dispatch;\n    chart.options = nv.utils.optionsFunc.bind(chart);\n    chart._options = Object.create({}, {\n        // simple options, just get/set the necessary values\n        width: { get: function () { return width; }, set: function (_) { width = _; } },\n        height: { get: function () { return height; }, set: function (_) { height = _; } },\n        xScale: { get: function () { return x; }, set: function (_) { x = _; } },\n        yScale: { get: function () { return y; }, set: function (_) { y = _; } },\n        xDomain: { get: function () { return xDomain; }, set: function (_) { xDomain = _; } },\n        yDomain: { get: function () { return yDomain; }, set: function (_) { yDomain = _; } },\n        xRange: { get: function () { return xRange; }, set: function (_) { xRange = _; } },\n        yRange: { get: function () { return yRange; }, set: function (_) { yRange = _; } },\n        forceX: { get: function () { return forceX; }, set: function (_) { forceX = _; } },\n        forceY: { get: function () { return forceY; }, set: function (_) { forceY = _; } },\n        padData: { get: function () { return padData; }, set: function (_) { padData = _; } },\n        clipEdge: { get: function () { return clipEdge; }, set: function (_) { clipEdge = _; } },\n        id: { get: function () { return id; }, set: function (_) { id = _; } },\n        interactive: { get: function () { return interactive; }, set: function (_) { interactive = _; } },\n        x: { get: function () { return getX; }, set: function (_) { getX = _; } },\n        y: { get: function () { return getY; }, set: function (_) { getY = _; } },\n        open: { get: function () { return getOpen(); }, set: function (_) { getOpen = _; } },\n        close: { get: function () { return getClose(); }, set: function (_) { getClose = _; } },\n        high: { get: function () { return getHigh; }, set: function (_) { getHigh = _; } },\n        low: { get: function () { return getLow; }, set: function (_) { getLow = _; } },\n        // options that require extra logic in the setter\n        margin: { get: function () { return margin; }, set: function (_) {\n                margin.top = _.top != undefined ? _.top : margin.top;\n                margin.right = _.right != undefined ? _.right : margin.right;\n                margin.bottom = _.bottom != undefined ? _.bottom : margin.bottom;\n                margin.left = _.left != undefined ? _.left : margin.left;\n            } },\n        color: { get: function () { return color; }, set: function (_) {\n                color = nv.utils.getColor(_);\n            } }\n    });\n    nv.utils.initOptions(chart);\n    return chart;\n};\n","nv.models.cumulativeLineChart = function () {\n    \"use strict\";\n    //============================================================\n    // Public Variables with Default Settings\n    //------------------------------------------------------------\n    var lines = nv.models.line(), xAxis = nv.models.axis(), yAxis = nv.models.axis(), legend = nv.models.legend(), controls = nv.models.legend(), interactiveLayer = nv.interactiveGuideline(), tooltip = nv.models.tooltip();\n    var margin = { top: 30, right: 30, bottom: 50, left: 60 }, marginTop = null, color = nv.utils.defaultColor(), width = null, height = null, showLegend = true, showXAxis = true, showYAxis = true, rightAlignYAxis = false, showControls = true, useInteractiveGuideline = false, rescaleY = true, x //can be accessed via chart.xScale()\n    , y //can be accessed via chart.yScale()\n    , id = lines.id(), state = nv.utils.state(), defaultState = null, noData = null, average = function (d) { return d.average; }, dispatch = d3.dispatch('stateChange', 'changeState', 'renderEnd'), transitionDuration = 250, duration = 250, noErrorCheck = false //if set to TRUE, will bypass an error check in the indexify function.\n    ;\n    state.index = 0;\n    state.rescaleY = rescaleY;\n    xAxis.orient('bottom').tickPadding(7);\n    yAxis.orient((rightAlignYAxis) ? 'right' : 'left');\n    tooltip.valueFormatter(function (d, i) {\n        return yAxis.tickFormat()(d, i);\n    }).headerFormatter(function (d, i) {\n        return xAxis.tickFormat()(d, i);\n    });\n    controls.updateState(false);\n    //============================================================\n    // Private Variables\n    //------------------------------------------------------------\n    var dx = d3.scale.linear(), index = { i: 0, x: 0 }, renderWatch = nv.utils.renderWatch(dispatch, duration), currentYDomain;\n    var stateGetter = function (data) {\n        return function () {\n            return {\n                active: data.map(function (d) { return !d.disabled; }),\n                index: index.i,\n                rescaleY: rescaleY\n            };\n        };\n    };\n    var stateSetter = function (data) {\n        return function (state) {\n            if (state.index !== undefined)\n                index.i = state.index;\n            if (state.rescaleY !== undefined)\n                rescaleY = state.rescaleY;\n            if (state.active !== undefined)\n                data.forEach(function (series, i) {\n                    series.disabled = !state.active[i];\n                });\n        };\n    };\n    function chart(selection) {\n        renderWatch.reset();\n        renderWatch.models(lines);\n        if (showXAxis)\n            renderWatch.models(xAxis);\n        if (showYAxis)\n            renderWatch.models(yAxis);\n        selection.each(function (data) {\n            var container = d3.select(this);\n            nv.utils.initSVG(container);\n            container.classed('nv-chart-' + id, true);\n            var that = this;\n            var availableWidth = nv.utils.availableWidth(width, container, margin), availableHeight = nv.utils.availableHeight(height, container, margin);\n            chart.update = function () {\n                if (duration === 0)\n                    container.call(chart);\n                else\n                    container.transition().duration(duration).call(chart);\n            };\n            chart.container = this;\n            state\n                .setter(stateSetter(data), chart.update)\n                .getter(stateGetter(data))\n                .update();\n            // DEPRECATED set state.disableddisabled\n            state.disabled = data.map(function (d) { return !!d.disabled; });\n            if (!defaultState) {\n                var key;\n                defaultState = {};\n                for (key in state) {\n                    if (state[key] instanceof Array)\n                        defaultState[key] = state[key].slice(0);\n                    else\n                        defaultState[key] = state[key];\n                }\n            }\n            var indexDrag = d3.behavior.drag()\n                .on('dragstart', dragStart)\n                .on('drag', dragMove)\n                .on('dragend', dragEnd);\n            function dragStart(d, i) {\n                d3.select(chart.container)\n                    .style('cursor', 'ew-resize');\n            }\n            function dragMove(d, i) {\n                index.x = d3.event.x;\n                index.i = Math.round(dx.invert(index.x));\n                updateZero();\n            }\n            function dragEnd(d, i) {\n                d3.select(chart.container)\n                    .style('cursor', 'auto');\n                // update state and send stateChange with new index\n                state.index = index.i;\n                dispatch.stateChange(state);\n            }\n            // Display No Data message if there's nothing to show.\n            if (!data || !data.length || !data.filter(function (d) { return d.values.length; }).length) {\n                nv.utils.noData(chart, container);\n                return chart;\n            }\n            else {\n                container.selectAll('.nv-noData').remove();\n            }\n            // Setup Scales\n            x = lines.xScale();\n            y = lines.yScale();\n            dx.domain([0, data[0].values.length - 1]) //Assumes all series have same length\n                .range([0, availableWidth])\n                .clamp(true);\n            var data = indexify(index.i, data);\n            // initialize the starting yDomain for the not-rescale case after indexify (to have calculated point.display)\n            if (typeof (currentYDomain) === \"undefined\") {\n                currentYDomain = getCurrentYDomain(data);\n            }\n            if (!rescaleY) {\n                lines.yDomain(currentYDomain);\n                lines.clipEdge(true);\n            }\n            else {\n                lines.yDomain(null);\n            }\n            // Setup containers and skeleton of chart\n            var interactivePointerEvents = (useInteractiveGuideline) ? \"none\" : \"all\";\n            var wrap = container.selectAll('g.nv-wrap.nv-cumulativeLine').data([data]);\n            var gEnter = wrap.enter().append('g').attr('class', 'nvd3 nv-wrap nv-cumulativeLine').append('g');\n            var g = wrap.select('g');\n            gEnter.append('g').attr('class', 'nv-interactive');\n            gEnter.append('g').attr('class', 'nv-x nv-axis').style(\"pointer-events\", \"none\");\n            gEnter.append('g').attr('class', 'nv-y nv-axis');\n            gEnter.append('g').attr('class', 'nv-background');\n            gEnter.append('g').attr('class', 'nv-linesWrap').style(\"pointer-events\", interactivePointerEvents);\n            gEnter.append('g').attr('class', 'nv-avgLinesWrap').style(\"pointer-events\", \"none\");\n            gEnter.append('g').attr('class', 'nv-legendWrap');\n            gEnter.append('g').attr('class', 'nv-controlsWrap');\n            // Legend\n            if (!showLegend) {\n                g.select('.nv-legendWrap').selectAll('*').remove();\n            }\n            else {\n                legend.width(availableWidth);\n                g.select('.nv-legendWrap')\n                    .datum(data)\n                    .call(legend);\n                if (!marginTop && legend.height() !== margin.top) {\n                    margin.top = legend.height();\n                    availableHeight = nv.utils.availableHeight(height, container, margin);\n                }\n                g.select('.nv-legendWrap')\n                    .attr('transform', 'translate(0,' + (-margin.top) + ')');\n            }\n            // Controls\n            if (!showControls) {\n                g.select('.nv-controlsWrap').selectAll('*').remove();\n            }\n            else {\n                var controlsData = [\n                    { key: 'Re-scale y-axis', disabled: !rescaleY }\n                ];\n                controls\n                    .width(140)\n                    .color(['#444', '#444', '#444'])\n                    .rightAlign(false)\n                    .margin({ top: 5, right: 0, bottom: 5, left: 20 });\n                g.select('.nv-controlsWrap')\n                    .datum(controlsData)\n                    .attr('transform', 'translate(0,' + (-margin.top) + ')')\n                    .call(controls);\n            }\n            wrap.attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');\n            if (rightAlignYAxis) {\n                g.select(\".nv-y.nv-axis\")\n                    .attr(\"transform\", \"translate(\" + availableWidth + \",0)\");\n            }\n            // Show error if index point value is 0 (division by zero avoided)\n            var tempDisabled = data.filter(function (d) { return d.tempDisabled; });\n            wrap.select('.tempDisabled').remove(); //clean-up and prevent duplicates\n            if (tempDisabled.length) {\n                wrap.append('text').attr('class', 'tempDisabled')\n                    .attr('x', availableWidth / 2)\n                    .attr('y', '-.71em')\n                    .style('text-anchor', 'end')\n                    .text(tempDisabled.map(function (d) { return d.key; }).join(', ') + ' values cannot be calculated for this time period.');\n            }\n            //Set up interactive layer\n            if (useInteractiveGuideline) {\n                interactiveLayer\n                    .width(availableWidth)\n                    .height(availableHeight)\n                    .margin({ left: margin.left, top: margin.top })\n                    .svgContainer(container)\n                    .xScale(x);\n                wrap.select(\".nv-interactive\").call(interactiveLayer);\n            }\n            gEnter.select('.nv-background')\n                .append('rect');\n            g.select('.nv-background rect')\n                .attr('width', availableWidth)\n                .attr('height', availableHeight);\n            lines\n                //.x(function(d) { return d.x })\n                .y(function (d) { return d.display.y; })\n                .width(availableWidth)\n                .height(availableHeight)\n                .color(data.map(function (d, i) {\n                return d.color || color(d, i);\n            }).filter(function (d, i) { return !data[i].disabled && !data[i].tempDisabled; }));\n            var linesWrap = g.select('.nv-linesWrap')\n                .datum(data.filter(function (d) { return !d.disabled && !d.tempDisabled; }));\n            linesWrap.call(lines);\n            //Store a series index number in the data array.\n            data.forEach(function (d, i) {\n                d.seriesIndex = i;\n            });\n            var avgLineData = data.filter(function (d) {\n                return !d.disabled && !!average(d);\n            });\n            var avgLines = g.select(\".nv-avgLinesWrap\").selectAll(\"line\")\n                .data(avgLineData, function (d) { return d.key; });\n            var getAvgLineY = function (d) {\n                //If average lines go off the svg element, clamp them to the svg bounds.\n                var yVal = y(average(d));\n                if (yVal < 0)\n                    return 0;\n                if (yVal > availableHeight)\n                    return availableHeight;\n                return yVal;\n            };\n            avgLines.enter()\n                .append('line')\n                .style('stroke-width', 2)\n                .style('stroke-dasharray', '10,10')\n                .style('stroke', function (d, i) {\n                return lines.color()(d, d.seriesIndex);\n            })\n                .attr('x1', 0)\n                .attr('x2', availableWidth)\n                .attr('y1', getAvgLineY)\n                .attr('y2', getAvgLineY);\n            avgLines\n                .style('stroke-opacity', function (d) {\n                //If average lines go offscreen, make them transparent\n                var yVal = y(average(d));\n                if (yVal < 0 || yVal > availableHeight)\n                    return 0;\n                return 1;\n            })\n                .attr('x1', 0)\n                .attr('x2', availableWidth)\n                .attr('y1', getAvgLineY)\n                .attr('y2', getAvgLineY);\n            avgLines.exit().remove();\n            //Create index line\n            var indexLine = linesWrap.selectAll('.nv-indexLine')\n                .data([index]);\n            indexLine.enter().append('rect').attr('class', 'nv-indexLine')\n                .attr('width', 3)\n                .attr('x', -2)\n                .attr('fill', 'red')\n                .attr('fill-opacity', .5)\n                .style(\"pointer-events\", \"all\")\n                .call(indexDrag);\n            indexLine\n                .attr('transform', function (d) { return 'translate(' + dx(d.i) + ',0)'; })\n                .attr('height', availableHeight);\n            // Setup Axes\n            if (showXAxis) {\n                xAxis\n                    .scale(x)\n                    ._ticks(nv.utils.calcTicksX(availableWidth / 70, data))\n                    .tickSize(-availableHeight, 0);\n                g.select('.nv-x.nv-axis')\n                    .attr('transform', 'translate(0,' + y.range()[0] + ')');\n                g.select('.nv-x.nv-axis')\n                    .call(xAxis);\n            }\n            if (showYAxis) {\n                yAxis\n                    .scale(y)\n                    ._ticks(nv.utils.calcTicksY(availableHeight / 36, data))\n                    .tickSize(-availableWidth, 0);\n                g.select('.nv-y.nv-axis')\n                    .call(yAxis);\n            }\n            //============================================================\n            // Event Handling/Dispatching (in chart's scope)\n            //------------------------------------------------------------\n            function updateZero() {\n                indexLine\n                    .data([index]);\n                //When dragging the index line, turn off line transitions.\n                // Then turn them back on when done dragging.\n                var oldDuration = chart.duration();\n                chart.duration(0);\n                chart.update();\n                chart.duration(oldDuration);\n            }\n            g.select('.nv-background rect')\n                .on('click', function () {\n                index.x = d3.mouse(this)[0];\n                index.i = Math.round(dx.invert(index.x));\n                // update state and send stateChange with new index\n                state.index = index.i;\n                dispatch.stateChange(state);\n                updateZero();\n            });\n            lines.dispatch.on('elementClick', function (e) {\n                index.i = e.pointIndex;\n                index.x = dx(index.i);\n                // update state and send stateChange with new index\n                state.index = index.i;\n                dispatch.stateChange(state);\n                updateZero();\n            });\n            controls.dispatch.on('legendClick', function (d, i) {\n                d.disabled = !d.disabled;\n                rescaleY = !d.disabled;\n                state.rescaleY = rescaleY;\n                if (!rescaleY) {\n                    currentYDomain = getCurrentYDomain(data); // rescale is turned off, so set the currentYDomain\n                }\n                dispatch.stateChange(state);\n                chart.update();\n            });\n            legend.dispatch.on('stateChange', function (newState) {\n                for (var key in newState)\n                    state[key] = newState[key];\n                dispatch.stateChange(state);\n                chart.update();\n            });\n            interactiveLayer.dispatch.on('elementMousemove', function (e) {\n                lines.clearHighlights();\n                var singlePoint, pointIndex, pointXLocation, allData = [];\n                data\n                    .filter(function (series, i) {\n                    series.seriesIndex = i;\n                    return !(series.disabled || series.tempDisabled);\n                })\n                    .forEach(function (series, i) {\n                    pointIndex = nv.interactiveBisect(series.values, e.pointXValue, chart.x());\n                    lines.highlightPoint(i, pointIndex, true);\n                    var point = series.values[pointIndex];\n                    if (typeof point === 'undefined')\n                        return;\n                    if (typeof singlePoint === 'undefined')\n                        singlePoint = point;\n                    if (typeof pointXLocation === 'undefined')\n                        pointXLocation = chart.xScale()(chart.x()(point, pointIndex));\n                    allData.push({\n                        key: series.key,\n                        value: chart.y()(point, pointIndex),\n                        color: color(series, series.seriesIndex)\n                    });\n                });\n                //Highlight the tooltip entry based on which point the mouse is closest to.\n                if (allData.length > 2) {\n                    var yValue = chart.yScale().invert(e.mouseY);\n                    var domainExtent = Math.abs(chart.yScale().domain()[0] - chart.yScale().domain()[1]);\n                    var threshold = 0.03 * domainExtent;\n                    var indexToHighlight = nv.nearestValueIndex(allData.map(function (d) { return d.value; }), yValue, threshold);\n                    if (indexToHighlight !== null)\n                        allData[indexToHighlight].highlight = true;\n                }\n                var xValue = xAxis.tickFormat()(chart.x()(singlePoint, pointIndex), pointIndex);\n                interactiveLayer.tooltip\n                    .valueFormatter(function (d, i) {\n                    return yAxis.tickFormat()(d);\n                })\n                    .data({\n                    value: xValue,\n                    series: allData\n                })();\n                interactiveLayer.renderGuideLine(pointXLocation);\n            });\n            interactiveLayer.dispatch.on(\"elementMouseout\", function (e) {\n                lines.clearHighlights();\n            });\n            // Update chart from a state object passed to event handler\n            dispatch.on('changeState', function (e) {\n                if (typeof e.disabled !== 'undefined') {\n                    data.forEach(function (series, i) {\n                        series.disabled = e.disabled[i];\n                    });\n                    state.disabled = e.disabled;\n                }\n                if (typeof e.index !== 'undefined') {\n                    index.i = e.index;\n                    index.x = dx(index.i);\n                    state.index = e.index;\n                    indexLine\n                        .data([index]);\n                }\n                if (typeof e.rescaleY !== 'undefined') {\n                    rescaleY = e.rescaleY;\n                }\n                chart.update();\n            });\n        });\n        renderWatch.renderEnd('cumulativeLineChart immediate');\n        return chart;\n    }\n    //============================================================\n    // Event Handling/Dispatching (out of chart's scope)\n    //------------------------------------------------------------\n    lines.dispatch.on('elementMouseover.tooltip', function (evt) {\n        var point = {\n            x: chart.x()(evt.point),\n            y: chart.y()(evt.point),\n            color: evt.point.color\n        };\n        evt.point = point;\n        tooltip.data(evt).hidden(false);\n    });\n    lines.dispatch.on('elementMouseout.tooltip', function (evt) {\n        tooltip.hidden(true);\n    });\n    //============================================================\n    // Functions\n    //------------------------------------------------------------\n    var indexifyYGetter = null;\n    /* Normalize the data according to an index point. */\n    function indexify(idx, data) {\n        if (!indexifyYGetter)\n            indexifyYGetter = lines.y();\n        return data.map(function (line, i) {\n            if (!line.values) {\n                return line;\n            }\n            var indexValue = line.values[idx];\n            if (indexValue == null) {\n                return line;\n            }\n            var v = indexifyYGetter(indexValue, idx);\n            // avoid divide by zero\n            if (Math.abs(v) < 0.00001 && !noErrorCheck) {\n                line.tempDisabled = true;\n                return line;\n            }\n            line.tempDisabled = false;\n            line.values = line.values.map(function (point, pointIndex) {\n                point.display = { 'y': (indexifyYGetter(point, pointIndex) - v) / v };\n                return point;\n            });\n            return line;\n        });\n    }\n    function getCurrentYDomain(data) {\n        var seriesDomains = data\n            .filter(function (series) { return !(series.disabled || series.tempDisabled); })\n            .map(function (series, i) {\n            return d3.extent(series.values, function (d) { return d.display.y; });\n        });\n        return [\n            d3.min(seriesDomains, function (d) { return d[0]; }),\n            d3.max(seriesDomains, function (d) { return d[1]; })\n        ];\n    }\n    //============================================================\n    // Expose Public Variables\n    //------------------------------------------------------------\n    // expose chart's sub-components\n    chart.dispatch = dispatch;\n    chart.lines = lines;\n    chart.legend = legend;\n    chart.controls = controls;\n    chart.xAxis = xAxis;\n    chart.yAxis = yAxis;\n    chart.interactiveLayer = interactiveLayer;\n    chart.state = state;\n    chart.tooltip = tooltip;\n    chart.options = nv.utils.optionsFunc.bind(chart);\n    chart._options = Object.create({}, {\n        // simple options, just get/set the necessary values\n        width: { get: function () { return width; }, set: function (_) { width = _; } },\n        height: { get: function () { return height; }, set: function (_) { height = _; } },\n        showControls: { get: function () { return showControls; }, set: function (_) { showControls = _; } },\n        showLegend: { get: function () { return showLegend; }, set: function (_) { showLegend = _; } },\n        average: { get: function () { return average; }, set: function (_) { average = _; } },\n        defaultState: { get: function () { return defaultState; }, set: function (_) { defaultState = _; } },\n        noData: { get: function () { return noData; }, set: function (_) { noData = _; } },\n        showXAxis: { get: function () { return showXAxis; }, set: function (_) { showXAxis = _; } },\n        showYAxis: { get: function () { return showYAxis; }, set: function (_) { showYAxis = _; } },\n        noErrorCheck: { get: function () { return noErrorCheck; }, set: function (_) { noErrorCheck = _; } },\n        // options that require extra logic in the setter\n        rescaleY: { get: function () { return rescaleY; }, set: function (_) {\n                rescaleY = _;\n                chart.state.rescaleY = _; // also update state\n            } },\n        margin: { get: function () { return margin; }, set: function (_) {\n                if (_.top !== undefined) {\n                    margin.top = _.top;\n                    marginTop = _.top;\n                }\n                margin.right = _.right !== undefined ? _.right : margin.right;\n                margin.bottom = _.bottom !== undefined ? _.bottom : margin.bottom;\n                margin.left = _.left !== undefined ? _.left : margin.left;\n            } },\n        color: { get: function () { return color; }, set: function (_) {\n                color = nv.utils.getColor(_);\n                legend.color(color);\n            } },\n        useInteractiveGuideline: { get: function () { return useInteractiveGuideline; }, set: function (_) {\n                useInteractiveGuideline = _;\n                if (_ === true) {\n                    chart.interactive(false);\n                    chart.useVoronoi(false);\n                }\n            } },\n        rightAlignYAxis: { get: function () { return rightAlignYAxis; }, set: function (_) {\n                rightAlignYAxis = _;\n                yAxis.orient((_) ? 'right' : 'left');\n            } },\n        duration: { get: function () { return duration; }, set: function (_) {\n                duration = _;\n                lines.duration(duration);\n                xAxis.duration(duration);\n                yAxis.duration(duration);\n                renderWatch.reset(duration);\n            } }\n    });\n    nv.utils.inheritOptions(chart, lines);\n    nv.utils.initOptions(chart);\n    return chart;\n};\n","'use strict';\nnv.models.differenceChart = function () {\n    'use strict';\n    var container = void 0;\n    var multiChart = nv.models.multiChart();\n    var focus = nv.models.focus(nv.models.line());\n    // const dispatch = d3.dispatch();\n    // yAccessor for multi chart\n    // Not modifiable by end user. They can\n    // overload yAccessor which is used during the processData step\n    var yForMultiChart = function yForMultiChart(d) {\n        // check if the data is for an area chart\n        // which has y0 and y1 values\n        if (isDefined(d.y0)) {\n            return d.y0;\n        }\n        // otherwise assume it's for a line chart\n        return d.y;\n    };\n    var xForMultiChart = function xForMultiChart(d) {\n        return d.x;\n    };\n    var xAccessor = function xAccessor(d) {\n        return d.x;\n    };\n    var keyForXValue = 'x';\n    var yAccessor = function yAccessor(d) {\n        return d.y;\n    };\n    var duration = 300;\n    var keyForActualLessThanPredicted = null;\n    var keyForActualGreaterThanPredicted = null;\n    var height = null;\n    var width = null;\n    var margin = { top: 30, right: 50, bottom: 20, left: 70 };\n    var focusMargin = { top: 0, right: 0, bottom: 0, left: 0 };\n    var showPredictedLine = true;\n    var interpolate = 'linear';\n    var strokeWidth = 1;\n    var xScale = d3.time.scale();\n    var tickFormat = d3.time.format.multi([['%I:%M', function (d) {\n                return d.getMinutes();\n            }], ['%I %p', function (d) {\n                return d.getHours();\n            }], ['%a %d', function (d) {\n                return d.getDay() && d.getDate() != 1;\n            }], ['%b %d', function (d) {\n                return d.getDate() != 1;\n            }], ['%B', function (d) {\n                return d.getMonth();\n            }], ['%Y', function () {\n                return true;\n            }]]);\n    function chart(selection) {\n        selection.each(function (data) {\n            container = d3.select(this);\n            var dataWithoutDisabledSeries = (data || []).filter(function (dataset) {\n                return !dataset.disabled;\n            });\n            if (!data || !dataWithoutDisabledSeries.length) {\n                nv.utils.noData(chart, container);\n                return chart;\n            }\n            var processedData = processData(data);\n            var availableHeight = nv.utils.availableHeight(height, container, margin) - focus.height();\n            var availableWidth = nv.utils.availableWidth(width, container, margin);\n            container.attr('class', 'nv-differenceChart');\n            nv.utils.initSVG(container);\n            chart.container = this;\n            multiChart.margin(margin).color(d3.scale.category10().range()).y(yForMultiChart).width(width).height(availableHeight).interpolate(interpolate).useInteractiveGuideline(true);\n            multiChart.interactiveLayer.tooltip.valueFormatter(function (value, i, datum) {\n                if (datum.key === keyForActualGreaterThanPredicted || datum.key === keyForActualLessThanPredicted) {\n                    var diff = Math.abs(datum.data.y0 - datum.data.y1);\n                    if (diff === 0) {\n                        return '-';\n                    }\n                    return diff;\n                }\n                return value;\n            });\n            multiChart.stack1.areaY1(function (d) {\n                return multiChart.stack1.scatter.yScale()(d.display.y);\n            });\n            multiChart.stack1.transformData(function (d) {\n                d.display = { y: d.y1, y0: d.y0 };\n            });\n            multiChart.xAxis.scale(xScale);\n            multiChart.xAxis.tickFormat(tickFormat);\n            var allValues = processedData.filter(function (dataset) {\n                return !dataset.disabled;\n            }).map(function (dataset) {\n                return dataset.values;\n            });\n            var dateExtent = d3.extent(d3.merge(allValues), function (d) {\n                return xForMultiChart(d);\n            });\n            multiChart.xAxis.domain(dateExtent).range([0, availableWidth]);\n            var yExtent = d3.extent(d3.merge(allValues), function (d) {\n                return yForMultiChart(d);\n            });\n            multiChart.yDomain1(yExtent);\n            multiChart.yAxis1.tickFormat(d3.format(',.1f'));\n            multiChart.yAxis2.tickFormat(d3.format(',.1f'));\n            focus.width(availableWidth);\n            focus.margin(focusMargin);\n            focus.xScale(xScale.copy());\n            focus.xAxis.tickFormat(tickFormat);\n            focus.xAxis.rotateLabels(0);\n            container.append('g').attr('class', 'nv-focusWrap').style('display', 'initial').attr('transform', 'translate(' + margin.left + ', ' + (availableHeight + focus.margin().top) + ')').datum(processedData.filter(function (dataset) {\n                return dataset.type === 'line';\n            })).call(focus);\n            container.datum(processedData).call(multiChart);\n            focus.dispatch.on('onBrush', function (extent) {\n                var filteredData = processedData.map(function (datum) {\n                    var leftIndex = -1;\n                    var rightIndex = -1;\n                    datum.values.some(function (val, index) {\n                        if (leftIndex === -1 && val.x >= extent[0]) {\n                            leftIndex = index;\n                        }\n                        if (rightIndex === -1 && val.x >= extent[1]) {\n                            rightIndex = index;\n                            return true;\n                        }\n                        return false;\n                    });\n                    var filteredValues = datum.values.slice(leftIndex, rightIndex);\n                    var iterations = 0;\n                    // don't want to end up with an empty dataset as this will\n                    // break the viewfinder.\n                    while (filteredValues.length < 2 && iterations < 5) {\n                        leftIndex -= 1;\n                        rightIndex += 1;\n                        filteredValues = datum.values.slice(leftIndex, rightIndex);\n                        iterations++;\n                    }\n                    return Object.assign({}, datum, {\n                        values: filteredValues\n                    });\n                });\n                container.datum(filteredData);\n                multiChart.xAxis.domain(extent);\n                multiChart.update();\n            });\n            chart.update = function () {\n                container.selectAll('*').remove();\n                if (duration === 0) {\n                    container.call(chart);\n                }\n                else {\n                    container.transition().duration(duration).call(chart);\n                }\n            };\n            return chart;\n        });\n    }\n    chart.options = nv.utils.optionsFunc.bind(chart);\n    chart._options = Object.create({}, {\n        width: {\n            get: function get() {\n                return width;\n            },\n            set: function set(_) {\n                width = _;\n            }\n        },\n        height: {\n            get: function get() {\n                return height;\n            },\n            set: function set(_) {\n                height = _;\n            }\n        },\n        strokeWidth: {\n            get: function get() {\n                return strokeWidth;\n            },\n            set: function set(_) {\n                strokeWidth = _;\n            }\n        },\n        x: {\n            get: function get() {\n                return xAccessor;\n            },\n            set: function set(_) {\n                xAccessor = _;\n            }\n        },\n        keyForXValue: {\n            get: function get() {\n                return keyForXValue;\n            },\n            set: function set(_) {\n                keyForXValue = _;\n            }\n        },\n        y: {\n            get: function get() {\n                return yAccessor;\n            },\n            set: function set(_) {\n                yAccessor = _;\n            }\n        },\n        xScale: {\n            get: function get() {\n                return xScale;\n            },\n            set: function set(_) {\n                xScale = _;\n            }\n        },\n        keyForActualLessThanPredicted: {\n            get: function get() {\n                return keyForActualLessThanPredicted;\n            },\n            set: function set(_) {\n                keyForActualLessThanPredicted = _;\n            }\n        },\n        keyForActualGreaterThanPredicted: {\n            get: function get() {\n                return keyForActualGreaterThanPredicted;\n            },\n            set: function set(_) {\n                keyForActualGreaterThanPredicted = _;\n            }\n        },\n        showPredictedLine: {\n            get: function get() {\n                return showPredictedLine;\n            },\n            set: function set(_) {\n                showPredictedLine = _;\n            }\n        },\n        tickFormat: {\n            get: function get() {\n                return tickFormat;\n            },\n            set: function set(_) {\n                tickFormat = _;\n            }\n        },\n        interpolate: {\n            get: function get() {\n                return interpolate;\n            },\n            set: function set(_) {\n                interpolate = _;\n            }\n        },\n        focusMargin: {\n            get: function get() {\n                return focusMargin;\n            },\n            set: function set(_) {\n                focusMargin.top = _.top !== undefined ? _.top : focusMargin.top;\n                focusMargin.right = _.right !== undefined ? _.right : focusMargin.right;\n                focusMargin.bottom = _.bottom !== undefined ? _.bottom : focusMargin.bottom;\n                focusMargin.left = _.left !== undefined ? _.left : focusMargin.left;\n            }\n        },\n        margin: {\n            get: function get() {\n                return margin;\n            },\n            set: function set(_) {\n                margin.top = _.top !== undefined ? _.top : margin.top;\n                margin.right = _.right !== undefined ? _.right : margin.right;\n                margin.bottom = _.bottom !== undefined ? _.bottom : margin.bottom;\n                margin.left = _.left !== undefined ? _.left : margin.left;\n            }\n        }\n    });\n    function processData(data) {\n        var clonedData = data.slice(0);\n        var allProcessed = clonedData.every(function (dataset) {\n            return dataset.processed;\n        });\n        var actualData = clonedData.filter(function (dataSet) {\n            return dataSet.type === 'actual';\n        });\n        var predictedData = clonedData.filter(function (dataSet) {\n            return dataSet.type === 'expected';\n        });\n        if (allProcessed) {\n            return clonedData;\n        }\n        else if (!actualData.length || !predictedData.length) {\n            return [];\n        }\n        var defaultKeyForActualLessThanPredicted = predictedData[0].key + ' minus ' + actualData[0].key + ' (Predicted > Actual)';\n        var defaultKeyForActualGreaterThanPredicted = predictedData[0].key + ' minus ' + actualData[0].key + ' (Predicted < Actual)';\n        // processedData is mapped as follows:\n        //  [0] => Savings (actual under predicted) area\n        //  [1] => 'Loss' (actual over predicted) area\n        //  [2] => Actual profile\n        //  [3] => Predicted profile\n        var processedData = [{\n                key: keyForActualLessThanPredicted || defaultKeyForActualLessThanPredicted,\n                type: 'area',\n                values: [],\n                yAxis: 1,\n                color: 'rgba(44,160,44,.9)',\n                processed: true,\n                noHighlightSeries: true\n            }, {\n                key: keyForActualGreaterThanPredicted || defaultKeyForActualGreaterThanPredicted,\n                type: 'area',\n                values: [],\n                yAxis: 1,\n                color: 'rgba(234,39,40,.9)',\n                processed: true,\n                noHighlightSeries: true\n            }, {\n                key: actualData[0].key,\n                type: 'line',\n                values: [],\n                yAxis: 1,\n                color: '#666666',\n                processed: true,\n                strokeWidth: strokeWidth\n            }];\n        if (showPredictedLine) {\n            processedData[3] = {\n                key: predictedData[0].key,\n                type: 'line',\n                values: [],\n                yAxis: 1,\n                color: '#aec7e8',\n                processed: true,\n                strokeWidth: strokeWidth\n            };\n        }\n        var actualDataAsMap = actualData[0].values.reduce(function (result, datum, idx) {\n            result[xAccessor(datum)] = yAccessor(datum);\n            return result;\n        }, {});\n        var predictedDataAsMap = predictedData[0].values.reduce(function (result, datum, idx) {\n            result[xAccessor(datum)] = yAccessor(datum);\n            return result;\n        }, {});\n        Object.keys(actualDataAsMap).forEach(function (stringifiedXValue, idx) {\n            var actualUsage = actualDataAsMap[stringifiedXValue];\n            var predictedUsage = predictedDataAsMap[stringifiedXValue];\n            var fakeDatumToGetProperXValue = {};\n            // NB - stringifiedXValue will not be the correct data type\n            // e.g. you might want to use a number/date. Pass the stringified\n            // version back through xAccessor.\n            fakeDatumToGetProperXValue[keyForXValue] = stringifiedXValue;\n            var correctlyFormattedXValue = xAccessor(fakeDatumToGetProperXValue);\n            var predictedActualDelta = predictedUsage - actualUsage;\n            // The below code generates data for the difference chart.\n            // We have four series: two for the area (processedData[0] and processedData[1]) charts\n            // and two for the line charts ([2] and [3]). The way we achieve difference chart\n            // is that for each datapoint, we calculate whether it represents a 'savings'\n            // (actual less than predicted) or a 'loss' (actual greater than predicted).\n            // The two areas are different colours (e.g. out of the box, a loss is red and a\n            // saving is green).\n            // If it's a loss, then we add an area datapoint in the loss dataset ranging from actual to predicted\n            // (the area represents the magnitude of the loss).\n            // At the same time, for the savings dataset, we make the datapoint equivalent to actual usage so that\n            // a dot renders rather than a proper area. This basically makes the savings area invisible\n            // when there is a loss.\n            //\n            // The opposite occurs when predicted is greater than savings (a saving).\n            if (isNaN(predictedActualDelta)) {\n                // if there is no predicted value for this point, just use actual usage\n                processedData[1].values[idx] = {\n                    x: correctlyFormattedXValue,\n                    y0: actualUsage,\n                    y1: actualUsage\n                };\n                processedData[0].values[idx] = {\n                    x: correctlyFormattedXValue,\n                    y0: actualUsage,\n                    y1: actualUsage\n                };\n            }\n            else if (predictedActualDelta < 0) {\n                // actual greater than predicted - this is a loss\n                // add area for loss between actualUsage (y0) and predictedUsage(y1)\n                processedData[1].values[idx] = {\n                    x: correctlyFormattedXValue,\n                    y0: actualUsage,\n                    y1: predictedUsage\n                };\n                // for the saving data series, render a dot (y0 and y1) at actualUsage - need\n                // this rather than NaN because otherwise if the next datapoint is a saving,\n                // D3 won't be able to link the two areas together\n                processedData[0].values[idx] = {\n                    x: correctlyFormattedXValue,\n                    y0: actualUsage,\n                    y1: actualUsage\n                };\n            }\n            else {\n                processedData[0].values[idx] = {\n                    x: correctlyFormattedXValue,\n                    y0: actualUsage,\n                    y1: predictedUsage\n                };\n                processedData[1].values[idx] = {\n                    x: correctlyFormattedXValue,\n                    y0: actualUsage,\n                    y1: actualUsage\n                };\n            }\n            // Set actual\n            processedData[2].values[idx] = { x: correctlyFormattedXValue, y: actualUsage };\n            // Set predicted\n            if (showPredictedLine) {\n                processedData[3].values[idx] = { x: correctlyFormattedXValue, y: predictedUsage };\n            }\n        });\n        return processedData;\n    }\n    function isDefined(thingToCheck) {\n        // NB: void 0 === undefined\n        return thingToCheck !== void 0;\n    }\n    chart.xAxis = multiChart.xAxis;\n    chart.yAxis = multiChart.yAxis1;\n    chart.multiChart = multiChart;\n    chart.focus = focus;\n    chart.processData = processData;\n    nv.utils.inheritOptions(chart, multiChart);\n    nv.utils.initOptions(chart);\n    return chart;\n};\n","//TODO: consider deprecating by adding necessary features to multiBar model\nnv.models.discreteBar = function () {\n    \"use strict\";\n    //============================================================\n    // Public Variables with Default Settings\n    //------------------------------------------------------------\n    var margin = { top: 0, right: 0, bottom: 0, left: 0 }, width = 960, height = 500, id = Math.floor(Math.random() * 10000) //Create semi-unique ID in case user doesn't select one\n    , container, x = d3.scale.ordinal(), y = d3.scale.linear(), getX = function (d) { return d.x; }, getY = function (d) { return d.y; }, forceY = [0] // 0 is forced by default.. this makes sense for the majority of bar graphs... user can always do chart.forceY([]) to remove\n    , color = nv.utils.defaultColor(), cornerRadius = 0 // sets corner radius (in pixels) to each bar\n    , showValues = false, valueFormat = d3.format(',.2f'), xDomain, yDomain, xRange, yRange, dispatch = d3.dispatch('chartClick', 'elementClick', 'elementDblClick', 'elementMouseover', 'elementMouseout', 'elementMousemove', 'renderEnd'), rectClass = 'discreteBar', duration = 250;\n    //============================================================\n    // Private Variables\n    //------------------------------------------------------------\n    var x0, y0;\n    var renderWatch = nv.utils.renderWatch(dispatch, duration);\n    function chart(selection) {\n        renderWatch.reset();\n        selection.each(function (data) {\n            var availableWidth = width - margin.left - margin.right, availableHeight = height - margin.top - margin.bottom;\n            container = d3.select(this);\n            nv.utils.initSVG(container);\n            //add series index to each data point for reference\n            data.forEach(function (series, i) {\n                series.values.forEach(function (point) {\n                    point.series = i;\n                });\n            });\n            // Setup Scales\n            // remap and flatten the data for use in calculating the scales' domains\n            var seriesData = (xDomain && yDomain) ? [] : // if we know xDomain and yDomain, no need to calculate\n                data.map(function (d) {\n                    return d.values.map(function (d, i) {\n                        return { x: getX(d, i), y: getY(d, i), y0: d.y0 };\n                    });\n                });\n            x.domain(xDomain || d3.merge(seriesData).map(function (d) { return d.x; }))\n                .rangeBands(xRange || [0, availableWidth], .1);\n            y.domain(yDomain || d3.extent(d3.merge(seriesData).map(function (d) { return d.y; }).concat(forceY)));\n            // If showValues, pad the Y axis range to account for label height\n            if (showValues)\n                y.range(yRange || [availableHeight - (y.domain()[0] < 0 ? 12 : 0), y.domain()[1] > 0 ? 12 : 0]);\n            else\n                y.range(yRange || [availableHeight, 0]);\n            //store old scales if they exist\n            x0 = x0 || x;\n            y0 = y0 || y.copy().range([y(0), y(0)]);\n            // Setup containers and skeleton of chart\n            var wrap = container.selectAll('g.nv-wrap.nv-discretebar').data([data]);\n            var wrapEnter = wrap.enter().append('g').attr('class', 'nvd3 nv-wrap nv-discretebar');\n            var gEnter = wrapEnter.append('g');\n            var g = wrap.select('g');\n            gEnter.append('g').attr('class', 'nv-groups');\n            wrap.attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');\n            //TODO: by definition, the discrete bar should not have multiple groups, will modify/remove later\n            var groups = wrap.select('.nv-groups').selectAll('.nv-group')\n                .data(function (d) { return d; }, function (d) { return d.key; });\n            groups.enter().append('g')\n                .style('stroke-opacity', 1e-6)\n                .style('fill-opacity', 1e-6);\n            groups.exit()\n                .watchTransition(renderWatch, 'discreteBar: exit groups')\n                .style('stroke-opacity', 1e-6)\n                .style('fill-opacity', 1e-6)\n                .remove();\n            groups\n                .attr('class', function (d, i) { return 'nv-group nv-series-' + i; })\n                .classed('hover', function (d) { return d.hover; });\n            groups\n                .watchTransition(renderWatch, 'discreteBar: groups')\n                .style('stroke-opacity', 1)\n                .style('fill-opacity', .75);\n            var bars = groups.selectAll('g.nv-bar')\n                .data(function (d) { return d.values; });\n            bars.exit().remove();\n            var barsEnter = bars.enter().append('g')\n                .attr('transform', function (d, i, j) {\n                return 'translate(' + (x(getX(d, i)) + x.rangeBand() * .05) + ', ' + y(0) + ')';\n            })\n                .on('mouseover', function (d, i) {\n                d3.select(this).classed('hover', true);\n                dispatch.elementMouseover({\n                    data: d,\n                    index: i,\n                    color: d3.select(this).style(\"fill\")\n                });\n            })\n                .on('mouseout', function (d, i) {\n                d3.select(this).classed('hover', false);\n                dispatch.elementMouseout({\n                    data: d,\n                    index: i,\n                    color: d3.select(this).style(\"fill\")\n                });\n            })\n                .on('mousemove', function (d, i) {\n                dispatch.elementMousemove({\n                    data: d,\n                    index: i,\n                    color: d3.select(this).style(\"fill\")\n                });\n            })\n                .on('click', function (d, i) {\n                var element = this;\n                dispatch.elementClick({\n                    data: d,\n                    index: i,\n                    color: d3.select(this).style(\"fill\"),\n                    event: d3.event,\n                    element: element\n                });\n                d3.event.stopPropagation();\n            })\n                .on('dblclick', function (d, i) {\n                dispatch.elementDblClick({\n                    data: d,\n                    index: i,\n                    color: d3.select(this).style(\"fill\")\n                });\n                d3.event.stopPropagation();\n            });\n            barsEnter.append('rect')\n                .attr('height', 0)\n                .attr('width', x.rangeBand() * .9 / data.length);\n            if (showValues) {\n                barsEnter.append('text')\n                    .attr('text-anchor', 'middle');\n                bars.select('text')\n                    .text(function (d, i) { return valueFormat(getY(d, i)); })\n                    .watchTransition(renderWatch, 'discreteBar: bars text')\n                    .attr('x', x.rangeBand() * .9 / 2)\n                    .attr('y', function (d, i) { return getY(d, i) < 0 ? y(getY(d, i)) - y(0) + 12 : -4; });\n            }\n            else {\n                bars.selectAll('text').remove();\n            }\n            bars\n                .attr('class', function (d, i) { return getY(d, i) < 0 ? 'nv-bar negative' : 'nv-bar positive'; })\n                .style('fill', function (d, i) { return d.color || color(d, i); })\n                .style('stroke', function (d, i) { return d.color || color(d, i); })\n                .select('rect')\n                .attr('rx', cornerRadius)\n                .attr('class', rectClass)\n                .watchTransition(renderWatch, 'discreteBar: bars rect')\n                .attr('width', x.rangeBand() * .9 / data.length);\n            bars.watchTransition(renderWatch, 'discreteBar: bars')\n                //.delay(function(d,i) { return i * 1200 / data[0].values.length })\n                .attr('transform', function (d, i) {\n                var left = x(getX(d, i)) + x.rangeBand() * .05, top = getY(d, i) < 0 ?\n                    y(0) :\n                    y(0) - y(getY(d, i)) < 1 ?\n                        y(0) - 1 : //make 1 px positive bars show up above y=0\n                        y(getY(d, i));\n                return 'translate(' + left + ', ' + top + ')';\n            })\n                .select('rect')\n                .attr('height', function (d, i) {\n                return Math.max(Math.abs(y(getY(d, i)) - y(0)), 1);\n            });\n            //store old scales for use in transitions on update\n            x0 = x.copy();\n            y0 = y.copy();\n        });\n        renderWatch.renderEnd('discreteBar immediate');\n        return chart;\n    }\n    //============================================================\n    // Expose Public Variables\n    //------------------------------------------------------------\n    chart.dispatch = dispatch;\n    chart.options = nv.utils.optionsFunc.bind(chart);\n    chart._options = Object.create({}, {\n        // simple options, just get/set the necessary values\n        width: { get: function () { return width; }, set: function (_) { width = _; } },\n        height: { get: function () { return height; }, set: function (_) { height = _; } },\n        forceY: { get: function () { return forceY; }, set: function (_) { forceY = _; } },\n        showValues: { get: function () { return showValues; }, set: function (_) { showValues = _; } },\n        cornerRadius: { get: function () { return cornerRadius; }, set: function (_) { cornerRadius = _; } },\n        x: { get: function () { return getX; }, set: function (_) { getX = _; } },\n        y: { get: function () { return getY; }, set: function (_) { getY = _; } },\n        xScale: { get: function () { return x; }, set: function (_) { x = _; } },\n        yScale: { get: function () { return y; }, set: function (_) { y = _; } },\n        xDomain: { get: function () { return xDomain; }, set: function (_) { xDomain = _; } },\n        yDomain: { get: function () { return yDomain; }, set: function (_) { yDomain = _; } },\n        xRange: { get: function () { return xRange; }, set: function (_) { xRange = _; } },\n        yRange: { get: function () { return yRange; }, set: function (_) { yRange = _; } },\n        valueFormat: { get: function () { return valueFormat; }, set: function (_) { valueFormat = _; } },\n        id: { get: function () { return id; }, set: function (_) { id = _; } },\n        rectClass: { get: function () { return rectClass; }, set: function (_) { rectClass = _; } },\n        // options that require extra logic in the setter\n        margin: {\n            get: function () { return margin; }, set: function (_) {\n                margin.top = _.top !== undefined ? _.top : margin.top;\n                margin.right = _.right !== undefined ? _.right : margin.right;\n                margin.bottom = _.bottom !== undefined ? _.bottom : margin.bottom;\n                margin.left = _.left !== undefined ? _.left : margin.left;\n            }\n        },\n        color: {\n            get: function () { return color; }, set: function (_) {\n                color = nv.utils.getColor(_);\n            }\n        },\n        duration: {\n            get: function () { return duration; }, set: function (_) {\n                duration = _;\n                renderWatch.reset(duration);\n            }\n        }\n    });\n    nv.utils.initOptions(chart);\n    return chart;\n};\n","nv.models.discreteBarChart = function () {\n    \"use strict\";\n    //============================================================\n    // Public Variables with Default Settings\n    //------------------------------------------------------------\n    var discretebar = nv.models.discreteBar(), xAxis = nv.models.axis(), yAxis = nv.models.axis(), legend = nv.models.legend(), tooltip = nv.models.tooltip();\n    var margin = { top: 15, right: 10, bottom: 50, left: 60 }, marginTop = null, width = null, height = null, color = nv.utils.getColor(), showLegend = false, showXAxis = true, showYAxis = true, rightAlignYAxis = false, staggerLabels = false, wrapLabels = false, rotateLabels = 0, x, y, noData = null, dispatch = d3.dispatch('beforeUpdate', 'renderEnd'), duration = 250;\n    xAxis\n        .orient('bottom')\n        .showMaxMin(false)\n        .tickFormat(function (d) { return d; });\n    yAxis\n        .orient((rightAlignYAxis) ? 'right' : 'left')\n        .tickFormat(d3.format(',.1f'));\n    tooltip\n        .duration(0)\n        .headerEnabled(false)\n        .valueFormatter(function (d, i) {\n        return yAxis.tickFormat()(d, i);\n    })\n        .keyFormatter(function (d, i) {\n        return xAxis.tickFormat()(d, i);\n    });\n    //============================================================\n    // Private Variables\n    //------------------------------------------------------------\n    var renderWatch = nv.utils.renderWatch(dispatch, duration);\n    function chart(selection) {\n        renderWatch.reset();\n        renderWatch.models(discretebar);\n        if (showXAxis)\n            renderWatch.models(xAxis);\n        if (showYAxis)\n            renderWatch.models(yAxis);\n        selection.each(function (data) {\n            var container = d3.select(this), that = this;\n            nv.utils.initSVG(container);\n            var availableWidth = nv.utils.availableWidth(width, container, margin), availableHeight = nv.utils.availableHeight(height, container, margin);\n            chart.update = function () {\n                dispatch.beforeUpdate();\n                container.transition().duration(duration).call(chart);\n            };\n            chart.container = this;\n            // Display No Data message if there's nothing to show.\n            if (!data || !data.length || !data.filter(function (d) { return d.values.length; }).length) {\n                nv.utils.noData(chart, container);\n                return chart;\n            }\n            else {\n                container.selectAll('.nv-noData').remove();\n            }\n            // Setup Scales\n            x = discretebar.xScale();\n            y = discretebar.yScale().clamp(true);\n            // Setup containers and skeleton of chart\n            var wrap = container.selectAll('g.nv-wrap.nv-discreteBarWithAxes').data([data]);\n            var gEnter = wrap.enter().append('g').attr('class', 'nvd3 nv-wrap nv-discreteBarWithAxes').append('g');\n            var defsEnter = gEnter.append('defs');\n            var g = wrap.select('g');\n            gEnter.append('g').attr('class', 'nv-x nv-axis');\n            gEnter.append('g').attr('class', 'nv-y nv-axis')\n                .append('g').attr('class', 'nv-zeroLine')\n                .append('line');\n            gEnter.append('g').attr('class', 'nv-barsWrap');\n            gEnter.append('g').attr('class', 'nv-legendWrap');\n            g.attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');\n            // Legend\n            if (!showLegend) {\n                g.select('.nv-legendWrap').selectAll('*').remove();\n            }\n            else {\n                legend.width(availableWidth);\n                g.select('.nv-legendWrap')\n                    .datum(data)\n                    .call(legend);\n                if (!marginTop && legend.height() !== margin.top) {\n                    margin.top = legend.height();\n                    availableHeight = nv.utils.availableHeight(height, container, margin);\n                }\n                wrap.select('.nv-legendWrap')\n                    .attr('transform', 'translate(0,' + (-margin.top) + ')');\n            }\n            if (rightAlignYAxis) {\n                g.select(\".nv-y.nv-axis\")\n                    .attr(\"transform\", \"translate(\" + availableWidth + \",0)\");\n            }\n            // Main Chart Component(s)\n            discretebar\n                .width(availableWidth)\n                .height(availableHeight);\n            var barsWrap = g.select('.nv-barsWrap')\n                .datum(data.filter(function (d) { return !d.disabled; }));\n            barsWrap.transition().call(discretebar);\n            defsEnter.append('clipPath')\n                .attr('id', 'nv-x-label-clip-' + discretebar.id())\n                .append('rect');\n            g.select('#nv-x-label-clip-' + discretebar.id() + ' rect')\n                .attr('width', x.rangeBand() * (staggerLabels ? 2 : 1))\n                .attr('height', 16)\n                .attr('x', -x.rangeBand() / (staggerLabels ? 1 : 2));\n            // Setup Axes\n            if (showXAxis) {\n                xAxis\n                    .scale(x)\n                    ._ticks(nv.utils.calcTicksX(availableWidth / 100, data))\n                    .tickSize(-availableHeight, 0);\n                g.select('.nv-x.nv-axis')\n                    .attr('transform', 'translate(0,' + (y.range()[0] + ((discretebar.showValues() && y.domain()[0] < 0) ? 16 : 0)) + ')');\n                g.select('.nv-x.nv-axis').call(xAxis);\n                var xTicks = g.select('.nv-x.nv-axis').selectAll('g');\n                if (staggerLabels) {\n                    xTicks\n                        .selectAll('text')\n                        .attr('transform', function (d, i, j) { return 'translate(0,' + (j % 2 == 0 ? '5' : '17') + ')'; });\n                }\n                if (rotateLabels) {\n                    xTicks\n                        .selectAll('.tick text')\n                        .attr('transform', 'rotate(' + rotateLabels + ' 0,0)')\n                        .style('text-anchor', rotateLabels > 0 ? 'start' : 'end');\n                }\n                if (wrapLabels) {\n                    g.selectAll('.tick text')\n                        .call(nv.utils.wrapTicks, chart.xAxis.rangeBand());\n                }\n            }\n            if (showYAxis) {\n                yAxis\n                    .scale(y)\n                    ._ticks(nv.utils.calcTicksY(availableHeight / 36, data, discretebar.y()))\n                    .tickSize(-availableWidth, 0);\n                g.select('.nv-y.nv-axis').call(yAxis);\n            }\n            // Zero line\n            g.select(\".nv-zeroLine line\")\n                .attr(\"x1\", 0)\n                .attr(\"x2\", (rightAlignYAxis) ? -availableWidth : availableWidth)\n                .attr(\"y1\", y(0))\n                .attr(\"y2\", y(0));\n        });\n        renderWatch.renderEnd('discreteBar chart immediate');\n        return chart;\n    }\n    //============================================================\n    // Event Handling/Dispatching (out of chart's scope)\n    //------------------------------------------------------------\n    discretebar.dispatch.on('elementMouseover.tooltip', function (evt) {\n        evt['series'] = {\n            key: chart.x()(evt.data),\n            value: chart.y()(evt.data),\n            color: evt.color\n        };\n        tooltip.data(evt).hidden(false);\n    });\n    discretebar.dispatch.on('elementMouseout.tooltip', function (evt) {\n        tooltip.hidden(true);\n    });\n    discretebar.dispatch.on('elementMousemove.tooltip', function (evt) {\n        tooltip();\n    });\n    //============================================================\n    // Expose Public Variables\n    //------------------------------------------------------------\n    chart.dispatch = dispatch;\n    chart.discretebar = discretebar;\n    chart.legend = legend;\n    chart.xAxis = xAxis;\n    chart.yAxis = yAxis;\n    chart.tooltip = tooltip;\n    chart.options = nv.utils.optionsFunc.bind(chart);\n    chart._options = Object.create({}, {\n        // simple options, just get/set the necessary values\n        width: { get: function () { return width; }, set: function (_) { width = _; } },\n        height: { get: function () { return height; }, set: function (_) { height = _; } },\n        showLegend: { get: function () { return showLegend; }, set: function (_) { showLegend = _; } },\n        staggerLabels: { get: function () { return staggerLabels; }, set: function (_) { staggerLabels = _; } },\n        rotateLabels: { get: function () { return rotateLabels; }, set: function (_) { rotateLabels = _; } },\n        wrapLabels: { get: function () { return wrapLabels; }, set: function (_) { wrapLabels = !!_; } },\n        showXAxis: { get: function () { return showXAxis; }, set: function (_) { showXAxis = _; } },\n        showYAxis: { get: function () { return showYAxis; }, set: function (_) { showYAxis = _; } },\n        noData: { get: function () { return noData; }, set: function (_) { noData = _; } },\n        // options that require extra logic in the setter\n        margin: { get: function () { return margin; }, set: function (_) {\n                if (_.top !== undefined) {\n                    margin.top = _.top;\n                    marginTop = _.top;\n                }\n                margin.right = _.right !== undefined ? _.right : margin.right;\n                margin.bottom = _.bottom !== undefined ? _.bottom : margin.bottom;\n                margin.left = _.left !== undefined ? _.left : margin.left;\n            } },\n        duration: { get: function () { return duration; }, set: function (_) {\n                duration = _;\n                renderWatch.reset(duration);\n                discretebar.duration(duration);\n                xAxis.duration(duration);\n                yAxis.duration(duration);\n            } },\n        color: { get: function () { return color; }, set: function (_) {\n                color = nv.utils.getColor(_);\n                discretebar.color(color);\n                legend.color(color);\n            } },\n        rightAlignYAxis: { get: function () { return rightAlignYAxis; }, set: function (_) {\n                rightAlignYAxis = _;\n                yAxis.orient((_) ? 'right' : 'left');\n            } }\n    });\n    nv.utils.inheritOptions(chart, discretebar);\n    nv.utils.initOptions(chart);\n    return chart;\n};\n","nv.models.distribution = function () {\n    \"use strict\";\n    //============================================================\n    // Public Variables with Default Settings\n    //------------------------------------------------------------\n    var margin = { top: 0, right: 0, bottom: 0, left: 0 }, width = 400 //technically width or height depending on x or y....\n    , size = 8, axis = 'x' // 'x' or 'y'... horizontal or vertical\n    , getData = function (d) { return d[axis]; } // defaults d.x or d.y\n    , color = nv.utils.defaultColor(), scale = d3.scale.linear(), domain, duration = 250, dispatch = d3.dispatch('renderEnd');\n    //============================================================\n    //============================================================\n    // Private Variables\n    //------------------------------------------------------------\n    var scale0;\n    var renderWatch = nv.utils.renderWatch(dispatch, duration);\n    //============================================================\n    function chart(selection) {\n        renderWatch.reset();\n        selection.each(function (data) {\n            var availableLength = width - (axis === 'x' ? margin.left + margin.right : margin.top + margin.bottom), naxis = axis == 'x' ? 'y' : 'x', container = d3.select(this);\n            nv.utils.initSVG(container);\n            //------------------------------------------------------------\n            // Setup Scales\n            scale0 = scale0 || scale;\n            //------------------------------------------------------------\n            //------------------------------------------------------------\n            // Setup containers and skeleton of chart\n            var wrap = container.selectAll('g.nv-distribution').data([data]);\n            var wrapEnter = wrap.enter().append('g').attr('class', 'nvd3 nv-distribution');\n            var gEnter = wrapEnter.append('g');\n            var g = wrap.select('g');\n            wrap.attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');\n            //------------------------------------------------------------\n            var distWrap = g.selectAll('g.nv-dist')\n                .data(function (d) { return d; }, function (d) { return d.key; });\n            distWrap.enter().append('g');\n            distWrap\n                .attr('class', function (d, i) { return 'nv-dist nv-series-' + i; })\n                .style('stroke', function (d, i) { return color(d, i); });\n            var dist = distWrap.selectAll('line.nv-dist' + axis)\n                .data(function (d) { return d.values; });\n            dist.enter().append('line')\n                .attr(axis + '1', function (d, i) { return scale0(getData(d, i)); })\n                .attr(axis + '2', function (d, i) { return scale0(getData(d, i)); });\n            renderWatch.transition(distWrap.exit().selectAll('line.nv-dist' + axis), 'dist exit')\n                // .transition()\n                .attr(axis + '1', function (d, i) { return scale(getData(d, i)); })\n                .attr(axis + '2', function (d, i) { return scale(getData(d, i)); })\n                .style('stroke-opacity', 0)\n                .remove();\n            dist\n                .attr('class', function (d, i) { return 'nv-dist' + axis + ' nv-dist' + axis + '-' + i; })\n                .attr(naxis + '1', 0)\n                .attr(naxis + '2', size);\n            renderWatch.transition(dist, 'dist')\n                // .transition()\n                .attr(axis + '1', function (d, i) { return scale(getData(d, i)); })\n                .attr(axis + '2', function (d, i) { return scale(getData(d, i)); });\n            scale0 = scale.copy();\n        });\n        renderWatch.renderEnd('distribution immediate');\n        return chart;\n    }\n    //============================================================\n    // Expose Public Variables\n    //------------------------------------------------------------\n    chart.options = nv.utils.optionsFunc.bind(chart);\n    chart.dispatch = dispatch;\n    chart.margin = function (_) {\n        if (!arguments.length)\n            return margin;\n        margin.top = typeof _.top != 'undefined' ? _.top : margin.top;\n        margin.right = typeof _.right != 'undefined' ? _.right : margin.right;\n        margin.bottom = typeof _.bottom != 'undefined' ? _.bottom : margin.bottom;\n        margin.left = typeof _.left != 'undefined' ? _.left : margin.left;\n        return chart;\n    };\n    chart.width = function (_) {\n        if (!arguments.length)\n            return width;\n        width = _;\n        return chart;\n    };\n    chart.axis = function (_) {\n        if (!arguments.length)\n            return axis;\n        axis = _;\n        return chart;\n    };\n    chart.size = function (_) {\n        if (!arguments.length)\n            return size;\n        size = _;\n        return chart;\n    };\n    chart.getData = function (_) {\n        if (!arguments.length)\n            return getData;\n        getData = d3.functor(_);\n        return chart;\n    };\n    chart.scale = function (_) {\n        if (!arguments.length)\n            return scale;\n        scale = _;\n        return chart;\n    };\n    chart.color = function (_) {\n        if (!arguments.length)\n            return color;\n        color = nv.utils.getColor(_);\n        return chart;\n    };\n    chart.duration = function (_) {\n        if (!arguments.length)\n            return duration;\n        duration = _;\n        renderWatch.reset(duration);\n        return chart;\n    };\n    //============================================================\n    return chart;\n};\n","nv.models.distroPlot = function () {\n    \"use strict\";\n    // IMPROVEMENTS:\n    // - cleanup tooltip to look like candlestick example (don't need color square for everything)\n    // - extend y scale range to min/max data better visually\n    // - tips of violins need to be cut off if very long\n    // - transition from box to violin not great since box only has a few points, and violin has many - need to generate box with as many points as violin\n    // - when providing colorGroup, should color boxes by either parent or child group category (e.g. isolator)\n    //============================================================\n    // Public Variables with Default Settings\n    //------------------------------------------------------------\n    var margin = { top: 0, right: 0, bottom: 0, left: 0 }, width = 960, height = 500, id = Math.floor(Math.random() * 10000), // Create semi-unique ID in case user doesn't select one\n    xScale = d3.scale.ordinal(), yScale = d3.scale.linear(), getX = function (d) { return d.label; }, // Default data model selectors.\n    getY = function (d) { return d.value; }, getColor = function (d) { return d.color; }, getQ1 = function (d) { return d.values.q1; }, getQ2 = function (d) { return d.values.q2; }, getQ3 = function (d) { return d.values.q3; }, getNl = function (d) { return (centralTendency == 'mean' ? getMean(d) : getQ2(d)) - d.values.notch; }, getNu = function (d) { return (centralTendency == 'mean' ? getMean(d) : getQ2(d)) + d.values.notch; }, getMean = function (d) { return d.values.mean; }, getWl = function (d) { return d.values.wl[whiskerDef]; }, getWh = function (d) { return d.values.wu[whiskerDef]; }, getMin = function (d) { return d.values.min; }, getMax = function (d) { return d.values.max; }, getDev = function (d) { return d.values.dev; }, getValsObj = function (d) { return d.values.observations; }, getValsArr = function (d) { return d.values.observations.map(function (e) { return e.y; }); }, plotType, // type of background: 'box', 'violin', 'none'/false - default: 'box' - 'none' will activate random scatter automatically\n    observationType = false, // type of observations to show: 'random', 'swarm', 'line', 'centered' - default: false (don't show any observations, even if an outlier)\n    whiskerDef = 'iqr', // type of whisker to render: 'iqr', 'minmax', 'stddev' - default: iqr\n    hideWhiskers = false, notchBox = false, // bool whether to notch box\n    colorGroup = false, // if specified, each x-category will be split into groups, each colored\n    centralTendency = false, showOnlyOutliers = true, // show only outliers in box plot\n    jitter = 0.7, // faction of that jitter should take up in 'random' observationType, must be in range [0,1]; see jitterX(), default 0.7\n    squash = true, // whether to remove the x-axis positions for empty data groups, default is true\n    bandwidth = 'scott', // bandwidth for kde calculation, can be float or str, if str, must be one of scott or silverman\n    clampViolin = true, // whether to clamp the \"tails\" of the violin; prevents long 0-density area\n    resolution = 50, pointSize = 3, color = nv.utils.defaultColor(), container = null, xDomain, xRange, yDomain, yRange, dispatch = d3.dispatch('elementMouseover', 'elementMouseout', 'elementMousemove', 'renderEnd'), duration = 250, maxBoxWidth = null;\n    //============================================================\n    // Helper Functions\n    //------------------------------------------------------------\n    /* Returns the smaller of std(X, ddof=1) or normalized IQR(X) over axis 0.\n     *\n     * @param (list) x - input x formatted as a single list of values\n     *\n     * @return float\n     *\n     * Source: https://github.com/statsmodels/statsmodels/blob/master/statsmodels/nonparametric/bandwidths.py#L9\n     */\n    function select_sigma(x) {\n        var sorted = x.sort(d3.ascending); // sort our dat\n        var normalize = 1.349;\n        var IQR = (d3.quantile(sorted, 0.75) - d3.quantile(sorted, 0.25)) / normalize; // normalized IQR\n        return d3.min([d3.deviation(sorted), IQR]);\n    }\n    /*\n    Scott's Rule of Thumb\n\n    Parameters\n    ----------\n    x : array-like\n        Array for which to get the bandwidth\n    type : string\n           The type of estimate to use, must be one of scott or silverman\n\n    Returns\n    -------\n    bw : float\n        The estimate of the bandwidth\n\n    Notes\n    -----\n    Returns 1.059 * A * n ** (-1/5.) where ::\n       A = min(std(x, ddof=1), IQR/1.349)\n       IQR = np.subtract.reduce(np.percentile(x, [75,25]))\n\n    References\n    ----------\n    Scott, D.W. (1992) Multivariate Density Estimation: Theory, Practice, and\n        Visualization.\n     */\n    function calcBandwidth(x, type) {\n        if (typeof type === 'undefined')\n            type = 'scott';\n        // TODO: consider using https://github.com/jasondavies/science.js\n        var A = select_sigma(x);\n        var n = x.length;\n        return type === 'scott' ? Math.pow(1.059 * A * n, -0.2) : Math.pow(.9 * A * n, -0.2);\n    }\n    /*\n     * Prep data for use with distroPlot by grouping data\n     * by .x() option set by user and then calculating\n     * count, sum, mean, q1, q2 (median), q3, lower whisker (wl)\n     * upper whisker (wu), iqr, min, max, and standard dev.\n     *\n     * NOTE: preparing this data can be resource intensive, and\n     *       is therefore only run once on plot load. It can\n     *       manually be run by calling recalcData(). This should\n     *       be re-run any time the axis accessors are changed or\n     *       when bandwidth/resolution are updated.\n     *\n     * NOTE: this will also setup the individual vertical scales\n     *       for the violins.\n     *\n     * @param (list) dat - input data formatted as list of objects,\n     *   with an object key that must exist when accessed by getX()\n     *\n     * @return prepared data in the form for box plotType:\n     * [{\n     *    key : YY,\n     *    values: {\n     *      count: XX,\n     *      sum: XX,\n     *      mean: XX,\n     *      q1: XX,\n     *      q2: XX,\n     *      q3: XX,\n     *      wl: XX,\n     *      wu: XX,\n     *      iqr: XX,\n     *      min: XX,\n     *      max: XX,\n     *      dev: XX,\n     *      observations: [{y:XX,..},..],\n     *      key: XX,\n     *      kdeDat: XX,\n     *      notch: XX,\n     *    }\n     *  },\n     *  ...\n     *  ]\n     * for violin plotType:\n     * [{\n     *    key : YY,\n     *    values: {\n     *      original: [{y:XX,..},..]\n     *    }\n     *  },\n     *  ...\n     *  ]\n     * where YY are those keys in dat that define the\n     * x-axis and which are defined by .x()\n     */\n    function prepData(dat) {\n        // helper function to calcuate the various boxplot stats\n        function calcStats(g, xGroup) {\n            // sort data by Y so we can calc quartiles\n            var v = g.map(function (d) {\n                if (colorGroup)\n                    allColorGroups.add(colorGroup(d)); // list of all colorGroups; used to set x-axis\n                return getY(d);\n            }).sort(d3.ascending);\n            var q1 = d3.quantile(v, 0.25);\n            var q3 = d3.quantile(v, 0.75);\n            var iqr = q3 - q1;\n            var upper = q3 + 1.5 * iqr;\n            var lower = q1 - 1.5 * iqr;\n            /* whisker definitions:\n             *  - iqr: also known as Tukey boxplot, the lowest datum still within 1.5 IQR of the lower quartile, and the highest datum still within 1.5 IQR of the upper quartile\n             *  - minmax: the minimum and maximum of all of the data\n             *  - sttdev: one standard deviation above and below the mean of the data\n             * Note that the central tendency type (median or mean) does not impact the whisker location\n             */\n            var wl = { iqr: d3.max([d3.min(v), d3.min(v.filter(function (d) { return d > lower; }))]), minmax: d3.min(v), stddev: d3.mean(v) - d3.deviation(v) };\n            var wu = { iqr: d3.min([d3.max(v), d3.max(v.filter(function (d) { return d < upper; }))]), minmax: d3.max(v), stddev: d3.mean(v) + d3.deviation(v) };\n            var median = d3.median(v);\n            var mean = d3.mean(v);\n            var observations = [];\n            // d3-beeswarm library must be externally loaded if being used\n            // https://github.com/Kcnarf/d3-beeswarm\n            if (typeof d3.beeswarm !== 'undefined') {\n                observations = d3.beeswarm()\n                    .data(g.map(function (e) { return getY(e); }))\n                    .radius(pointSize + 1)\n                    .orientation('vertical')\n                    .side('symmetric')\n                    .distributeOn(function (e) { return yScale(e); })\n                    .arrange();\n                // add group info for tooltip\n                observations.map(function (e, i) {\n                    e.key = xGroup;\n                    e.object_constancy = g[i].object_constancy;\n                    e.isOutlier = (e.datum < wl.iqr || e.datum > wu.iqr); // add isOulier meta for proper class assignment\n                    e.isOutlierStdDev = (e.datum < wl.stddev || e.datum > wu.stddev); // add isOulier meta for proper class assignment\n                    e.randX = Math.random() * jitter * (Math.floor(Math.random() * 2) == 1 ? 1 : -1); // calculate random x-position only once for each point\n                });\n            }\n            else {\n                v.forEach(function (e, i) {\n                    observations.push({\n                        object_constancy: e.object_constancy,\n                        datum: e,\n                        key: xGroup,\n                        isOutlier: (e < wl.iqr || e > wu.iqr),\n                        isOutlierStdDev: (e < wl.stddev || e > wu.stddev),\n                        randX: Math.random() * jitter * (Math.floor(Math.random() * 2) == 1 ? 1 : -1)\n                    });\n                });\n            }\n            // calculate bandwidth if no number is provided\n            if (isNaN(parseFloat(bandwidth))) { // if not is float\n                var bandwidthCalc;\n                if (['scott', 'silverman'].indexOf(bandwidth) != -1) {\n                    bandwidthCalc = calcBandwidth(v, bandwidth);\n                }\n                else {\n                    bandwidthCalc = calcBandwidth(v); // calculate with default 'scott'\n                }\n            }\n            var kde = kernelDensityEstimator(eKernel(bandwidthCalc), yScale.ticks(resolution));\n            var kdeDat = clampViolin ? clampViolinKDE(kde(v), d3.extent(v)) : kde(v);\n            // make a new vertical scale for each group\n            var tmpScale = d3.scale.linear()\n                .domain([0, d3.max(kdeDat, function (e) { return e.y; })])\n                .clamp(true);\n            yVScale.push(tmpScale);\n            var reformat = {\n                count: v.length,\n                num_outlier: observations.filter(function (e) { return e.isOutlier; }).length,\n                sum: d3.sum(v),\n                mean: mean,\n                q1: q1,\n                q2: median,\n                q3: q3,\n                wl: wl,\n                wu: wu,\n                iqr: iqr,\n                min: d3.min(v),\n                max: d3.max(v),\n                dev: d3.deviation(v),\n                observations: observations,\n                key: xGroup,\n                kde: kdeDat,\n                notch: 1.57 * iqr / Math.sqrt(v.length),\n            };\n            if (colorGroup) {\n                reformatDatFlat.push({ key: xGroup, values: reformat });\n            }\n            return reformat;\n        }\n        // assign a unique identifier for each point for object constancy\n        // this makes updating data possible\n        dat.forEach(function (d, i) { d.object_constancy = i + '_' + getY(d) + '_' + getX(d); });\n        // TODO not DRY\n        // couldn't find a conditional way of doing the key() grouping\n        var formatted;\n        if (!colorGroup) {\n            formatted = d3.nest()\n                .key(function (d) { return getX(d); })\n                .rollup(function (v, i) {\n                return calcStats(v);\n            })\n                .entries(dat);\n        }\n        else {\n            allColorGroups = d3.set(); // reset\n            var tmp = d3.nest()\n                .key(function (d) { return getX(d); })\n                .key(function (d) { return colorGroup(d); })\n                .rollup(function (v) {\n                return calcStats(v, getX(v[0]));\n            })\n                .entries(dat);\n            // generate a final list of all x & colorGroup combinations\n            // this is used to properly set the x-axis domain\n            allColorGroups = allColorGroups.values(); // convert from d3.set to list\n            var xGroups = tmp.map(function (d) { return d.key; });\n            var allGroups = [];\n            for (var i = 0; i < xGroups.length; i++) {\n                for (var j = 0; j < allColorGroups.length; j++) {\n                    allGroups.push(xGroups[i] + '_' + allColorGroups[j]);\n                }\n            }\n            allColorGroups = allGroups;\n            // flatten the inner most level so that\n            // the plot retains the same DOM structure\n            // to allow for smooth updating between\n            // all groups.\n            formatted = [];\n            tmp.forEach(function (d) {\n                d.values.forEach(function (e) { e.key = d.key + '_' + e.key; }); // generate a combo key so that each boxplot has a distinct x-position\n                formatted.push.apply(formatted, d.values);\n            });\n        }\n        return formatted;\n    }\n    // https://bl.ocks.org/mbostock/4341954\n    function kernelDensityEstimator(kernel, X) {\n        return function (sample) {\n            return X.map(function (x) {\n                var y = d3.mean(sample, function (v) { return kernel(x - v); });\n                return { x: x, y: y };\n            });\n        };\n    }\n    /*\n     * Limit whether the density extends past the extreme datapoints\n     * of the violin.\n     *\n     * @param (list) kde - x & y kde cooridinates\n     * @param (list) extent - min/max y-values used for clamping violing\n     */\n    function clampViolinKDE(kde, extent) {\n        // this handles the case when all the x-values are equal\n        // which means no kde could be properly calculated\n        // just return the kde data so we can continue plotting successfully\n        if (extent[0] === extent[1])\n            return kde;\n        var clamped = kde.reduce(function (res, d) {\n            if (d.x >= extent[0] && d.x <= extent[1])\n                res.push(d);\n            return res;\n        }, []);\n        // add the extreme data points back in\n        if (extent[0] < clamped[0].x)\n            clamped.unshift({ x: extent[0], y: clamped[0].y });\n        if (extent[1] > clamped[clamped.length - 1].x)\n            clamped.push({ x: extent[1], y: clamped[clamped.length - 1].y });\n        return clamped;\n    }\n    // https://bl.ocks.org/mbostock/4341954\n    function eKernel(scale) {\n        return function (u) {\n            return Math.abs(u /= scale) <= 1 ? .75 * (1 - u * u) / scale : 0;\n        };\n    }\n    /**\n     * Makes the svg polygon string for a boxplot in either a notched\n     * or square version\n     *\n     * NOTE: this actually only draws the left half of the box, since\n     * the shape is symmetric (and since this is how violins are drawn)\n     * we can simply generate half the box and mirror it.\n     *\n     * @param boxLeft {float} - left position of box\n     * @param notchLeft {float} - left position of notch\n     * @param dat {obj} - box plot data that was run through prepDat, must contain\n     *      data for Q1, median, Q2, notch upper and notch lower\n     * @returns {string} A string in the proper format for a svg polygon\n     */\n    function makeNotchBox(boxLeft, notchLeft, boxCenter, dat) {\n        var boxPoints;\n        var y = centralTendency == 'mean' ? getMean(dat) : getQ2(dat); // if centralTendency is not specified, we still want to notch boxes on 'median'\n        if (notchBox) {\n            boxPoints = [\n                { x: boxCenter, y: yScale(getQ1(dat)) },\n                { x: boxLeft, y: yScale(getQ1(dat)) },\n                { x: boxLeft, y: yScale(getNl(dat)) },\n                { x: notchLeft, y: yScale(y) },\n                { x: boxLeft, y: yScale(getNu(dat)) },\n                { x: boxLeft, y: yScale(getQ3(dat)) },\n                { x: boxCenter, y: yScale(getQ3(dat)) },\n            ];\n        }\n        else {\n            boxPoints = [\n                { x: boxCenter, y: yScale(getQ1(dat)) },\n                { x: boxLeft, y: yScale(getQ1(dat)) },\n                { x: boxLeft, y: yScale(y) },\n                { x: boxLeft, y: yScale(y) },\n                { x: boxLeft, y: yScale(y) },\n                { x: boxLeft, y: yScale(getQ3(dat)) },\n                { x: boxCenter, y: yScale(getQ3(dat)) },\n            ];\n        }\n        return boxPoints;\n    }\n    /**\n     * Given an x-axis group, return the available color groups within it\n     * provided that colorGroups is set, if not, x-axis group is returned\n     */\n    function getAvailableColorGroups(x) {\n        if (!colorGroup)\n            return x;\n        var tmp = reformatDat.find(function (d) { return d.key == x; });\n        return tmp.values.map(function (d) { return d.key; }).sort(d3.ascending);\n    }\n    // return true if point is an outlier\n    function isOutlier(d) {\n        return (whiskerDef == 'iqr' && d.isOutlier) || (whiskerDef == 'stddev' && d.isOutlierStdDev);\n    }\n    //============================================================\n    // Private Variables\n    //------------------------------------------------------------\n    var allColorGroups = d3.set();\n    var yVScale = [], reformatDat, reformatDatFlat = [];\n    var renderWatch = nv.utils.renderWatch(dispatch, duration);\n    var availableWidth, availableHeight;\n    function chart(selection) {\n        renderWatch.reset();\n        selection.each(function (data) {\n            availableWidth = width - margin.left - margin.right,\n                availableHeight = height - margin.top - margin.bottom;\n            container = d3.select(this);\n            nv.utils.initSVG(container);\n            // Setup y-scale so that beeswarm layout can use it in prepData()\n            yScale.domain(yDomain || d3.extent(data.map(function (d) { return getY(d); }))).nice()\n                .range(yRange || [availableHeight, 0]);\n            if (typeof reformatDat === 'undefined')\n                reformatDat = prepData(data); // this prevents us from recalculating data all the time\n            // Setup x-scale\n            xScale.rangeBands(xRange || [0, availableWidth], 0.1)\n                .domain(xDomain || (colorGroup && !squash) ? allColorGroups : reformatDat.map(function (d) { return d.key; }));\n            // Setup containers and skeleton of chart\n            var wrap = container.selectAll('g.nv-wrap').data([reformatDat]);\n            var wrapEnter = wrap.enter().append('g').attr('class', 'nvd3 nv-wrap');\n            wrap.watchTransition(renderWatch, 'nv-wrap: wrap')\n                .attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');\n            var areaEnter, distroplots = wrap.selectAll('.nv-distroplot-x-group')\n                .data(function (d) { return d; });\n            // rebind new data\n            // we don't rebuild individual x-axis groups so that we can update transition them\n            // however the data associated with each x-axis group needs to be updated\n            // so we manually update it here\n            distroplots.each(function (d, i) {\n                d3.select(this).selectAll('line.nv-distroplot-middle').datum(d);\n            });\n            areaEnter = distroplots.enter()\n                .append('g')\n                .attr('class', 'nv-distroplot-x-group')\n                .style('stroke-opacity', 1e-6).style('fill-opacity', 1e-6)\n                .style('fill', function (d, i) { return getColor(d) || color(d, i); })\n                .style('stroke', function (d, i) { return getColor(d) || color(d, i); });\n            distroplots.exit().remove();\n            var rangeBand = function () { return xScale.rangeBand(); };\n            var areaWidth = function () { return d3.min([maxBoxWidth, rangeBand() * 0.9]); };\n            var areaCenter = function () { return areaWidth() / 2; };\n            var areaLeft = function () { return areaCenter() - areaWidth() / 2; };\n            var areaRight = function () { return areaCenter() + areaWidth() / 2; };\n            var tickLeft = function () { return areaCenter() - areaWidth() / 5; };\n            var tickRight = function () { return areaCenter() + areaWidth() / 5; };\n            areaEnter.attr('transform', function (d) {\n                return 'translate(' + (xScale(d.key) + (rangeBand() - areaWidth()) * 0.5) + ', 0)';\n            });\n            distroplots\n                .watchTransition(renderWatch, 'nv-distroplot-x-group: distroplots')\n                .style('stroke-opacity', 1)\n                .style('fill-opacity', 0.5)\n                .attr('transform', function (d) {\n                return 'translate(' + (xScale(d.key) + (rangeBand() - areaWidth()) * 0.5) + ', 0)';\n            });\n            // set range for violin scale\n            yVScale.map(function (d) { d.range([areaWidth() / 2, 0]); });\n            // ----- add the SVG elements for each plot type -----\n            // scatter plot type\n            if (!plotType) {\n                showOnlyOutliers = false; // force all observations to be seen\n                if (!observationType)\n                    observationType = 'random';\n            }\n            // conditionally append whisker lines\n            areaEnter.each(function (d, i) {\n                var box = d3.select(this);\n                [getWl, getWh].forEach(function (f) {\n                    var key = (f === getWl) ? 'low' : 'high';\n                    box.append('line')\n                        .style('opacity', function () { return !hideWhiskers ? '0' : '1'; })\n                        .attr('class', 'nv-distroplot-whisker nv-distroplot-' + key);\n                    box.append('line')\n                        .style('opacity', function () { return hideWhiskers ? '0' : '1'; })\n                        .attr('class', 'nv-distroplot-tick nv-distroplot-' + key);\n                });\n            });\n            // update whisker lines and ticks\n            [getWl, getWh].forEach(function (f) {\n                var key = (f === getWl) ? 'low' : 'high';\n                var endpoint = (f === getWl) ? getQ1 : getQ3;\n                distroplots.select('line.nv-distroplot-whisker.nv-distroplot-' + key)\n                    .watchTransition(renderWatch, 'nv-distroplot-x-group: distroplots')\n                    .attr('x1', areaCenter())\n                    .attr('y1', function (d) { return plotType != 'violin' ? yScale(f(d)) : yScale(getQ2(d)); })\n                    .attr('x2', areaCenter())\n                    .attr('y2', function (d) { return plotType == 'box' ? yScale(endpoint(d)) : yScale(getQ2(d)); })\n                    .style('opacity', function () { return hideWhiskers ? '0' : '1'; });\n                distroplots.select('line.nv-distroplot-tick.nv-distroplot-' + key)\n                    .watchTransition(renderWatch, 'nv-distroplot-x-group: distroplots')\n                    .attr('x1', function (d) { return plotType != 'violin' ? tickLeft() : areaCenter(); })\n                    .attr('y1', function (d, i) { return plotType != 'violin' ? yScale(f(d)) : yScale(getQ2(d)); })\n                    .attr('x2', function (d) { return plotType != 'violin' ? tickRight() : areaCenter(); })\n                    .attr('y2', function (d, i) { return plotType != 'violin' ? yScale(f(d)) : yScale(getQ2(d)); })\n                    .style('opacity', function () { return hideWhiskers ? '0' : '1'; });\n            });\n            [getWl, getWh].forEach(function (f) {\n                var key = (f === getWl) ? 'low' : 'high';\n                areaEnter.selectAll('.nv-distroplot-' + key)\n                    .on('mouseover', function (d, i, j) {\n                    d3.select(this.parentNode).selectAll('line.nv-distroplot-' + key).classed('hover', true);\n                    dispatch.elementMouseover({\n                        value: key == 'low' ? 'Lower whisker' : 'Upper whisker',\n                        series: { key: f(d).toFixed(2), color: getColor(d) || color(d, j) },\n                        e: d3.event\n                    });\n                })\n                    .on('mouseout', function (d, i, j) {\n                    d3.select(this.parentNode).selectAll('line.nv-distroplot-' + key).classed('hover', false);\n                    dispatch.elementMouseout({\n                        value: key == 'low' ? 'Lower whisker' : 'Upper whisker',\n                        series: { key: f(d).toFixed(2), color: getColor(d) || color(d, j) },\n                        e: d3.event\n                    });\n                })\n                    .on('mousemove', function (d, i) {\n                    dispatch.elementMousemove({ e: d3.event });\n                });\n            });\n            // setup boxes as 4 parts: left-area, left-line, right-area, right-line,\n            // this way we can transition to a violin\n            areaEnter.each(function (d, i) {\n                var violin = d3.select(this);\n                ['left', 'right'].forEach(function (side) {\n                    ['line', 'area'].forEach(function (d) {\n                        violin.append('path')\n                            .attr('class', 'nv-distribution-' + d + ' nv-distribution-' + side)\n                            .attr(\"transform\", \"rotate(90,0,0)   translate(0,\" + (side == 'left' ? -areaWidth() : 0) + \")\" + (side == 'left' ? '' : ' scale(1,-1)')); // rotate violin\n                    });\n                });\n                areaEnter.selectAll('.nv-distribution-line')\n                    .style('fill', 'none');\n                areaEnter.selectAll('.nv-distribution-area')\n                    .style('stroke', 'none')\n                    .style('opacity', 0.7);\n            });\n            // transitions\n            distroplots.each(function (d, i) {\n                var violin = d3.select(this);\n                var objData = plotType == 'box' ? makeNotchBox(areaLeft(), tickLeft(), areaCenter(), d) : d.values.kde;\n                violin.selectAll('path')\n                    .datum(objData);\n                var tmpScale = yVScale[i];\n                var interp = plotType == 'box' ? 'linear' : 'basis';\n                if (plotType == 'box' || plotType == 'violin') {\n                    ['left', 'right'].forEach(function (side) {\n                        // line\n                        distroplots.selectAll('.nv-distribution-line.nv-distribution-' + side)\n                            //.watchTransition(renderWatch, 'nv-distribution-line: distroplots') // disable transition for now because it's jaring\n                            .attr(\"d\", d3.svg.line()\n                            .x(function (e) { return plotType == 'box' ? e.y : yScale(e.x); })\n                            .y(function (e) { return plotType == 'box' ? e.x : tmpScale(e.y); })\n                            .interpolate(interp))\n                            .attr(\"transform\", \"rotate(90,0,0)   translate(0,\" + (side == 'left' ? -areaWidth() : 0) + \")\" + (side == 'left' ? '' : ' scale(1,-1)')) // rotate violin\n                            .style('opacity', !plotType ? '0' : '1');\n                        // area\n                        distroplots.selectAll('.nv-distribution-area.nv-distribution-' + side)\n                            //.watchTransition(renderWatch, 'nv-distribution-line: distroplots') // disable transition for now because it's jaring\n                            .attr(\"d\", d3.svg.area()\n                            .x(function (e) { return plotType == 'box' ? e.y : yScale(e.x); })\n                            .y(function (e) { return plotType == 'box' ? e.x : tmpScale(e.y); })\n                            .y0(areaWidth() / 2)\n                            .interpolate(interp))\n                            .attr(\"transform\", \"rotate(90,0,0)   translate(0,\" + (side == 'left' ? -areaWidth() : 0) + \")\" + (side == 'left' ? '' : ' scale(1,-1)')) // rotate violin\n                            .style('opacity', !plotType ? '0' : '1');\n                    });\n                }\n                else { // scatter type, hide areas\n                    distroplots.selectAll('.nv-distribution-area')\n                        .watchTransition(renderWatch, 'nv-distribution-area: distroplots')\n                        .style('opacity', !plotType ? '0' : '1');\n                    distroplots.selectAll('.nv-distribution-line')\n                        .watchTransition(renderWatch, 'nv-distribution-line: distroplots')\n                        .style('opacity', !plotType ? '0' : '1');\n                }\n            });\n            // tooltip events\n            distroplots.selectAll('path')\n                .on('mouseover', function (d, i, j) {\n                d = d3.select(this.parentNode).datum(); // grab data from parent g\n                d3.select(this).classed('hover', true);\n                dispatch.elementMouseover({\n                    key: d.key,\n                    value: 'Group ' + d.key + ' stats',\n                    series: [\n                        { key: 'max', value: getMax(d).toFixed(2), color: getColor(d) || color(d, j) },\n                        { key: 'Q3', value: getQ3(d).toFixed(2), color: getColor(d) || color(d, j) },\n                        { key: 'Q2', value: getQ2(d).toFixed(2), color: getColor(d) || color(d, j) },\n                        { key: 'Q1', value: getQ1(d).toFixed(2), color: getColor(d) || color(d, j) },\n                        { key: 'min', value: getMin(d).toFixed(2), color: getColor(d) || color(d, j) },\n                        { key: 'mean', value: getMean(d).toFixed(2), color: getColor(d) || color(d, j) },\n                        { key: 'std. dev.', value: getDev(d).toFixed(2), color: getColor(d) || color(d, j) },\n                        { key: 'count', value: d.values.count, color: getColor(d) || color(d, j) },\n                        { key: 'num. outliers', value: d.values.num_outlier, color: getColor(d) || color(d, j) },\n                    ],\n                    data: d,\n                    index: i,\n                    e: d3.event\n                });\n            })\n                .on('mouseout', function (d, i, j) {\n                d3.select(this).classed('hover', false);\n                d = d3.select(this.parentNode).datum(); // grab data from parent g\n                dispatch.elementMouseout({\n                    key: d.key,\n                    value: 'Group ' + d.key + ' stats',\n                    series: [\n                        { key: 'max', value: getMax(d).toFixed(2), color: getColor(d) || color(d, j) },\n                        { key: 'Q3', value: getQ3(d).toFixed(2), color: getColor(d) || color(d, j) },\n                        { key: 'Q2', value: getQ2(d).toFixed(2), color: getColor(d) || color(d, j) },\n                        { key: 'Q1', value: getQ1(d).toFixed(2), color: getColor(d) || color(d, j) },\n                        { key: 'min', value: getMin(d).toFixed(2), color: getColor(d) || color(d, j) },\n                        { key: 'mean', value: getMean(d).toFixed(2), color: getColor(d) || color(d, j) },\n                        { key: 'std. dev.', value: getDev(d).toFixed(2), color: getColor(d) || color(d, j) },\n                        { key: 'count', value: d.values.count, color: getColor(d) || color(d, j) },\n                        { key: 'num. outliers', value: d.values.num_outlier, color: getColor(d) || color(d, j) },\n                    ],\n                    data: d,\n                    index: i,\n                    e: d3.event\n                });\n            })\n                .on('mousemove', function (d, i) {\n                dispatch.elementMousemove({ e: d3.event });\n            });\n            // median/mean line\n            areaEnter.append('line')\n                .attr('class', function (d) { return 'nv-distroplot-middle'; });\n            distroplots.selectAll('line.nv-distroplot-middle')\n                .watchTransition(renderWatch, 'nv-distroplot-x-group: distroplots line')\n                .attr('x1', notchBox ? tickLeft : plotType != 'violin' ? areaLeft : tickLeft())\n                .attr('y1', function (d, i, j) { return centralTendency == 'mean' ? yScale(getMean(d)) : yScale(getQ2(d)); })\n                .attr('x2', notchBox ? tickRight : plotType != 'violin' ? areaRight : tickRight())\n                .attr('y2', function (d, i) { return centralTendency == 'mean' ? yScale(getMean(d)) : yScale(getQ2(d)); })\n                .style('opacity', centralTendency ? '1' : '0');\n            // tooltip\n            distroplots.selectAll('.nv-distroplot-middle')\n                .on('mouseover', function (d, i, j) {\n                if (d3.select(this).style('opacity') == 0)\n                    return; // don't show tooltip for hidden lines\n                var fillColor = d3.select(this.parentNode).style('fill'); // color set by parent g fill\n                d3.select(this).classed('hover', true);\n                dispatch.elementMouseover({\n                    value: centralTendency == 'mean' ? 'Mean' : 'Median',\n                    series: { key: centralTendency == 'mean' ? getMean(d).toFixed(2) : getQ2(d).toFixed(2), color: fillColor },\n                    e: d3.event\n                });\n            })\n                .on('mouseout', function (d, i, j) {\n                if (d3.select(this).style('opacity') == 0)\n                    return; // don't show tooltip for hidden lines\n                d3.select(this).classed('hover', false);\n                var fillColor = d3.select(this.parentNode).style('fill'); // color set by parent g fill\n                dispatch.elementMouseout({\n                    value: centralTendency == 'mean' ? 'Mean' : 'Median',\n                    series: { key: centralTendency == 'mean' ? getMean(d).toFixed(2) : getQ2(d).toFixed(2), color: fillColor },\n                    e: d3.event\n                });\n            })\n                .on('mousemove', function (d, i) {\n                dispatch.elementMousemove({ e: d3.event });\n            });\n            // setup observations\n            // create DOMs even if not requested (and hide them), so that\n            // we can do transitions on them\n            var obsWrap = distroplots.selectAll('g.nv-distroplot-observation')\n                .data(function (d) { return getValsObj(d); }, function (d) { return d.object_constancy; });\n            var obsGroup = obsWrap.enter()\n                .append('g')\n                .attr('class', 'nv-distroplot-observation');\n            obsGroup.append('circle')\n                .style({ 'opacity': 0 });\n            obsGroup.append('line')\n                .style('stroke-width', 1)\n                .style({ 'stroke': d3.rgb(85, 85, 85), 'opacity': 0 });\n            obsWrap.exit().remove();\n            obsWrap.attr('class', function (d) { return 'nv-distroplot-observation ' + (isOutlier(d) && plotType == 'box' ? 'nv-distroplot-outlier' : 'nv-distroplot-non-outlier'); });\n            // transition observations\n            if (observationType == 'line') {\n                distroplots.selectAll('g.nv-distroplot-observation line')\n                    .watchTransition(renderWatch, 'nv-distrolot-x-group: nv-distoplot-observation')\n                    .attr(\"x1\", tickLeft() + areaWidth() / 4)\n                    .attr(\"x2\", tickRight() - areaWidth() / 4)\n                    .attr('y1', function (d) { return yScale(d.datum); })\n                    .attr('y2', function (d) { return yScale(d.datum); });\n            }\n            else {\n                distroplots.selectAll('g.nv-distroplot-observation circle')\n                    .watchTransition(renderWatch, 'nv-distroplot: nv-distroplot-observation')\n                    .attr('cy', function (d) { return yScale(d.datum); })\n                    .attr('r', pointSize);\n                // NOTE: this update can be slow when re-sizing window when many point visible \n                // TODO: filter selection down to only visible points, no need to update x-position\n                //       of the hidden points\n                distroplots.selectAll('g.nv-distroplot-observation circle')\n                    .watchTransition(renderWatch, 'nv-distroplot: nv-distroplot-observation')\n                    .attr('cx', function (d) { return observationType == 'swarm' ? d.x + areaWidth() / 2 : observationType == 'random' ? areaWidth() / 2 + d.randX * areaWidth() / 2 : areaWidth() / 2; });\n            }\n            // set opacity on outliers/non-outliers\n            // any circle/line entering has opacity 0\n            if (observationType !== false) { // observationType is False when hidding all circle/lines\n                if (!showOnlyOutliers) { // show all line/circle\n                    distroplots.selectAll(observationType == 'line' ? 'line' : 'circle')\n                        .watchTransition(renderWatch, 'nv-distroplot: nv-distroplot-observation')\n                        .style('opacity', 1);\n                }\n                else { // show only outliers\n                    distroplots.selectAll('.nv-distroplot-outlier ' + (observationType == 'line' ? 'line' : 'circle'))\n                        .watchTransition(renderWatch, 'nv-distroplot: nv-distroplot-observation')\n                        .style('opacity', 1);\n                    distroplots.selectAll('.nv-distroplot-non-outlier ' + (observationType == 'line' ? 'line' : 'circle'))\n                        .watchTransition(renderWatch, 'nv-distroplot: nv-distroplot-observation')\n                        .style('opacity', 0);\n                }\n            }\n            // hide all other observations\n            distroplots.selectAll('.nv-distroplot-observation' + (observationType == 'line' ? ' circle' : ' line'))\n                .watchTransition(renderWatch, 'nv-distroplot: nv-distoplot-observation')\n                .style('opacity', 0);\n            // tooltip events for observations\n            distroplots.selectAll('.nv-distroplot-observation')\n                .on('mouseover', function (d, i, j) {\n                var pt = d3.select(this);\n                if (showOnlyOutliers && plotType == 'box' && !isOutlier(d))\n                    return; // don't show tooltip for hidden observation\n                var fillColor = d3.select(this.parentNode).style('fill'); // color set by parent g fill\n                pt.classed('hover', true);\n                dispatch.elementMouseover({\n                    value: (plotType == 'box' && isOutlier(d)) ? 'Outlier' : 'Observation',\n                    series: { key: d.datum.toFixed(2), color: fillColor },\n                    e: d3.event\n                });\n            })\n                .on('mouseout', function (d, i, j) {\n                var pt = d3.select(this);\n                var fillColor = d3.select(this.parentNode).style('fill'); // color set by parent g fill\n                pt.classed('hover', false);\n                dispatch.elementMouseout({\n                    value: (plotType == 'box' && isOutlier(d)) ? 'Outlier' : 'Observation',\n                    series: { key: d.datum.toFixed(2), color: fillColor },\n                    e: d3.event\n                });\n            })\n                .on('mousemove', function (d, i) {\n                dispatch.elementMousemove({ e: d3.event });\n            });\n        });\n        renderWatch.renderEnd('nv-distroplot-x-group immediate');\n        return chart;\n    }\n    //============================================================\n    // Expose Public Variables\n    //------------------------------------------------------------\n    chart.dispatch = dispatch;\n    chart.options = nv.utils.optionsFunc.bind(chart);\n    chart._options = Object.create({}, {\n        // simple options, just get/set the necessary values\n        width: { get: function () { return width; }, set: function (_) { width = _; } },\n        height: { get: function () { return height; }, set: function (_) { height = _; } },\n        maxBoxWidth: { get: function () { return maxBoxWidth; }, set: function (_) { maxBoxWidth = _; } },\n        x: { get: function () { return getX; }, set: function (_) { getX = _; } },\n        y: { get: function () { return getY; }, set: function (_) { getY = _; } },\n        plotType: { get: function () { return plotType; }, set: function (_) { plotType = _; } },\n        observationType: { get: function () { return observationType; }, set: function (_) { observationType = _; } },\n        whiskerDef: { get: function () { return whiskerDef; }, set: function (_) { whiskerDef = _; } },\n        notchBox: { get: function () { return notchBox; }, set: function (_) { notchBox = _; } },\n        hideWhiskers: { get: function () { return hideWhiskers; }, set: function (_) { hideWhiskers = _; } },\n        colorGroup: { get: function () { return colorGroup; }, set: function (_) { colorGroup = _; } },\n        centralTendency: { get: function () { return centralTendency; }, set: function (_) { centralTendency = _; } },\n        bandwidth: { get: function () { return bandwidth; }, set: function (_) { bandwidth = _; } },\n        clampViolin: { get: function () { return clampViolin; }, set: function (_) { clampViolin = _; } },\n        resolution: { get: function () { return resolution; }, set: function (_) { resolution = _; } },\n        xScale: { get: function () { return xScale; }, set: function (_) { xScale = _; } },\n        yScale: { get: function () { return yScale; }, set: function (_) { yScale = _; } },\n        showOnlyOutliers: { get: function () { return showOnlyOutliers; }, set: function (_) { showOnlyOutliers = _; } },\n        jitter: { get: function () { return jitter; }, set: function (_) { jitter = _; } },\n        squash: { get: function () { return squash; }, set: function (_) { squash = _; } },\n        pointSize: { get: function () { return pointSize; }, set: function (_) { pointSize = _; } },\n        xDomain: { get: function () { return xDomain; }, set: function (_) { xDomain = _; } },\n        yDomain: { get: function () { return yDomain; }, set: function (_) { yDomain = _; } },\n        xRange: { get: function () { return xRange; }, set: function (_) { xRange = _; } },\n        yRange: { get: function () { return yRange; }, set: function (_) { yRange = _; } },\n        recalcData: { get: function () { reformatDat = prepData(container.datum()); } },\n        itemColor: { get: function () { return getColor; }, set: function (_) { getColor = _; } },\n        id: { get: function () { return id; }, set: function (_) { id = _; } },\n        // options that require extra logic in the setter\n        margin: { get: function () { return margin; }, set: function (_) {\n                margin.top = _.top !== undefined ? _.top : margin.top;\n                margin.right = _.right !== undefined ? _.right : margin.right;\n                margin.bottom = _.bottom !== undefined ? _.bottom : margin.bottom;\n                margin.left = _.left !== undefined ? _.left : margin.left;\n            } },\n        color: { get: function () { return color; }, set: function (_) {\n                color = nv.utils.getColor(_);\n            } },\n        duration: { get: function () { return duration; }, set: function (_) {\n                duration = _;\n                renderWatch.reset(duration);\n            } }\n    });\n    nv.utils.initOptions(chart);\n    return chart;\n};\n","nv.models.distroPlotChart = function () {\n    \"use strict\";\n    //============================================================\n    // Public Variables with Default Settings\n    //------------------------------------------------------------\n    var distroplot = nv.models.distroPlot(), xAxis = nv.models.axis(), yAxis = nv.models.axis();\n    var margin = { top: 25, right: 10, bottom: 40, left: 60 }, width = null, height = null, color = nv.utils.getColor(), showXAxis = true, showYAxis = true, rightAlignYAxis = false, staggerLabels = false, xLabel = false, yLabel = false, tooltip = nv.models.tooltip(), x, y, noData = 'No Data Available.', dispatch = d3.dispatch('stateChange', 'beforeUpdate', 'renderEnd'), duration = 500;\n    xAxis\n        .orient('bottom')\n        .showMaxMin(false)\n        .tickFormat(function (d) { return d; });\n    yAxis\n        .orient((rightAlignYAxis) ? 'right' : 'left')\n        .tickFormat(d3.format(',.1f'));\n    tooltip.duration(0);\n    //============================================================\n    // Private Variables\n    //------------------------------------------------------------\n    var renderWatch = nv.utils.renderWatch(dispatch, duration);\n    var colorGroup0, marginTop0 = margin.top, x0, y0, resolution0, bandwidth0, clampViolin0;\n    var dataCache;\n    // return true if data has changed somehow after\n    // an .update() was called\n    // works by comparing current data set to the\n    // one previously cached\n    // TODO - since we keep another version of the dataset\n    // around for comparison, it doubles the memory usage :(\n    function dataHasChanged(d) {\n        if (arraysEqual(d, dataCache)) {\n            return false;\n        }\n        else {\n            dataCache = JSON.parse(JSON.stringify(d)); // deep copy\n            return true;\n        }\n    }\n    // return true if array of objects equivalent\n    function arraysEqual(arr1, arr2) {\n        if (arr1.length !== arr2.length)\n            return false;\n        for (var i = arr1.length; i--;) {\n            if ('object_constancy' in arr1[i])\n                delete arr1[i].object_constancy;\n            if ('object_constancy' in arr2[i])\n                delete arr2[i].object_constancy;\n            if (!objectEquals(arr1[i], arr2[i])) {\n                return false;\n            }\n        }\n        return true;\n    }\n    // return true if objects are equivalent\n    function objectEquals(a, b) {\n        // Create arrays of property names\n        var aProps = Object.getOwnPropertyNames(a);\n        var bProps = Object.getOwnPropertyNames(b);\n        // If number of properties is different,\n        // objects are not equivalent\n        if (aProps.length != bProps.length) {\n            return false;\n        }\n        for (var i = 0; i < aProps.length; i++) {\n            var propName = aProps[i];\n            // If values of same property are not equal,\n            // objects are not equivalent\n            if (a[propName] !== b[propName]) {\n                return false;\n            }\n        }\n        return true;\n    }\n    function chart(selection) {\n        renderWatch.reset();\n        renderWatch.models(distroplot);\n        if (showXAxis)\n            renderWatch.models(xAxis);\n        if (showYAxis)\n            renderWatch.models(yAxis);\n        selection.each(function (data) {\n            var container = d3.select(this), that = this;\n            nv.utils.initSVG(container);\n            var availableWidth = (width || parseInt(container.style('width')) || 960) - margin.left - margin.right;\n            var availableHeight = (height || parseInt(container.style('height')) || 400) - margin.top - margin.bottom;\n            if (typeof dataCache === 'undefined') {\n                dataCache = JSON.parse(JSON.stringify(data)); // deep copy\n            }\n            chart.update = function () {\n                dispatch.beforeUpdate();\n                var opts = distroplot.options();\n                if (colorGroup0 !== opts.colorGroup() || // recalc data when any of the axis accessors are changed\n                    x0 !== opts.x() ||\n                    y0 !== opts.y() ||\n                    bandwidth0 !== opts.bandwidth() ||\n                    resolution0 !== opts.resolution() ||\n                    clampViolin0 !== opts.clampViolin() ||\n                    dataHasChanged(data)) {\n                    distroplot.recalcData();\n                }\n                container.transition().duration(duration).call(chart);\n            };\n            chart.container = this;\n            if (typeof d3.beeswarm !== 'function' && chart.options().observationType() == 'swarm') {\n                var xPos = margin.left + availableWidth / 2;\n                noData = 'Please include the library https://github.com/Kcnarf/d3-beeswarm to use \"swarm\".';\n                nv.utils.noData(chart, container);\n                return chart;\n            }\n            else if (!data || !data.length) {\n                nv.utils.noData(chart, container);\n                return chart;\n            }\n            else {\n                container.selectAll('.nv-noData').remove();\n            }\n            // Setup Scales\n            x = distroplot.xScale();\n            y = distroplot.yScale().clamp(true);\n            // Setup containers and skeleton of chart\n            var wrap = container.selectAll('g.nv-wrap.nv-distroPlot').data([data]);\n            var gEnter = wrap.enter().append('g').attr('class', 'nvd3 nv-wrap nv-distroPlot').append('g');\n            var defsEnter = gEnter.append('defs');\n            var g = wrap.select('g');\n            gEnter.append('g').attr('class', 'nv-x nv-axis');\n            gEnter.append('g').attr('class', 'nv-y nv-axis')\n                .append('g').attr('class', 'nv-zeroLine')\n                .append('line');\n            gEnter.append('g').attr('class', 'nv-distroWrap');\n            gEnter.attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');\n            g.watchTransition(renderWatch, 'nv-wrap: wrap')\n                .attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');\n            if (rightAlignYAxis) {\n                g.select('.nv-y.nv-axis')\n                    .attr('transform', 'translate(' + availableWidth + ',0)');\n            }\n            // Main Chart Component(s)\n            distroplot.width(availableWidth).height(availableHeight);\n            var distroWrap = g.select('.nv-distroWrap')\n                .datum(data);\n            distroWrap.transition().call(distroplot);\n            defsEnter.append('clipPath')\n                .attr('id', 'nv-x-label-clip-' + distroplot.id())\n                .append('rect');\n            g.select('#nv-x-label-clip-' + distroplot.id() + ' rect')\n                .attr('width', x.rangeBand() * (staggerLabels ? 2 : 1))\n                .attr('height', 16)\n                .attr('x', -x.rangeBand() / (staggerLabels ? 1 : 2));\n            // Setup Axes\n            if (showXAxis) {\n                xAxis\n                    .scale(x)\n                    .ticks(nv.utils.calcTicksX(availableWidth / 100, data))\n                    .tickSize(-availableHeight, 0);\n                g.select('.nv-x.nv-axis').attr('transform', 'translate(0,' + y.range()[0] + ')');\n                g.select('.nv-x.nv-axis').call(xAxis);\n                //g.select('.nv-x.nv-axis').select('.nv-axislabel')\n                //    .style('font-size', d3.min([availableWidth * 0.05,20]) + 'px')\n                var xTicks = g.select('.nv-x.nv-axis').selectAll('g');\n                if (staggerLabels) {\n                    xTicks\n                        .selectAll('text')\n                        .attr('transform', function (d, i, j) { return 'translate(0,' + (j % 2 === 0 ? '5' : '17') + ')'; });\n                }\n            }\n            if (showYAxis) {\n                yAxis\n                    .scale(y)\n                    .ticks(Math.floor(availableHeight / 36)) // can't use nv.utils.calcTicksY with Object data\n                    .tickSize(-availableWidth, 0);\n                g.select('.nv-y.nv-axis').call(yAxis);\n                //g.select('.nv-y.nv-axis').select('.nv-axislabel')\n                //    .style('font-size', d3.min([availableHeight * 0.05,20]) + 'px')\n            }\n            // Zero line on chart bottom\n            g.select('.nv-zeroLine line')\n                .attr('x1', 0)\n                .attr('x2', availableWidth)\n                .attr('y1', y(0))\n                .attr('y2', y(0));\n            // store original values so that we can\n            // call 'recalcData()' if needed\n            colorGroup0 = distroplot.options().colorGroup();\n            x0 = distroplot.options().x();\n            y0 = distroplot.options().y();\n            bandwidth0 = distroplot.options().bandwidth();\n            resolution0 = distroplot.options().resolution();\n            clampViolin0 = distroplot.options().clampViolin();\n            //============================================================\n            // Event Handling/Dispatching (in chart's scope)\n            //------------------------------------------------------------\n        });\n        renderWatch.renderEnd('nv-distroplot chart immediate');\n        return chart;\n    }\n    //============================================================\n    // Event Handling/Dispatching (out of chart's scope)\n    //------------------------------------------------------------\n    distroplot.dispatch.on('elementMouseover.tooltip', function (evt) {\n        tooltip.data(evt).hidden(false);\n    });\n    distroplot.dispatch.on('elementMouseout.tooltip', function (evt) {\n        tooltip.data(evt).hidden(true);\n    });\n    distroplot.dispatch.on('elementMousemove.tooltip', function (evt) {\n        tooltip();\n    });\n    //============================================================\n    // Expose Public Variables\n    //------------------------------------------------------------\n    chart.dispatch = dispatch;\n    chart.distroplot = distroplot;\n    chart.xAxis = xAxis;\n    chart.yAxis = yAxis;\n    chart.tooltip = tooltip;\n    chart.options = nv.utils.optionsFunc.bind(chart);\n    chart._options = Object.create({}, {\n        // simple options, just get/set the necessary values\n        width: { get: function () { return width; }, set: function (_) { width = _; } },\n        height: { get: function () { return height; }, set: function (_) { height = _; } },\n        staggerLabels: { get: function () { return staggerLabels; }, set: function (_) { staggerLabels = _; } },\n        showXAxis: { get: function () { return showXAxis; }, set: function (_) { showXAxis = _; } },\n        showYAxis: { get: function () { return showYAxis; }, set: function (_) { showYAxis = _; } },\n        tooltipContent: { get: function () { return tooltip; }, set: function (_) { tooltip = _; } },\n        noData: { get: function () { return noData; }, set: function (_) { noData = _; } },\n        defaultState: { get: function () { return defaultState; }, set: function (_) { defaultState = _; } },\n        // options that require extra logic in the setter\n        margin: { get: function () { return margin; }, set: function (_) {\n                margin.top = _.top !== undefined ? _.top : margin.top;\n                margin.right = _.right !== undefined ? _.right : margin.right;\n                margin.bottom = _.bottom !== undefined ? _.bottom : margin.bottom;\n                margin.left = _.left !== undefined ? _.left : margin.left;\n            } },\n        duration: { get: function () { return duration; }, set: function (_) {\n                duration = _;\n                renderWatch.reset(duration);\n                distroplot.duration(duration);\n                xAxis.duration(duration);\n                yAxis.duration(duration);\n            } },\n        color: { get: function () { return color; }, set: function (_) {\n                color = nv.utils.getColor(_);\n                distroplot.color(color);\n            } },\n        rightAlignYAxis: { get: function () { return rightAlignYAxis; }, set: function (_) {\n                rightAlignYAxis = _;\n                yAxis.orient((_) ? 'right' : 'left');\n            } },\n        xLabel: { get: function () { return xLabel; }, set: function (_) {\n                xLabel = _;\n                xAxis.axisLabel(xLabel);\n            } },\n        yLabel: { get: function () { return yLabel; }, set: function (_) {\n                yLabel = _;\n                yAxis.axisLabel(yLabel);\n            } },\n    });\n    nv.utils.inheritOptions(chart, distroplot);\n    nv.utils.initOptions(chart);\n    return chart;\n};\n","nv.models.focus = function (content) {\n    \"use strict\";\n    //============================================================\n    // Public Variables with Default Settings\n    //------------------------------------------------------------\n    var content = content || nv.models.line(), xAxis = nv.models.axis(), yAxis = nv.models.axis(), brush = d3.svg.brush();\n    var margin = { top: 10, right: 0, bottom: 30, left: 0 }, color = nv.utils.defaultColor(), width = null, height = 70, showXAxis = true, showYAxis = false, rightAlignYAxis = false, ticks = null, x, y, brushExtent = null, duration = 250, dispatch = d3.dispatch('brush', 'onBrush', 'renderEnd'), syncBrushing = true;\n    content.interactive(false);\n    content.pointActive(function (d) { return false; });\n    //============================================================\n    // Private Variables\n    //------------------------------------------------------------\n    var renderWatch = nv.utils.renderWatch(dispatch, duration);\n    function chart(selection) {\n        renderWatch.reset();\n        renderWatch.models(content);\n        if (showXAxis)\n            renderWatch.models(xAxis);\n        if (showYAxis)\n            renderWatch.models(yAxis);\n        selection.each(function (data) {\n            var container = d3.select(this);\n            nv.utils.initSVG(container);\n            var availableWidth = nv.utils.availableWidth(width, container, margin), availableHeight = height - margin.top - margin.bottom;\n            chart.update = function () {\n                if (duration === 0) {\n                    container.call(chart);\n                }\n                else {\n                    container.transition().duration(duration).call(chart);\n                }\n            };\n            chart.container = this;\n            // Setup Scales\n            x = content.xScale();\n            y = content.yScale();\n            // Setup containers and skeleton of chart\n            var wrap = container.selectAll('g.nv-focus').data([data]);\n            var gEnter = wrap.enter().append('g').attr('class', 'nvd3 nv-focus').append('g');\n            var g = wrap.select('g');\n            wrap.attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');\n            gEnter.append('g').attr('class', 'nv-background').append('rect');\n            gEnter.append('g').attr('class', 'nv-x nv-axis');\n            gEnter.append('g').attr('class', 'nv-y nv-axis');\n            gEnter.append('g').attr('class', 'nv-contentWrap');\n            gEnter.append('g').attr('class', 'nv-brushBackground');\n            gEnter.append('g').attr('class', 'nv-x nv-brush');\n            if (rightAlignYAxis) {\n                g.select(\".nv-y.nv-axis\")\n                    .attr(\"transform\", \"translate(\" + availableWidth + \",0)\");\n            }\n            g.select('.nv-background rect')\n                .attr('width', availableWidth)\n                .attr('height', availableHeight);\n            content\n                .width(availableWidth)\n                .height(availableHeight)\n                .color(data.map(function (d, i) {\n                return d.color || color(d, i);\n            }).filter(function (d, i) { return !data[i].disabled; }));\n            var contentWrap = g.select('.nv-contentWrap')\n                .datum(data.filter(function (d) { return !d.disabled; }));\n            d3.transition(contentWrap).call(content);\n            // Setup Brush\n            brush\n                .x(x)\n                .on('brush', function () {\n                onBrush(syncBrushing);\n            });\n            brush.on('brushend', function () {\n                if (!syncBrushing) {\n                    dispatch.onBrush(brush.empty() ? x.domain() : brush.extent());\n                }\n            });\n            if (brushExtent)\n                brush.extent(brushExtent);\n            var brushBG = g.select('.nv-brushBackground').selectAll('g')\n                .data([brushExtent || brush.extent()]);\n            var brushBGenter = brushBG.enter()\n                .append('g');\n            brushBGenter.append('rect')\n                .attr('class', 'left')\n                .attr('x', 0)\n                .attr('y', 0)\n                .attr('height', availableHeight);\n            brushBGenter.append('rect')\n                .attr('class', 'right')\n                .attr('x', 0)\n                .attr('y', 0)\n                .attr('height', availableHeight);\n            var gBrush = g.select('.nv-x.nv-brush')\n                .call(brush);\n            gBrush.selectAll('rect')\n                .attr('height', availableHeight);\n            gBrush.selectAll('.resize').append('path').attr('d', resizePath);\n            onBrush(true);\n            g.select('.nv-background rect')\n                .attr('width', availableWidth)\n                .attr('height', availableHeight);\n            if (showXAxis) {\n                xAxis.scale(x)\n                    ._ticks(nv.utils.calcTicksX(availableWidth / 100, data))\n                    .tickSize(-availableHeight, 0);\n                g.select('.nv-x.nv-axis')\n                    .attr('transform', 'translate(0,' + y.range()[0] + ')');\n                d3.transition(g.select('.nv-x.nv-axis'))\n                    .call(xAxis);\n            }\n            if (showYAxis) {\n                yAxis\n                    .scale(y)\n                    ._ticks(nv.utils.calcTicksY(availableHeight / 36, data))\n                    .tickSize(-availableWidth, 0);\n                d3.transition(g.select('.nv-y.nv-axis'))\n                    .call(yAxis);\n            }\n            g.select('.nv-x.nv-axis')\n                .attr('transform', 'translate(0,' + y.range()[0] + ')');\n            //============================================================\n            // Event Handling/Dispatching (in chart's scope)\n            //------------------------------------------------------------\n            //============================================================\n            // Functions\n            //------------------------------------------------------------\n            // Taken from crossfilter (http://square.github.com/crossfilter/)\n            function resizePath(d) {\n                var e = +(d == 'e'), x = e ? 1 : -1, y = availableHeight / 3;\n                return 'M' + (0.5 * x) + ',' + y\n                    + 'A6,6 0 0 ' + e + ' ' + (6.5 * x) + ',' + (y + 6)\n                    + 'V' + (2 * y - 6)\n                    + 'A6,6 0 0 ' + e + ' ' + (0.5 * x) + ',' + (2 * y)\n                    + 'Z'\n                    + 'M' + (2.5 * x) + ',' + (y + 8)\n                    + 'V' + (2 * y - 8)\n                    + 'M' + (4.5 * x) + ',' + (y + 8)\n                    + 'V' + (2 * y - 8);\n            }\n            function updateBrushBG() {\n                if (!brush.empty())\n                    brush.extent(brushExtent);\n                brushBG\n                    .data([brush.empty() ? x.domain() : brushExtent])\n                    .each(function (d, i) {\n                    var leftWidth = x(d[0]) - x.range()[0], rightWidth = availableWidth - x(d[1]);\n                    d3.select(this).select('.left')\n                        .attr('width', leftWidth < 0 ? 0 : leftWidth);\n                    d3.select(this).select('.right')\n                        .attr('x', x(d[1]))\n                        .attr('width', rightWidth < 0 ? 0 : rightWidth);\n                });\n            }\n            function onBrush(shouldDispatch) {\n                brushExtent = brush.empty() ? null : brush.extent();\n                var extent = brush.empty() ? x.domain() : brush.extent();\n                dispatch.brush({ extent: extent, brush: brush });\n                updateBrushBG();\n                if (shouldDispatch) {\n                    dispatch.onBrush(extent);\n                }\n            }\n        });\n        renderWatch.renderEnd('focus immediate');\n        return chart;\n    }\n    //============================================================\n    // Event Handling/Dispatching (out of chart's scope)\n    //------------------------------------------------------------\n    //============================================================\n    // Expose Public Variables\n    //------------------------------------------------------------\n    // expose chart's sub-components\n    chart.dispatch = dispatch;\n    chart.content = content;\n    chart.brush = brush;\n    chart.xAxis = xAxis;\n    chart.yAxis = yAxis;\n    chart.options = nv.utils.optionsFunc.bind(chart);\n    chart._options = Object.create({}, {\n        // simple options, just get/set the necessary values\n        width: { get: function () { return width; }, set: function (_) { width = _; } },\n        height: { get: function () { return height; }, set: function (_) { height = _; } },\n        showXAxis: { get: function () { return showXAxis; }, set: function (_) { showXAxis = _; } },\n        showYAxis: { get: function () { return showYAxis; }, set: function (_) { showYAxis = _; } },\n        brushExtent: { get: function () { return brushExtent; }, set: function (_) { brushExtent = _; } },\n        syncBrushing: { get: function () { return syncBrushing; }, set: function (_) { syncBrushing = _; } },\n        // options that require extra logic in the setter\n        margin: { get: function () { return margin; }, set: function (_) {\n                margin.top = _.top !== undefined ? _.top : margin.top;\n                margin.right = _.right !== undefined ? _.right : margin.right;\n                margin.bottom = _.bottom !== undefined ? _.bottom : margin.bottom;\n                margin.left = _.left !== undefined ? _.left : margin.left;\n            } },\n        duration: { get: function () { return duration; }, set: function (_) {\n                duration = _;\n                renderWatch.reset(duration);\n                content.duration(duration);\n                xAxis.duration(duration);\n                yAxis.duration(duration);\n            } },\n        color: { get: function () { return color; }, set: function (_) {\n                color = nv.utils.getColor(_);\n                content.color(color);\n            } },\n        interpolate: { get: function () { return content.interpolate(); }, set: function (_) {\n                content.interpolate(_);\n            } },\n        xTickFormat: { get: function () { return xAxis.tickFormat(); }, set: function (_) {\n                xAxis.tickFormat(_);\n            } },\n        yTickFormat: { get: function () { return yAxis.tickFormat(); }, set: function (_) {\n                yAxis.tickFormat(_);\n            } },\n        x: { get: function () { return content.x(); }, set: function (_) {\n                content.x(_);\n            } },\n        y: { get: function () { return content.y(); }, set: function (_) {\n                content.y(_);\n            } },\n        rightAlignYAxis: { get: function () { return rightAlignYAxis; }, set: function (_) {\n                rightAlignYAxis = _;\n                yAxis.orient(rightAlignYAxis ? 'right' : 'left');\n            } }\n    });\n    nv.utils.inheritOptions(chart, content);\n    nv.utils.initOptions(chart);\n    return chart;\n};\n","nv.models.forceDirectedGraph = function () {\n    \"use strict\";\n    //============================================================\n    // Public Variables with Default Settings\n    //------------------------------------------------------------\n    var margin = { top: 2, right: 0, bottom: 2, left: 0 }, width = 400, height = 32, container = null, dispatch = d3.dispatch('renderEnd'), color = nv.utils.getColor(['#000']), tooltip = nv.models.tooltip(), noData = null\n    // Force directed graph specific parameters [default values]\n    , linkStrength = 0.1, friction = 0.9, linkDist = 30, charge = -120, gravity = 0.1, theta = 0.8, alpha = 0.1, radius = 5\n    // These functions allow to add extra attributes to ndes and links\n    , nodeExtras = function (nodes) { }, linkExtras = function (links) { }, getX = d3.functor(0.0), getY = d3.functor(0.0);\n    //============================================================\n    // Private Variables\n    //------------------------------------------------------------\n    var renderWatch = nv.utils.renderWatch(dispatch);\n    function chart(selection) {\n        renderWatch.reset();\n        selection.each(function (data) {\n            container = d3.select(this);\n            nv.utils.initSVG(container);\n            var availableWidth = nv.utils.availableWidth(width, container, margin), availableHeight = nv.utils.availableHeight(height, container, margin);\n            container\n                .attr(\"width\", availableWidth)\n                .attr(\"height\", availableHeight);\n            // Display No Data message if there's nothing to show.\n            if (!data || !data.links || !data.nodes) {\n                nv.utils.noData(chart, container);\n                return chart;\n            }\n            else {\n                container.selectAll('.nv-noData').remove();\n            }\n            container.selectAll('*').remove();\n            // Collect names of all fields in the nodes\n            var nodeFieldSet = new Set();\n            data.nodes.forEach(function (node) {\n                var keys = Object.keys(node);\n                keys.forEach(function (key) {\n                    nodeFieldSet.add(key);\n                });\n            });\n            var force = d3.layout.force()\n                .nodes(data.nodes)\n                .links(data.links)\n                .size([availableWidth, availableHeight])\n                .linkStrength(linkStrength)\n                .friction(friction)\n                .linkDistance(linkDist)\n                .charge(charge)\n                .gravity(gravity)\n                .theta(theta)\n                .alpha(alpha)\n                .start();\n            var link = container.selectAll(\".link\")\n                .data(data.links)\n                .enter().append(\"line\")\n                .attr(\"class\", \"nv-force-link\")\n                .style(\"stroke-width\", function (d) { return Math.sqrt(d.value); });\n            var node = container.selectAll(\".node\")\n                .data(data.nodes)\n                .enter()\n                .append(\"g\")\n                .attr(\"class\", \"nv-force-node\")\n                .call(force.drag);\n            node\n                .append(\"circle\")\n                .attr(\"r\", radius)\n                .style(\"fill\", function (d) { return color(d); })\n                .on(\"mouseover\", function (evt) {\n                container.select('.nv-series-' + evt.seriesIndex + ' .nv-distx-' + evt.pointIndex)\n                    .attr('y1', evt.py);\n                container.select('.nv-series-' + evt.seriesIndex + ' .nv-disty-' + evt.pointIndex)\n                    .attr('x2', evt.px);\n                // Add 'series' object to\n                var nodeColor = color(evt);\n                evt.series = [];\n                nodeFieldSet.forEach(function (field) {\n                    evt.series.push({\n                        color: nodeColor,\n                        key: field,\n                        value: evt[field]\n                    });\n                });\n                tooltip.data(evt).hidden(false);\n            })\n                .on(\"mouseout\", function (d) {\n                tooltip.hidden(true);\n            });\n            tooltip.headerFormatter(function (d) { return \"Node\"; });\n            // Apply extra attributes to nodes and links (if any)\n            linkExtras(link);\n            nodeExtras(node);\n            force.on(\"tick\", function () {\n                link.attr(\"x1\", function (d) { return d.source.x; })\n                    .attr(\"y1\", function (d) { return d.source.y; })\n                    .attr(\"x2\", function (d) { return d.target.x; })\n                    .attr(\"y2\", function (d) { return d.target.y; });\n                node.attr(\"transform\", function (d) {\n                    return \"translate(\" + d.x + \", \" + d.y + \")\";\n                });\n            });\n        });\n        return chart;\n    }\n    //============================================================\n    // Expose Public Variables\n    //------------------------------------------------------------\n    chart.options = nv.utils.optionsFunc.bind(chart);\n    chart._options = Object.create({}, {\n        // simple options, just get/set the necessary values\n        width: { get: function () { return width; }, set: function (_) { width = _; } },\n        height: { get: function () { return height; }, set: function (_) { height = _; } },\n        // Force directed graph specific parameters\n        linkStrength: { get: function () { return linkStrength; }, set: function (_) { linkStrength = _; } },\n        friction: { get: function () { return friction; }, set: function (_) { friction = _; } },\n        linkDist: { get: function () { return linkDist; }, set: function (_) { linkDist = _; } },\n        charge: { get: function () { return charge; }, set: function (_) { charge = _; } },\n        gravity: { get: function () { return gravity; }, set: function (_) { gravity = _; } },\n        theta: { get: function () { return theta; }, set: function (_) { theta = _; } },\n        alpha: { get: function () { return alpha; }, set: function (_) { alpha = _; } },\n        radius: { get: function () { return radius; }, set: function (_) { radius = _; } },\n        //functor options\n        x: { get: function () { return getX; }, set: function (_) { getX = d3.functor(_); } },\n        y: { get: function () { return getY; }, set: function (_) { getY = d3.functor(_); } },\n        // options that require extra logic in the setter\n        margin: { get: function () { return margin; }, set: function (_) {\n                margin.top = _.top !== undefined ? _.top : margin.top;\n                margin.right = _.right !== undefined ? _.right : margin.right;\n                margin.bottom = _.bottom !== undefined ? _.bottom : margin.bottom;\n                margin.left = _.left !== undefined ? _.left : margin.left;\n            } },\n        color: { get: function () { return color; }, set: function (_) {\n                color = nv.utils.getColor(_);\n            } },\n        noData: { get: function () { return noData; }, set: function (_) { noData = _; } },\n        nodeExtras: { get: function () { return nodeExtras; }, set: function (_) {\n                nodeExtras = _;\n            } },\n        linkExtras: { get: function () { return linkExtras; }, set: function (_) {\n                linkExtras = _;\n            } }\n    });\n    chart.dispatch = dispatch;\n    chart.tooltip = tooltip;\n    nv.utils.initOptions(chart);\n    return chart;\n};\n","nv.models.furiousLegend = function () {\n    \"use strict\";\n    //============================================================\n    // Public Variables with Default Settings\n    //------------------------------------------------------------\n    var margin = { top: 5, right: 0, bottom: 5, left: 0 }, width = 400, height = 20, getKey = function (d) { return d.key; }, keyFormatter = function (d) { return d; }, color = nv.utils.getColor(), maxKeyLength = 20 //default value for key lengths\n    , align = true, padding = 28 //define how much space between legend items. - recommend 32 for furious version\n    , rightAlign = true, updateState = true //If true, legend will update data.disabled and trigger a 'stateChange' dispatch.\n    , radioButtonMode = false //If true, clicking legend items will cause it to behave like a radio button. (only one can be selected at a time)\n    , expanded = false, dispatch = d3.dispatch('legendClick', 'legendDblclick', 'legendMouseover', 'legendMouseout', 'stateChange'), vers = 'classic' //Options are \"classic\" and \"furious\"\n    ;\n    function chart(selection) {\n        selection.each(function (data) {\n            var availableWidth = width - margin.left - margin.right, container = d3.select(this);\n            nv.utils.initSVG(container);\n            // Setup containers and skeleton of chart\n            var wrap = container.selectAll('g.nv-legend').data([data]);\n            var gEnter = wrap.enter().append('g').attr('class', 'nvd3 nv-legend').append('g');\n            var g = wrap.select('g');\n            wrap.attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');\n            var series = g.selectAll('.nv-series')\n                .data(function (d) {\n                if (vers != 'furious')\n                    return d;\n                return d.filter(function (n) {\n                    return expanded ? true : !n.disengaged;\n                });\n            });\n            var seriesEnter = series.enter().append('g').attr('class', 'nv-series');\n            var seriesShape;\n            if (vers == 'classic') {\n                seriesEnter.append('circle')\n                    .style('stroke-width', 2)\n                    .attr('class', 'nv-legend-symbol')\n                    .attr('r', 5);\n                seriesShape = series.select('circle');\n            }\n            else if (vers == 'furious') {\n                seriesEnter.append('rect')\n                    .style('stroke-width', 2)\n                    .attr('class', 'nv-legend-symbol')\n                    .attr('rx', 3)\n                    .attr('ry', 3);\n                seriesShape = series.select('rect');\n                seriesEnter.append('g')\n                    .attr('class', 'nv-check-box')\n                    .property('innerHTML', '<path d=\"M0.5,5 L22.5,5 L22.5,26.5 L0.5,26.5 L0.5,5 Z\" class=\"nv-box\"></path><path d=\"M5.5,12.8618467 L11.9185089,19.2803556 L31,0.198864511\" class=\"nv-check\"></path>')\n                    .attr('transform', 'translate(-10,-8)scale(0.5)');\n                var seriesCheckbox = series.select('.nv-check-box');\n                seriesCheckbox.each(function (d, i) {\n                    d3.select(this).selectAll('path')\n                        .attr('stroke', setTextColor(d, i));\n                });\n            }\n            seriesEnter.append('text')\n                .attr('text-anchor', 'start')\n                .attr('class', 'nv-legend-text')\n                .attr('dy', '.32em')\n                .attr('dx', '8');\n            var seriesText = series.select('text.nv-legend-text');\n            series\n                .on('mouseover', function (d, i) {\n                dispatch.legendMouseover(d, i); //TODO: Make consistent with other event objects\n            })\n                .on('mouseout', function (d, i) {\n                dispatch.legendMouseout(d, i);\n            })\n                .on('click', function (d, i) {\n                dispatch.legendClick(d, i);\n                // make sure we re-get data in case it was modified\n                var data = series.data();\n                if (updateState) {\n                    if (vers == 'classic') {\n                        if (radioButtonMode) {\n                            //Radio button mode: set every series to disabled,\n                            //  and enable the clicked series.\n                            data.forEach(function (series) { series.disabled = true; });\n                            d.disabled = false;\n                        }\n                        else {\n                            d.disabled = !d.disabled;\n                            if (data.every(function (series) { return series.disabled; })) {\n                                //the default behavior of NVD3 legends is, if every single series\n                                // is disabled, turn all series' back on.\n                                data.forEach(function (series) { series.disabled = false; });\n                            }\n                        }\n                    }\n                    else if (vers == 'furious') {\n                        if (expanded) {\n                            d.disengaged = !d.disengaged;\n                            d.userDisabled = d.userDisabled == undefined ? !!d.disabled : d.userDisabled;\n                            d.disabled = d.disengaged || d.userDisabled;\n                        }\n                        else if (!expanded) {\n                            d.disabled = !d.disabled;\n                            d.userDisabled = d.disabled;\n                            var engaged = data.filter(function (d) { return !d.disengaged; });\n                            if (engaged.every(function (series) { return series.userDisabled; })) {\n                                //the default behavior of NVD3 legends is, if every single series\n                                // is disabled, turn all series' back on.\n                                data.forEach(function (series) {\n                                    series.disabled = series.userDisabled = false;\n                                });\n                            }\n                        }\n                    }\n                    dispatch.stateChange({\n                        disabled: data.map(function (d) { return !!d.disabled; }),\n                        disengaged: data.map(function (d) { return !!d.disengaged; })\n                    });\n                }\n            })\n                .on('dblclick', function (d, i) {\n                if (vers == 'furious' && expanded)\n                    return;\n                dispatch.legendDblclick(d, i);\n                if (updateState) {\n                    // make sure we re-get data in case it was modified\n                    var data = series.data();\n                    //the default behavior of NVD3 legends, when double clicking one,\n                    // is to set all other series' to false, and make the double clicked series enabled.\n                    data.forEach(function (series) {\n                        series.disabled = true;\n                        if (vers == 'furious')\n                            series.userDisabled = series.disabled;\n                    });\n                    d.disabled = false;\n                    if (vers == 'furious')\n                        d.userDisabled = d.disabled;\n                    dispatch.stateChange({\n                        disabled: data.map(function (d) { return !!d.disabled; })\n                    });\n                }\n            });\n            series.classed('nv-disabled', function (d) { return d.userDisabled; });\n            series.exit().remove();\n            seriesText\n                .attr('fill', setTextColor)\n                .text(function (d) { return keyFormatter(getKey(d)); });\n            //TODO: implement fixed-width and max-width options (max-width is especially useful with the align option)\n            // NEW ALIGNING CODE, TODO: clean up\n            var versPadding;\n            switch (vers) {\n                case 'furious':\n                    versPadding = 23;\n                    break;\n                case 'classic':\n                    versPadding = 20;\n            }\n            if (align) {\n                var seriesWidths = [];\n                series.each(function (d, i) {\n                    var legendText;\n                    if (keyFormatter(getKey(d)) && keyFormatter(getKey(d)).length > maxKeyLength) {\n                        var trimmedKey = keyFormatter(getKey(d)).substring(0, maxKeyLength);\n                        legendText = d3.select(this).select('text').text(trimmedKey + \"...\");\n                        d3.select(this).append(\"svg:title\").text(keyFormatter(getKey(d)));\n                    }\n                    else {\n                        legendText = d3.select(this).select('text');\n                    }\n                    var nodeTextLength;\n                    try {\n                        nodeTextLength = legendText.node().getComputedTextLength();\n                        // If the legendText is display:none'd (nodeTextLength == 0), simulate an error so we approximate, instead\n                        if (nodeTextLength <= 0)\n                            throw Error();\n                    }\n                    catch (e) {\n                        nodeTextLength = nv.utils.calcApproxTextWidth(legendText);\n                    }\n                    seriesWidths.push(nodeTextLength + padding);\n                });\n                var seriesPerRow = 0;\n                var legendWidth = 0;\n                var columnWidths = [];\n                while (legendWidth < availableWidth && seriesPerRow < seriesWidths.length) {\n                    columnWidths[seriesPerRow] = seriesWidths[seriesPerRow];\n                    legendWidth += seriesWidths[seriesPerRow++];\n                }\n                if (seriesPerRow === 0)\n                    seriesPerRow = 1; //minimum of one series per row\n                while (legendWidth > availableWidth && seriesPerRow > 1) {\n                    columnWidths = [];\n                    seriesPerRow--;\n                    for (var k = 0; k < seriesWidths.length; k++) {\n                        if (seriesWidths[k] > (columnWidths[k % seriesPerRow] || 0))\n                            columnWidths[k % seriesPerRow] = seriesWidths[k];\n                    }\n                    legendWidth = columnWidths.reduce(function (prev, cur, index, array) {\n                        return prev + cur;\n                    });\n                }\n                var xPositions = [];\n                for (var i = 0, curX = 0; i < seriesPerRow; i++) {\n                    xPositions[i] = curX;\n                    curX += columnWidths[i];\n                }\n                series\n                    .attr('transform', function (d, i) {\n                    return 'translate(' + xPositions[i % seriesPerRow] + ',' + (5 + Math.floor(i / seriesPerRow) * versPadding) + ')';\n                });\n                //position legend as far right as possible within the total width\n                if (rightAlign) {\n                    g.attr('transform', 'translate(' + (width - margin.right - legendWidth) + ',' + margin.top + ')');\n                }\n                else {\n                    g.attr('transform', 'translate(0' + ',' + margin.top + ')');\n                }\n                height = margin.top + margin.bottom + (Math.ceil(seriesWidths.length / seriesPerRow) * versPadding);\n            }\n            else {\n                var ypos = 5, newxpos = 5, maxwidth = 0, xpos;\n                series\n                    .attr('transform', function (d, i) {\n                    var length = d3.select(this).select('text').node().getComputedTextLength() + padding;\n                    xpos = newxpos;\n                    if (width < margin.left + margin.right + xpos + length) {\n                        newxpos = xpos = 5;\n                        ypos += versPadding;\n                    }\n                    newxpos += length;\n                    if (newxpos > maxwidth)\n                        maxwidth = newxpos;\n                    return 'translate(' + xpos + ',' + ypos + ')';\n                });\n                //position legend as far right as possible within the total width\n                g.attr('transform', 'translate(' + (width - margin.right - maxwidth) + ',' + margin.top + ')');\n                height = margin.top + margin.bottom + ypos + 15;\n            }\n            if (vers == 'furious') {\n                // Size rectangles after text is placed\n                seriesShape\n                    .attr('width', function (d, i) {\n                    return seriesText[0][i].getComputedTextLength() + 27;\n                })\n                    .attr('height', 18)\n                    .attr('y', -9)\n                    .attr('x', -15);\n            }\n            seriesShape\n                .style('fill', setBGColor)\n                .style('stroke', function (d, i) { return d.color || color(d, i); });\n        });\n        function setTextColor(d, i) {\n            if (vers != 'furious')\n                return '#000';\n            if (expanded) {\n                return d.disengaged ? color(d, i) : '#fff';\n            }\n            else if (!expanded) {\n                return !!d.disabled ? color(d, i) : '#fff';\n            }\n        }\n        function setBGColor(d, i) {\n            if (expanded && vers == 'furious') {\n                return d.disengaged ? '#fff' : color(d, i);\n            }\n            else {\n                return !!d.disabled ? '#fff' : color(d, i);\n            }\n        }\n        return chart;\n    }\n    //============================================================\n    // Expose Public Variables\n    //------------------------------------------------------------\n    chart.dispatch = dispatch;\n    chart.options = nv.utils.optionsFunc.bind(chart);\n    chart._options = Object.create({}, {\n        // simple options, just get/set the necessary values\n        width: { get: function () { return width; }, set: function (_) { width = _; } },\n        height: { get: function () { return height; }, set: function (_) { height = _; } },\n        key: { get: function () { return getKey; }, set: function (_) { getKey = _; } },\n        keyFormatter: { get: function () { return keyFormatter; }, set: function (_) { keyFormatter = _; } },\n        align: { get: function () { return align; }, set: function (_) { align = _; } },\n        rightAlign: { get: function () { return rightAlign; }, set: function (_) { rightAlign = _; } },\n        maxKeyLength: { get: function () { return maxKeyLength; }, set: function (_) { maxKeyLength = _; } },\n        padding: { get: function () { return padding; }, set: function (_) { padding = _; } },\n        updateState: { get: function () { return updateState; }, set: function (_) { updateState = _; } },\n        radioButtonMode: { get: function () { return radioButtonMode; }, set: function (_) { radioButtonMode = _; } },\n        expanded: { get: function () { return expanded; }, set: function (_) { expanded = _; } },\n        vers: { get: function () { return vers; }, set: function (_) { vers = _; } },\n        // options that require extra logic in the setter\n        margin: { get: function () { return margin; }, set: function (_) {\n                margin.top = _.top !== undefined ? _.top : margin.top;\n                margin.right = _.right !== undefined ? _.right : margin.right;\n                margin.bottom = _.bottom !== undefined ? _.bottom : margin.bottom;\n                margin.left = _.left !== undefined ? _.left : margin.left;\n            } },\n        color: { get: function () { return color; }, set: function (_) {\n                color = nv.utils.getColor(_);\n            } }\n    });\n    nv.utils.initOptions(chart);\n    return chart;\n};\n","/*\nImprovements:\n- consistenly apply no-hover classes to rect isntead of to containing g, see example CSS style for .no-hover rect, rect.no-hover\n- row/column order (user specified) or 'ascending' / 'descending'\n- I haven't tested for transitions between changing datasets\n*/\nnv.models.heatMap = function () {\n    \"use strict\";\n    //============================================================\n    // Public Variables with Default Settings\n    //------------------------------------------------------------\n    var margin = { top: 0, right: 0, bottom: 0, left: 0 }, width = 960, height = 500, id = Math.floor(Math.random() * 10000) //Create semi-unique ID in case user doesn't select one\n    , container, xScale = d3.scale.ordinal(), yScale = d3.scale.ordinal(), colorScale = false, getX = function (d) { return d.x; }, getY = function (d) { return d.y; }, getCellValue = function (d) { return d.value; }, showCellValues = true, cellValueFormat = function (d) { return typeof d === 'number' ? d.toFixed(0) : d; }, cellAspectRatio = false // width / height of cell\n    , cellRadius = 2, cellBorderWidth = 4 // pixels between cells\n    , normalize = false, highContrastText = true, xDomain, yDomain, xMetaColorScale = nv.utils.defaultColor(), yMetaColorScale = nv.utils.defaultColor(), missingDataColor = '#bcbcbc', missingDataLabel = '', metaOffset = 5 // spacing between meta rects and cells\n    , xRange, yRange, xMeta, yMeta, colorRange, colorDomain, dispatch = d3.dispatch('chartClick', 'elementClick', 'elementDblClick', 'elementMouseover', 'elementMouseout', 'elementMousemove', 'renderEnd'), duration = 250, xMetaHeight = function (d) { return cellHeight / 3; }, yMetaWidth = function (d) { return cellWidth / 3; }, showGrid = false;\n    //============================================================\n    // Aux helper function for heatmap\n    //------------------------------------------------------------\n    // choose high contrast text color based on background\n    // shameful steal: https://github.com/alexandersimoes/d3plus/blob/master/src/color/text.coffee\n    function cellTextColor(bgColor) {\n        if (highContrastText) {\n            var rgbColor = d3.rgb(bgColor);\n            var r = rgbColor.r;\n            var g = rgbColor.g;\n            var b = rgbColor.b;\n            var yiq = (r * 299 + g * 587 + b * 114) / 1000;\n            return yiq >= 128 ? \"#404040\" : \"#EDEDED\"; // dark text else light text\n        }\n        else {\n            return 'black';\n        }\n    }\n    /* go through heatmap data and generate array of values\n     * for each row/column or for entire dataset; for use in\n     * calculating means/medians of data for normalizing\n     * @param {str} axis - 'row', 'col' or null\n     *\n     * @returns {row/column index: [array of values for row/col]}\n     * note that if axis is not specified, the return will be\n     * {0: [all values in heatmap]}\n     */\n    function getHeatmapValues(data, axis) {\n        var vals = {};\n        data.forEach(function (cell, i) {\n            if (axis == 'row') {\n                if (!(getIY(cell) in vals))\n                    vals[getIY(cell)] = [];\n                vals[getIY(cell)].push(getCellValue(cell));\n            }\n            else if (axis == 'col') {\n                if (!(getIX(cell) in vals))\n                    vals[getIX(cell)] = [];\n                vals[getIX(cell)].push(getCellValue(cell));\n            }\n            else if (axis == null) { // if calculating stat over entire dataset\n                if (!(0 in vals))\n                    vals[0] = [];\n                vals[0].push(getCellValue(cell));\n            }\n        });\n        return vals;\n    }\n    // calculate the median absolute deviation of the given array of data\n    // https://en.wikipedia.org/wiki/Median_absolute_deviation\n    // MAD = median(abs(Xi - median(X)))\n    function mad(dat) {\n        var med = d3.median(dat);\n        var vals = dat.map(function (d) { return Math.abs(d - med); });\n        return d3.median(vals);\n    }\n    // set cell color based on cell value\n    // depending on whether it should be normalized or not\n    function cellColor(d) {\n        var colorVal = normalize ? getNorm(d) : getCellValue(d);\n        return (cellsAreNumeric() && !isNaN(colorVal) || typeof colorVal !== 'undefined') ? colorScale(colorVal) : missingDataColor;\n    }\n    // return the domain of the color data\n    // if ordinal data is given for the cells, this will\n    // return all possible cells values; otherwise it\n    // returns the extent of the cell values\n    // will take into account normalization if specified\n    function getColorDomain() {\n        if (cellsAreNumeric()) { // if cell values are numeric\n            return normalize ? d3.extent(prepedData, function (d) { return getNorm(d); }) : d3.extent(uniqueColor);\n        }\n        else if (!cellsAreNumeric()) { // if cell values are ordinal\n            return uniqueColor;\n        }\n    }\n    // return true if cells are numeric\n    // as opposed to categorical\n    function cellsAreNumeric() {\n        return typeof uniqueColor[0] === 'number';\n    }\n    /*\n     * Normalize input data\n     *\n     * normalize must be one of centerX, robustCenterX, centerScaleX, robustCenterScaleX, centerAll,\n     * robustCenterAll, centerScaleAll, robustCenterScaleAll where X is either 'Row' or 'Column'\n     *\n     * - centerX: subtract row/column mean from cell\n     * - centerAll: subtract mean of whole data set from cell\n     * - centerScaleX: scale so that row/column has mean 0 and variance 1 (Z-score)\n     * - centerScaleAll: scale by overall normalization factor so that the whole data set has mean 0 and variance 1 (Z-score)\n     * - robustCenterX: subtract row/column median from cell\n     * - robustCenterScaleX: subtract row/column median from cell and then scale row/column by median absolute deviation\n     * - robustCenterAll: subtract median of whole data set from cell\n     * - robustCenterScaleAll: subtract overall median from cell and scale by overall median absolute deviation\n     */\n    function normalizeData(dat) {\n        var normTypes = ['centerRow',\n            'robustCenterRow',\n            'centerScaleRow',\n            'robustCenterScaleRow',\n            'centerColumn',\n            'robustCenterColumn',\n            'centerScaleColumn',\n            'robustCenterScaleColumn',\n            'centerAll',\n            'robustCenterAll',\n            'centerScaleAll',\n            'robustCenterScaleAll'];\n        if (normTypes.indexOf(normalize) != -1) {\n            var xVals = Object.keys(uniqueX), yVals = Object.keys(uniqueY);\n            // setup normalization options\n            var scale = normalize.includes('Scale') ? true : false, agg = normalize.includes('robust') ? 'median' : 'mean', axis = normalize.includes('Row') ? 'row' : normalize.includes('Column') ? 'col' : null, vals = getHeatmapValues(dat, axis);\n            // calculate mean or median\n            // calculate standard dev or median absolute deviation\n            var stat = {};\n            var dev = {};\n            for (var key in vals) {\n                stat[key] = agg == 'mean' ? d3.mean(vals[key]) : d3.median(vals[key]);\n                if (scale)\n                    dev[key] = agg == 'mean' ? d3.deviation(vals[key]) : mad(vals[key]);\n            }\n            // do the normalizing\n            dat.forEach(function (cell, i) {\n                if (cellsAreNumeric()) {\n                    if (axis == 'row') {\n                        var key = getIY(cell);\n                    }\n                    else if (axis == 'col') {\n                        var key = getIX(cell);\n                    }\n                    else if (axis == null) { // if calculating stat over entire dataset\n                        var key = 0;\n                    }\n                    var normVal = getCellValue(cell) - stat[key];\n                    if (scale) {\n                        cell._cellPos.norm = normVal / dev[key];\n                    }\n                    else {\n                        cell._cellPos.norm = normVal;\n                    }\n                }\n                else {\n                    cell._cellPos.norm = getCellValue(cell); // if trying to normalize ordinal cells, just set norm to cell value\n                }\n            });\n        }\n        else {\n            normalize = false; // proper normalize option was not provided, disable it so heatmap still shows colors\n        }\n        return dat;\n    }\n    /*\n     * Process incoming data for use with heatmap including:\n     * - adding a unique key indexer to each data point (idx)\n     * - getting a unique list of all x & y values\n     * - generating a position index (x & y) for each data point\n     * - sorting that data for correct traversal when generating rect\n     * - generating placeholders for missing data\n     *\n     * In order to allow for the flexibility of the user providing either\n     * categorical or quantitative data, we're going to position the cells\n     * through indices that we increment based on previously seen data\n     * this way we can use ordinal() axes even if the data is quantitative.\n     *\n     * When we generate the SVG elements, we assumes traversal occures from\n     * top to bottom and from left to right.\n     *\n     * @param data {list} - input data organize as a list of objects\n     *\n     * @return - copy of input data with additional '_cellPos' key\n     *           formatted as {idx: XXX, ix, XXX, iy: XXX}\n     *           where idx is a global identifier; ix is an identifier\n     *           within each column, and iy is an identifier within\n     *           each row.\n     */\n    function prepData(data) {\n        // reinitialize\n        uniqueX = {}, // {cell x value: ix index}\n            uniqueY = {}, // {cell y value: iy index}\n            uniqueColor = [], // [cell color value]\n            uniqueXMeta = [], // [cell x metadata value]\n            uniqueYMeta = [], // [cell y metadata value]\n            uniqueCells = []; // [cell x,y values stored as array]\n        var warnings = [];\n        var sortedCells = {}; // {cell x values: {cell y value: cell data, ... }, ... }\n        var ix = 0, iy = 0; // use these indices to position cell in x & y direction\n        var combo, idx = 0;\n        data.forEach(function (cell) {\n            var valX = getX(cell), valY = getY(cell), valColor = getCellValue(cell);\n            // assemble list of unique values for each dimension\n            if (!(valX in uniqueX)) {\n                uniqueX[valX] = ix;\n                ix++;\n                sortedCells[valX] = {};\n                if (typeof xMeta === 'function')\n                    uniqueXMeta.push(xMeta(cell));\n            }\n            if (!(valY in uniqueY)) {\n                uniqueY[valY] = iy;\n                iy++;\n                sortedCells[valX][valY] = {};\n                if (typeof yMeta === 'function')\n                    uniqueYMeta.push(yMeta(cell));\n            }\n            if (uniqueColor.indexOf(valColor) == -1)\n                uniqueColor.push(valColor);\n            // for each data point, we generate an object of data\n            // needed to properly position each cell\n            cell._cellPos = {\n                idx: idx,\n                ix: uniqueX[valX],\n                iy: uniqueY[valY],\n            };\n            idx++;\n            // keep track of row & column combinations we've already seen\n            // this prevents the same cells from being generated when\n            // the user hasn't provided proper data (one value for each\n            // row & column).\n            // if properly formatted data is not provided, only the first\n            // row & column value is used (the rest are ignored)\n            combo = [valX, valY];\n            if (!isArrayInArray(uniqueCells, combo)) {\n                uniqueCells.push(combo);\n                sortedCells[valX][valY] = cell;\n            }\n            else if (warnings.indexOf(valX + valY) == -1) {\n                warnings.push(valX + valY);\n                console.warn(\"The row/column position \" + valX + \"/\" + valY + \" has multiple values; ensure each cell has only a single value.\");\n            }\n        });\n        uniqueColor = uniqueColor.sort();\n        // check in sortedCells that each x has all the y's\n        // if not, generate an empty placeholder\n        // this will also sort all cells from left to right\n        // and top to bottom\n        var reformatData = [];\n        Object.keys(uniqueY).forEach(function (j) {\n            Object.keys(uniqueX).forEach(function (i) {\n                var cellVal = sortedCells[i][j];\n                if (cellVal) {\n                    reformatData.push(cellVal);\n                }\n                else {\n                    var cellPos = {\n                        idx: idx,\n                        ix: uniqueX[i],\n                        iy: uniqueY[j],\n                    };\n                    idx++;\n                    reformatData.push({ _cellPos: cellPos }); // empty cell placeholder\n                }\n            });\n        });\n        // normalize data is needed\n        return normalize ? normalizeData(reformatData) : reformatData;\n    }\n    // https://stackoverflow.com/a/41661388/1153897\n    function isArrayInArray(arr, item) {\n        var item_as_string = JSON.stringify(item);\n        var contains = arr.some(function (ele) {\n            return JSON.stringify(ele) === item_as_string;\n        });\n        return contains;\n    }\n    function removeAllHoverClasses() {\n        // remove all hover classes\n        d3.selectAll('.cell-hover').classed('cell-hover', false);\n        d3.selectAll('.no-hover').classed('no-hover', false);\n        d3.selectAll('.row-hover').classed('row-hover', false);\n        d3.selectAll('.column-hover').classed('column-hover', false);\n    }\n    // return the formatted cell value if it is\n    // a number, otherwise return missingDataLabel\n    var cellValueLabel = function (d) {\n        var val = !normalize ? cellValueFormat(getCellValue(d)) : cellValueFormat(getNorm(d));\n        return (cellsAreNumeric() && !isNaN(val) || typeof val !== 'undefined') ? val : missingDataLabel;\n    };\n    // https://stackoverflow.com/a/16794116/1153897\n    // note this returns the obj keys\n    function sortObjByVals(obj) {\n        return Object.keys(obj).sort(function (a, b) { return obj[a] - obj[b]; });\n    }\n    // https://stackoverflow.com/a/28191966/1153897\n    function getKeyByValue(object, value) {\n        //return Object.keys(object).find(key => object[key] === value);\n        return Object.keys(object).filter(function (key) { return object[key] === value; })[0];\n    }\n    //============================================================\n    // Private Variables\n    //------------------------------------------------------------\n    var prepedData, cellHeight, cellWidth;\n    var uniqueX = {}, uniqueY = {}, uniqueColor = [];\n    var uniqueXMeta = [], uniqueYMeta = [], uniqueCells = [];\n    var renderWatch = nv.utils.renderWatch(dispatch, duration);\n    var RdYlBu = [\"#a50026\", \"#d73027\", \"#f46d43\", \"#fdae61\", \"#fee090\", \"#ffffbf\", \"#e0f3f8\", \"#abd9e9\", \"#74add1\", \"#4575b4\", \"#313695\"];\n    var getCellPos = function (d) { return d._cellPos; };\n    var getIX = function (d) { return getCellPos(d).ix; }; // get the given cell's x index position\n    var getIY = function (d) { return getCellPos(d).iy; }; // get the given cell's y index position\n    var getNorm = function (d) { return getCellPos(d).norm; };\n    var getIdx = function (d) { return getCellPos(d).idx; };\n    function chart(selection) {\n        renderWatch.reset();\n        selection.each(function (data) {\n            prepedData = prepData(data);\n            var availableWidth = width - margin.left - margin.right, availableHeight = height - margin.top - margin.bottom;\n            // available width/height set the cell dimenions unless\n            // the aspect ratio is defined - in that case the cell\n            // height is adjusted and availableHeight updated\n            cellWidth = availableWidth / Object.keys(uniqueX).length;\n            cellHeight = cellAspectRatio ? cellWidth / cellAspectRatio : availableHeight / Object.keys(uniqueY).length;\n            if (cellAspectRatio)\n                availableHeight = cellHeight * Object.keys(uniqueY).length - margin.top - margin.bottom;\n            container = d3.select(this);\n            nv.utils.initSVG(container);\n            // Setup Scales\n            xScale.domain(xDomain || sortObjByVals(uniqueX))\n                .rangeBands(xRange || [0, availableWidth - cellBorderWidth / 2]);\n            yScale.domain(yDomain || sortObjByVals(uniqueY))\n                .rangeBands(yRange || [0, availableHeight - cellBorderWidth / 2]);\n            colorScale = cellsAreNumeric() ? d3.scale.quantize() : d3.scale.ordinal();\n            colorScale.domain(colorDomain || getColorDomain())\n                .range(colorRange || RdYlBu);\n            // Setup containers and skeleton of chart\n            var wrap = container.selectAll('g.nv-heatMapWrap').data([prepedData]);\n            var wrapEnter = wrap.enter().append('g').attr('class', 'nvd3 nv-heatMapWrap');\n            wrapEnter\n                .append('g')\n                .attr('class', 'cellWrap');\n            wrap.watchTransition(renderWatch, 'nv-wrap: heatMapWrap')\n                .attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');\n            var gridWrap = wrapEnter\n                .append('g')\n                .attr('class', 'cellGrid')\n                .style('opacity', 1e-6);\n            var gridLinesV = wrap.select('.cellGrid').selectAll('.gridLines.verticalGrid')\n                .data(Object.values(uniqueX).concat([Object.values(uniqueX).length]));\n            gridLinesV.enter()\n                .append('line')\n                .attr('class', 'gridLines verticalGrid');\n            gridLinesV.exit()\n                .remove();\n            var gridLinesH = wrap.select('.cellGrid').selectAll('.gridLines.horizontalGrid')\n                .data(Object.values(uniqueY).concat([Object.values(uniqueY).length]));\n            gridLinesH.enter()\n                .append('line')\n                .attr('class', 'gridLines horizontalGrid');\n            gridLinesH.exit()\n                .remove();\n            var cellWrap = wrap.select('.cellWrap')\n                .selectAll(\".nv-cell\")\n                .data(function (d) { return d; }, function (e) { return getIdx(e); });\n            var xMetaWrap = wrapEnter\n                .append('g')\n                .attr('class', 'xMetaWrap')\n                .attr(\"transform\", function () { return \"translate(0,\" + (-xMetaHeight() - cellBorderWidth - metaOffset) + \")\"; });\n            var xMetas = wrap.select('.xMetaWrap').selectAll('.x-meta')\n                .data(uniqueXMeta);\n            var xMetaEnter = xMetas\n                .enter()\n                .append('rect')\n                .attr('class', 'x-meta meta')\n                .attr(\"width\", cellWidth - cellBorderWidth)\n                .attr(\"height\", xMetaHeight())\n                .attr(\"transform\", \"translate(0,0)\")\n                .attr(\"fill\", function (d) { return xMetaColorScale(d); });\n            var yMetaWrap = wrapEnter\n                .append('g')\n                .attr('class', 'yMetaWrap')\n                .attr(\"transform\", function (d, i) { return \"translate(\" + (-yMetaWidth() - cellBorderWidth - metaOffset) + \",0)\"; });\n            var yMetas = wrap.select('.yMetaWrap').selectAll('.y-meta')\n                .data(uniqueYMeta);\n            var yMetaEnter = yMetas\n                .enter()\n                .append('rect')\n                .attr('class', 'y-meta meta')\n                .attr(\"width\", yMetaWidth())\n                .attr(\"height\", cellHeight - cellBorderWidth)\n                .attr(\"transform\", function (d, i) { return \"translate(0,0)\"; })\n                .attr(\"fill\", function (d, i) { return yMetaColorScale(d); });\n            xMetas.exit().remove();\n            yMetas.exit().remove();\n            // CELLS    \n            var cellsEnter = cellWrap\n                .enter()\n                .append('g')\n                .style('opacity', 1e-6)\n                .attr(\"transform\", function (d) { return \"translate(0,\" + getIY(d) * cellHeight + \")\"; }) // enter all g's here for a sweep-right transition\n                .attr('data-row', function (d) { return getIY(d); })\n                .attr('data-column', function (d) { return getIX(d); });\n            cellsEnter\n                .append(\"rect\");\n            cellsEnter\n                .append('text')\n                .attr('text-anchor', 'middle')\n                .attr(\"dy\", 4)\n                .attr(\"class\", \"cell-text\");\n            // transition cell (rect) size\n            cellWrap.selectAll('rect')\n                .watchTransition(renderWatch, 'heatMap: rect')\n                .attr(\"width\", cellWidth - cellBorderWidth)\n                .attr(\"height\", cellHeight - cellBorderWidth)\n                .attr('rx', cellRadius)\n                .attr('ry', cellRadius)\n                .style('stroke', function (d) { return cellColor(d); });\n            // transition cell (g) position, opacity and fill\n            cellWrap\n                .attr(\"class\", function (d) { return isNaN(getCellValue(d)) ? 'nv-cell cell-missing' : 'nv-cell'; })\n                .watchTransition(renderWatch, 'heatMap: cells')\n                .style({\n                'opacity': 1,\n                'fill': function (d) { return cellColor(d); },\n            })\n                .attr(\"transform\", function (d) { return \"translate(\" + getIX(d) * cellWidth + \",\" + getIY(d) * cellHeight + \")\"; })\n                .attr(\"class\", function (d) { return isNaN(getCellValue(d)) ? 'nv-cell cell-missing' : 'nv-cell'; });\n            cellWrap.exit().remove();\n            // transition text position and fill\n            cellWrap.selectAll('text')\n                .watchTransition(renderWatch, 'heatMap: cells text')\n                .text(function (d) { return cellValueLabel(d); })\n                .attr(\"x\", function (d) { return (cellWidth - cellBorderWidth) / 2; })\n                .attr(\"y\", function (d) { return (cellHeight - cellBorderWidth) / 2; })\n                .style(\"fill\", function (d) { return cellTextColor(cellColor(d)); })\n                .style('opacity', function () { return showCellValues ? 1 : 0; });\n            // transition grid\n            wrap.selectAll('.verticalGrid')\n                .watchTransition(renderWatch, 'heatMap: gridLines')\n                .attr('y1', 0)\n                .attr('y2', availableHeight - cellBorderWidth)\n                .attr('x1', function (d) { return d * cellWidth - cellBorderWidth / 2; })\n                .attr('x2', function (d) { return d * cellWidth - cellBorderWidth / 2; });\n            var numHLines = Object.keys(uniqueY).length;\n            wrap.selectAll('.horizontalGrid')\n                .watchTransition(renderWatch, 'heatMap: gridLines')\n                .attr('x1', function (d) { return (d == 0 || d == numHLines) ? -cellBorderWidth : 0; })\n                .attr('x2', function (d) { return (d == 0 || d == numHLines) ? availableWidth : availableWidth - cellBorderWidth; })\n                .attr('y1', function (d) { return d * cellHeight - cellBorderWidth / 2; })\n                .attr('y2', function (d) { return d * cellHeight - cellBorderWidth / 2; });\n            wrap.select('.cellGrid')\n                .watchTransition(renderWatch, 'heatMap: gridLines')\n                .style({\n                'stroke-width': cellBorderWidth,\n                'opacity': function () { return showGrid ? 1 : 1e-6; },\n            });\n            var xMetaRect = wrap.selectAll('.x-meta');\n            var yMetaRect = wrap.selectAll('.y-meta');\n            var allMetaRect = wrap.selectAll('.meta');\n            // transition meta rect size\n            xMetas\n                .watchTransition(renderWatch, 'heatMap: xMetaRect')\n                .attr(\"width\", cellWidth - cellBorderWidth)\n                .attr(\"height\", xMetaHeight())\n                .attr(\"transform\", function (d, i) { return \"translate(\" + (i * cellWidth) + \",0)\"; });\n            yMetas\n                .watchTransition(renderWatch, 'heatMap: yMetaRect')\n                .attr(\"width\", yMetaWidth())\n                .attr(\"height\", cellHeight - cellBorderWidth)\n                .attr(\"transform\", function (d, i) { return \"translate(0,\" + (i * cellHeight) + \")\"; });\n            // transition position of meta wrap g & opacity\n            wrap.select('.xMetaWrap')\n                .watchTransition(renderWatch, 'heatMap: xMetaWrap')\n                .attr(\"transform\", function (d, i) { return \"translate(0,\" + (-xMetaHeight() - cellBorderWidth - metaOffset) + \")\"; })\n                .style(\"opacity\", function () { return xMeta !== false ? 1 : 0; });\n            wrap.select('.yMetaWrap')\n                .watchTransition(renderWatch, 'heatMap: yMetaWrap')\n                .attr(\"transform\", function (d, i) { return \"translate(\" + (-yMetaWidth() - cellBorderWidth - metaOffset) + \",0)\"; })\n                .style(\"opacity\", function () { return yMeta !== false ? 1 : 0; });\n            // TOOLTIPS\n            cellWrap\n                .on('mouseover', function (d, i) {\n                var idx = getIdx(d);\n                var ix = getIX(d);\n                var iy = getIY(d);\n                // set the proper classes for all cells\n                // hover row gets class .row-hover\n                // hover column gets class .column-hover\n                // hover cell gets class .cell-hover\n                // all remaining cells get class .no-hover\n                d3.selectAll('.nv-cell').each(function (e) {\n                    if (idx == getIdx(e)) {\n                        d3.select(this).classed('cell-hover', true);\n                        d3.select(this).classed('no-hover', false);\n                    }\n                    else {\n                        d3.select(this).classed('no-hover', true);\n                        d3.select(this).classed('cell-hover', false);\n                    }\n                    if (ix == getIX(e)) {\n                        d3.select(this).classed('no-hover', false);\n                        d3.select(this).classed('column-hover', true);\n                    }\n                    if (iy == getIY(e)) {\n                        d3.select(this).classed('no-hover', false);\n                        d3.select(this).classed('row-hover', true);\n                    }\n                });\n                // set hover classes for column metadata\n                d3.selectAll('.x-meta').each(function (e, j) {\n                    if (j == ix) {\n                        d3.select(this).classed('cell-hover', true);\n                        d3.select(this).classed('no-hover', false);\n                    }\n                    else {\n                        d3.select(this).classed('no-hover', true);\n                        d3.select(this).classed('cell-hover', false);\n                    }\n                });\n                // set hover class for row metadata\n                d3.selectAll('.y-meta').each(function (e, j) {\n                    if (j == iy) {\n                        d3.select(this).classed('cell-hover', true);\n                        d3.select(this).classed('no-hover', false);\n                    }\n                    else {\n                        d3.select(this).classed('no-hover', true);\n                        d3.select(this).classed('cell-hover', false);\n                    }\n                });\n                dispatch.elementMouseover({\n                    value: getKeyByValue(uniqueX, ix) + ' & ' + getKeyByValue(uniqueY, iy),\n                    series: {\n                        value: cellValueLabel(d),\n                        color: d3.select(this).select('rect').style(\"fill\")\n                    },\n                    e: d3.event,\n                });\n            })\n                .on('mouseout', function (d, i) {\n                // allow tooltip to remain even when mouse is over the\n                // space between the cell;\n                // this prevents cells from \"flashing\" when transitioning\n                // between cells\n                var bBox = d3.select(this).select('rect').node().getBBox();\n                var coordinates = d3.mouse(d3.select('.nv-heatMap').node());\n                var x = coordinates[0];\n                var y = coordinates[1];\n                // we only trigger mouseout when mouse moves outside of\n                // .nv-heatMap\n                if (x + cellBorderWidth >= availableWidth || y + cellBorderWidth >= availableHeight || x < 0 || y < 0) {\n                    // remove all hover classes\n                    removeAllHoverClasses();\n                    dispatch.elementMouseout({ e: d3.event });\n                }\n            })\n                .on('mousemove', function (d, i) {\n                dispatch.elementMousemove({ e: d3.event });\n            });\n            allMetaRect\n                .on('mouseover', function (d, i) {\n                // true if hovering over a row metadata rect\n                var isColMeta = d3.select(this).attr('class').indexOf('x-meta') != -1 ? true : false;\n                // apply proper .row-hover & .column-hover\n                // classes to cells\n                d3.selectAll('.nv-cell').each(function (e) {\n                    if (isColMeta && i == getIX(e)) {\n                        d3.select(this).classed('column-hover', true);\n                        d3.select(this).classed('no-hover', false);\n                    }\n                    else if (!isColMeta && i - uniqueXMeta.length == getIY(e)) {\n                        // since allMetaRect selects all the meta rects, the index for the y's will\n                        // be offset by the number of x rects. TODO - write seperate tooltip sections\n                        // for x meta rect & y meta rect\n                        d3.select(this).classed('row-hover', true);\n                        d3.select(this).classed('no-hover', false);\n                    }\n                    else {\n                        d3.select(this).classed('no-hover', true);\n                        d3.select(this).classed('column-hover', false);\n                        d3.select(this).classed('row-hover', false);\n                    }\n                    d3.select(this).classed('cell-hover', false);\n                });\n                // apply proper .row-hover & .column-hover\n                // classes to meta rects\n                d3.selectAll('.meta').classed('no-hover', true);\n                d3.select(this).classed('cell-hover', true);\n                d3.select(this).classed('no-hover', false);\n                dispatch.elementMouseover({\n                    value: isColMeta ? 'Column meta' : 'Row meta',\n                    series: { value: d, color: d3.select(this).style('fill'), }\n                });\n            })\n                .on('mouseout', function (d, i) {\n                // true if hovering over a row metadata rect\n                var isColMeta = d3.select(this).attr('class').indexOf('x-meta') != -1 ? true : false;\n                // allow tooltip to remain even when mouse is over the\n                // space between the cell;\n                // this prevents cells from \"flashing\" when transitioning\n                // between cells\n                var bBox = d3.select(this).node().getBBox();\n                var coordinates = d3.mouse(d3.select(isColMeta ? '.xMetaWrap' : '.yMetaWrap').node());\n                var x = coordinates[0];\n                var y = coordinates[1];\n                if (y < 0 || x < 0 ||\n                    (isColMeta && x + cellBorderWidth >= availableWidth) ||\n                    (!isColMeta && y + cellBorderWidth >= availableHeight)) {\n                    // remove all hover classes\n                    removeAllHoverClasses();\n                    dispatch.elementMouseout({ e: d3.event });\n                }\n            })\n                .on('mousemove', function (d, i) {\n                dispatch.elementMousemove({ e: d3.event });\n            });\n        });\n        renderWatch.renderEnd('heatMap immediate');\n        return chart;\n    }\n    //============================================================\n    // Expose Public Variables\n    //------------------------------------------------------------\n    chart.dispatch = dispatch;\n    chart.options = nv.utils.optionsFunc.bind(chart);\n    chart._options = Object.create({}, {\n        // simple options, just get/set the necessary values\n        width: { get: function () { return width; }, set: function (_) { width = _; } },\n        height: { get: function () { return height; }, set: function (_) { height = _; } },\n        showCellValues: { get: function () { return showCellValues; }, set: function (_) { showCellValues = _; } },\n        x: { get: function () { return getX; }, set: function (_) { getX = _; } },\n        y: { get: function () { return getY; }, set: function (_) { getY = _; } },\n        cellValue: { get: function () { return getCellValue; }, set: function (_) { getCellValue = _; } },\n        missingDataColor: { get: function () { return missingDataColor; }, set: function (_) { missingDataColor = _; } },\n        missingDataLabel: { get: function () { return missingDataLabel; }, set: function (_) { missingDataLabel = _; } },\n        xScale: { get: function () { return xScale; }, set: function (_) { xScale = _; } },\n        yScale: { get: function () { return yScale; }, set: function (_) { yScale = _; } },\n        colorScale: { get: function () { return colorScale; }, set: function (_) { colorScale = _; } },\n        xDomain: { get: function () { return xDomain; }, set: function (_) { xDomain = _; } },\n        yDomain: { get: function () { return yDomain; }, set: function (_) { yDomain = _; } },\n        xRange: { get: function () { return xRange; }, set: function (_) { xRange = _; } },\n        yRange: { get: function () { return yRange; }, set: function (_) { yRange = _; } },\n        colorRange: { get: function () { return colorRange; }, set: function (_) { colorRange = _; } },\n        colorDomain: { get: function () { return colorDomain; }, set: function (_) { colorDomain = _; } },\n        xMeta: { get: function () { return xMeta; }, set: function (_) { xMeta = _; } },\n        yMeta: { get: function () { return yMeta; }, set: function (_) { yMeta = _; } },\n        xMetaColorScale: { get: function () { return color; }, set: function (_) { color = nv.utils.getColor(_); } },\n        yMetaColorScale: { get: function () { return color; }, set: function (_) { color = nv.utils.getColor(_); } },\n        cellAspectRatio: { get: function () { return cellAspectRatio; }, set: function (_) { cellAspectRatio = _; } },\n        cellRadius: { get: function () { return cellRadius; }, set: function (_) { cellRadius = _; } },\n        cellHeight: { get: function () { return cellHeight; } },\n        cellWidth: { get: function () { return cellWidth; } },\n        normalize: { get: function () { return normalize; }, set: function (_) { normalize = _; } },\n        cellBorderWidth: { get: function () { return cellBorderWidth; }, set: function (_) { cellBorderWidth = _; } },\n        highContrastText: { get: function () { return highContrastText; }, set: function (_) { highContrastText = _; } },\n        cellValueFormat: { get: function () { return cellValueFormat; }, set: function (_) { cellValueFormat = _; } },\n        id: { get: function () { return id; }, set: function (_) { id = _; } },\n        metaOffset: { get: function () { return metaOffset; }, set: function (_) { metaOffset = _; } },\n        xMetaHeight: { get: function () { return xMetaHeight; }, set: function (_) { xMetaHeight = _; } },\n        yMetaWidth: { get: function () { return yMetaWidth; }, set: function (_) { yMetaWidth = _; } },\n        showGrid: { get: function () { return showGrid; }, set: function (_) { showGrid = _; } },\n        // options that require extra logic in the setter\n        margin: { get: function () { return margin; }, set: function (_) {\n                margin.top = _.top !== undefined ? _.top : margin.top;\n                margin.right = _.right !== undefined ? _.right : margin.right;\n                margin.bottom = _.bottom !== undefined ? _.bottom : margin.bottom;\n                margin.left = _.left !== undefined ? _.left : margin.left;\n            } },\n        duration: { get: function () { return duration; }, set: function (_) {\n                duration = _;\n                renderWatch.reset(duration);\n            } }\n    });\n    nv.utils.initOptions(chart);\n    return chart;\n};\n","/* Heatmap Chart Type\n\nA heatmap is a graphical representation of data where the individual values\ncontained in a matrix are represented as colors within cells. Furthermore,\nmetadata can be associated with each of the matrix rows or columns. By grouping\nthese rows/columns together by a given metadata value, data trends can be spotted.\n\nFormat for input data should be:\nvar data = [\n    {day: 'mo', hour: '1a', value: 16, timeperiod: 'early morning', weekperiod: 'week', category: 1},\n    {day: 'mo', hour: '2a', value: 20, timeperiod: 'early morning', weekperiod: 'week', category: 2},\n    {day: 'mo', hour: '3a', value: 0, timeperiod: 'early morning', weekperiod: 'week', category: 1},\n    ...\n]\nwhere the keys 'day' and 'hour' specify the row/column of the heatmap, 'value' specifies the  cell\nvalue and the keys 'timeperiod', 'weekperiod' and 'week' are extra metadata that can be associated\nwith rows/columns.\n\n\nOptions for chart:\n*/\nnv.models.heatMapChart = function () {\n    \"use strict\";\n    //============================================================\n    // Public Variables with Default Settings\n    //------------------------------------------------------------\n    var heatMap = nv.models.heatMap(), legend = nv.models.legend(), legendRowMeta = nv.models.legend(), legendColumnMeta = nv.models.legend(), tooltip = nv.models.tooltip(), xAxis = nv.models.axis(), yAxis = nv.models.axis();\n    var margin = { top: 20, right: 10, bottom: 50, left: 60 }, marginTop = null, width = null, height = null, color = nv.utils.getColor(), showLegend = true, staggerLabels = false, showXAxis = true, showYAxis = true, alignYAxis = 'left', alignXAxis = 'top', rotateLabels = 0, title = false, x, y, noData = null, dispatch = d3.dispatch('beforeUpdate', 'renderEnd'), duration = 250;\n    xAxis\n        .orient(alignXAxis)\n        .showMaxMin(false)\n        .tickFormat(function (d) { return d; });\n    yAxis\n        .orient(alignYAxis)\n        .showMaxMin(false)\n        .tickFormat(function (d) { return d; });\n    tooltip\n        .duration(0)\n        .headerEnabled(true)\n        .keyFormatter(function (d, i) {\n        return xAxis.tickFormat()(d, i);\n    });\n    //============================================================\n    // Private Variables\n    //------------------------------------------------------------\n    // https://bl.ocks.org/mbostock/4573883\n    // get max/min range for all the quantized cell values\n    // returns an array where each element is [start,stop]\n    // of color bin\n    function quantizeLegendValues() {\n        var e = heatMap.colorScale(), legendVals;\n        if (typeof e.domain()[0] === 'string') { // if color scale is ordinal\n            legendVals = e.domain();\n        }\n        else { // if color scale is numeric\n            legendVals = e.range().map(function (color) {\n                var d = e.invertExtent(color);\n                if (d[0] === null)\n                    d[0] = e.domain()[0];\n                if (d[1] === null)\n                    d[1] = e.domain()[1];\n                return d;\n            });\n        }\n        return legendVals;\n    }\n    // return true if row metadata specified by user\n    function hasRowMeta() {\n        return typeof heatMap.yMeta() === 'function';\n    }\n    // return true if col metadata specified by user\n    function hasColumnMeta() {\n        return typeof heatMap.xMeta() === 'function';\n    }\n    var renderWatch = nv.utils.renderWatch(dispatch, duration);\n    function chart(selection) {\n        renderWatch.reset();\n        renderWatch.models(heatMap);\n        renderWatch.models(xAxis);\n        renderWatch.models(yAxis);\n        selection.each(function (data) {\n            var container = d3.select(this), that = this;\n            nv.utils.initSVG(container);\n            var availableWidth = nv.utils.availableWidth(width, container, margin), availableHeight = nv.utils.availableHeight(height, container, margin);\n            chart.update = function () {\n                dispatch.beforeUpdate();\n                container.transition().duration(duration).call(chart);\n            };\n            chart.container = this;\n            // Display No Data message if there's nothing to show.\n            if (!data || !data.length) {\n                nv.utils.noData(chart, container);\n                return chart;\n            }\n            else {\n                container.selectAll('.nv-noData').remove();\n            }\n            // Setup Scales\n            x = heatMap.xScale();\n            y = heatMap.yScale();\n            // Setup containers and skeleton of chart\n            var wrap = container.selectAll('g.nv-wrap').data([data]);\n            var gEnter = wrap.enter().append('g').attr('class', 'nvd3 nv-wrap').append('g');\n            var g = wrap.select('g');\n            gEnter.append('g').attr('class', 'nv-heatMap');\n            gEnter.append('g').attr('class', 'nv-legendWrap');\n            gEnter.append('g').attr('class', 'nv-x nv-axis');\n            gEnter.append('g').attr('class', 'nv-y nv-axis');\n            g.attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');\n            heatMap\n                .width(availableWidth)\n                .height(availableHeight);\n            var heatMapWrap = g.select('.nv-heatMap')\n                .datum(data.filter(function (d) { return !d.disabled; }));\n            heatMapWrap.transition().call(heatMap);\n            if (heatMap.cellAspectRatio()) {\n                availableHeight = heatMap.cellHeight() * y.domain().length;\n                heatMap.height(availableHeight);\n            }\n            // Setup Axes\n            xAxis\n                .scale(x)\n                ._ticks(nv.utils.calcTicksX(availableWidth / 100, data))\n                .tickSize(-availableHeight, 0);\n            var axisX = g.select('.nv-x.nv-axis');\n            axisX.call(xAxis)\n                .watchTransition(renderWatch, 'heatMap: axisX')\n                .selectAll('.tick')\n                .style('opacity', function () { return showXAxis ? 1 : 0; });\n            var xTicks = axisX.selectAll('g');\n            xTicks\n                .selectAll('.tick text')\n                .attr('transform', function (d, i, j) {\n                var rot = rotateLabels != 0 ? rotateLabels : '0';\n                var stagger = staggerLabels ? j % 2 == 0 ? '5' : '17' : '0';\n                return 'translate(0, ' + stagger + ') rotate(' + rot + ' 0,0)';\n            })\n                .style('text-anchor', rotateLabels > 0 ? 'start' : rotateLabels < 0 ? 'end' : 'middle');\n            // position text in center of meta rects\n            var yPos = -5;\n            if (hasColumnMeta()) {\n                axisX.selectAll('text').style('text-anchor', 'middle');\n                yPos = -heatMap.xMetaHeight()() / 2 - heatMap.metaOffset() + 3;\n            }\n            // adjust position of axis based on presence of metadata group\n            if (alignXAxis == 'bottom') {\n                axisX\n                    .watchTransition(renderWatch, 'heatMap: axisX')\n                    .attr(\"transform\", \"translate(0,\" + (availableHeight - yPos) + \")\");\n                if (heatMap.xMeta() !== false) { // if showing x metadata\n                    var pos = availableHeight + heatMap.metaOffset() + heatMap.cellBorderWidth();\n                    g.select('.xMetaWrap')\n                        .watchTransition(renderWatch, 'heatMap: xMetaWrap')\n                        .attr(\"transform\", function (d, i) { return \"translate(0,\" + pos + \")\"; });\n                }\n            }\n            else {\n                axisX\n                    .watchTransition(renderWatch, 'heatMap: axisX')\n                    .attr(\"transform\", \"translate(0,\" + yPos + \")\");\n            }\n            yAxis\n                .scale(y)\n                ._ticks(nv.utils.calcTicksY(availableHeight / 36, data))\n                .tickSize(-availableWidth, 0);\n            var axisY = g.select('.nv-y.nv-axis');\n            axisY.call(yAxis)\n                .watchTransition(renderWatch, 'heatMap: axisY')\n                .selectAll('.tick')\n                .style('opacity', function () { return showYAxis ? 1 : 0; });\n            // position text in center of meta rects\n            var xPos = -5;\n            if (hasRowMeta()) {\n                axisY.selectAll('text').style('text-anchor', 'middle');\n                xPos = -heatMap.yMetaWidth()() / 2 - heatMap.metaOffset();\n            }\n            // adjust position of axis based on presence of metadata group\n            if (alignYAxis == 'right') {\n                axisY.attr(\"transform\", \"translate(\" + (availableWidth - xPos) + \",0)\");\n                if (heatMap.yMeta() !== false) { // if showing y meatdata\n                    var pos = availableWidth + heatMap.metaOffset() + heatMap.cellBorderWidth();\n                    g.select('.yMetaWrap')\n                        .watchTransition(renderWatch, 'heatMap: yMetaWrap')\n                        .attr(\"transform\", function (d, i) { return \"translate(\" + pos + \",0)\"; });\n                }\n            }\n            else {\n                axisY.attr(\"transform\", \"translate(\" + xPos + \",0)\");\n            }\n            // Legend\n            var legendWrap = g.select('.nv-legendWrap');\n            legend\n                .width(availableWidth)\n                .color(heatMap.colorScale().range());\n            var legendVal = quantizeLegendValues().map(function (d) {\n                if (Array.isArray(d)) { // if cell values are numeric\n                    return { key: d[0].toFixed(1) + \" - \" + d[1].toFixed(1) };\n                }\n                else { // if cell values are ordinal\n                    return { key: d };\n                }\n            });\n            legendWrap\n                .datum(legendVal)\n                .call(legend)\n                .attr('transform', 'translate(0,' + (alignXAxis == 'top' ? availableHeight : -30) + ')'); // TODO: more intelligent offset (-30) when top aligning legend\n            legendWrap\n                .watchTransition(renderWatch, 'heatMap: nv-legendWrap')\n                .style('opacity', function () { return showLegend ? 1 : 0; });\n        });\n        // axis don't have a flag for disabling the zero line, so we do it manually\n        d3.selectAll('.nv-axis').selectAll('line')\n            .style('stroke-opacity', 0);\n        d3.select('.nv-y').select('path.domain').remove();\n        renderWatch.renderEnd('heatMap chart immediate');\n        return chart;\n    }\n    //============================================================\n    // Event Handling/Dispatching (out of chart's scope)\n    //------------------------------------------------------------\n    heatMap.dispatch.on('elementMouseover.tooltip', function (evt) {\n        tooltip.data(evt).hidden(false);\n    });\n    heatMap.dispatch.on('elementMouseout.tooltip', function (evt) {\n        tooltip.hidden(true);\n    });\n    heatMap.dispatch.on('elementMousemove.tooltip', function (evt) {\n        tooltip();\n    });\n    //============================================================\n    // Expose Public Variables\n    //------------------------------------------------------------\n    chart.dispatch = dispatch;\n    chart.heatMap = heatMap;\n    chart.legend = legend;\n    chart.xAxis = xAxis;\n    chart.yAxis = yAxis;\n    chart.tooltip = tooltip;\n    chart.options = nv.utils.optionsFunc.bind(chart);\n    chart._options = Object.create({}, {\n        // simple options, just get/set the necessary values\n        width: { get: function () { return width; }, set: function (_) { width = _; } },\n        height: { get: function () { return height; }, set: function (_) { height = _; } },\n        showLegend: { get: function () { return showLegend; }, set: function (_) { showLegend = _; } },\n        noData: { get: function () { return noData; }, set: function (_) { noData = _; } },\n        showXAxis: { get: function () { return showXAxis; }, set: function (_) { showXAxis = _; } },\n        showYAxis: { get: function () { return showYAxis; }, set: function (_) { showYAxis = _; } },\n        staggerLabels: { get: function () { return staggerLabels; }, set: function (_) { staggerLabels = _; } },\n        rotateLabels: { get: function () { return rotateLabels; }, set: function (_) { rotateLabels = _; } },\n        // options that require extra logic in the setter\n        margin: { get: function () { return margin; }, set: function (_) {\n                if (_.top !== undefined) {\n                    margin.top = _.top;\n                    marginTop = _.top;\n                }\n                margin.right = _.right !== undefined ? _.right : margin.right;\n                margin.bottom = _.bottom !== undefined ? _.bottom : margin.bottom;\n                margin.left = _.left !== undefined ? _.left : margin.left;\n            } },\n        duration: { get: function () { return duration; }, set: function (_) {\n                duration = _;\n                renderWatch.reset(duration);\n                heatMap.duration(duration);\n                xAxis.duration(duration);\n                yAxis.duration(duration);\n            } },\n        alignYAxis: { get: function () { return alignYAxis; }, set: function (_) {\n                alignYAxis = _;\n                yAxis.orient(_);\n            } },\n        alignXAxis: { get: function () { return alignXAxis; }, set: function (_) {\n                alignXAxis = _;\n                xAxis.orient(_);\n            } },\n    });\n    nv.utils.inheritOptions(chart, heatMap);\n    nv.utils.initOptions(chart);\n    return chart;\n};\n","//TODO: consider deprecating and using multibar with single series for this\nnv.models.historicalBar = function () {\n    \"use strict\";\n    //============================================================\n    // Public Variables with Default Settings\n    //------------------------------------------------------------\n    var margin = { top: 0, right: 0, bottom: 0, left: 0 }, width = null, height = null, id = Math.floor(Math.random() * 10000) //Create semi-unique ID in case user doesn't select one\n    , container = null, x = d3.scale.linear(), y = d3.scale.linear(), getX = function (d) { return d.x; }, getY = function (d) { return d.y; }, forceX = [], forceY = [0], padData = false, clipEdge = true, color = nv.utils.defaultColor(), xDomain, yDomain, xRange, yRange, dispatch = d3.dispatch('chartClick', 'elementClick', 'elementDblClick', 'elementMouseover', 'elementMouseout', 'elementMousemove', 'renderEnd'), interactive = true;\n    var renderWatch = nv.utils.renderWatch(dispatch, 0);\n    function chart(selection) {\n        selection.each(function (data) {\n            renderWatch.reset();\n            container = d3.select(this);\n            var availableWidth = nv.utils.availableWidth(width, container, margin), availableHeight = nv.utils.availableHeight(height, container, margin);\n            nv.utils.initSVG(container);\n            // Setup Scales\n            x.domain(xDomain || d3.extent(data[0].values.map(getX).concat(forceX)));\n            if (padData)\n                x.range(xRange || [availableWidth * .5 / data[0].values.length, availableWidth * (data[0].values.length - .5) / data[0].values.length]);\n            else\n                x.range(xRange || [0, availableWidth]);\n            y.domain(yDomain || d3.extent(data[0].values.map(getY).concat(forceY)))\n                .range(yRange || [availableHeight, 0]);\n            // If scale's domain don't have a range, slightly adjust to make one... so a chart can show a single data point\n            if (x.domain()[0] === x.domain()[1])\n                x.domain()[0] ?\n                    x.domain([x.domain()[0] - x.domain()[0] * 0.01, x.domain()[1] + x.domain()[1] * 0.01])\n                    : x.domain([-1, 1]);\n            if (y.domain()[0] === y.domain()[1])\n                y.domain()[0] ?\n                    y.domain([y.domain()[0] + y.domain()[0] * 0.01, y.domain()[1] - y.domain()[1] * 0.01])\n                    : y.domain([-1, 1]);\n            // Setup containers and skeleton of chart\n            var wrap = container.selectAll('g.nv-wrap.nv-historicalBar-' + id).data([data[0].values]);\n            var wrapEnter = wrap.enter().append('g').attr('class', 'nvd3 nv-wrap nv-historicalBar-' + id);\n            var defsEnter = wrapEnter.append('defs');\n            var gEnter = wrapEnter.append('g');\n            var g = wrap.select('g');\n            gEnter.append('g').attr('class', 'nv-bars');\n            wrap.attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');\n            container\n                .on('click', function (d, i) {\n                dispatch.chartClick({\n                    data: d,\n                    index: i,\n                    pos: d3.event,\n                    id: id\n                });\n            });\n            defsEnter.append('clipPath')\n                .attr('id', 'nv-chart-clip-path-' + id)\n                .append('rect');\n            wrap.select('#nv-chart-clip-path-' + id + ' rect')\n                .attr('width', availableWidth)\n                .attr('height', availableHeight);\n            g.attr('clip-path', clipEdge ? 'url(#nv-chart-clip-path-' + id + ')' : '');\n            var bars = wrap.select('.nv-bars').selectAll('.nv-bar')\n                .data(function (d) { return d; }, function (d, i) { return getX(d, i); });\n            bars.exit().remove();\n            bars.enter().append('rect')\n                .attr('x', 0)\n                .attr('y', function (d, i) { return nv.utils.NaNtoZero(y(Math.max(0, getY(d, i)))); })\n                .attr('height', function (d, i) { return nv.utils.NaNtoZero(Math.abs(y(getY(d, i)) - y(0))); })\n                .attr('transform', function (d, i) { return 'translate(' + (x(getX(d, i)) - availableWidth / data[0].values.length * .45) + ',0)'; })\n                .on('mouseover', function (d, i) {\n                if (!interactive)\n                    return;\n                d3.select(this).classed('hover', true);\n                dispatch.elementMouseover({\n                    data: d,\n                    index: i,\n                    color: d3.select(this).style(\"fill\")\n                });\n            })\n                .on('mouseout', function (d, i) {\n                if (!interactive)\n                    return;\n                d3.select(this).classed('hover', false);\n                dispatch.elementMouseout({\n                    data: d,\n                    index: i,\n                    color: d3.select(this).style(\"fill\")\n                });\n            })\n                .on('mousemove', function (d, i) {\n                if (!interactive)\n                    return;\n                dispatch.elementMousemove({\n                    data: d,\n                    index: i,\n                    color: d3.select(this).style(\"fill\")\n                });\n            })\n                .on('click', function (d, i) {\n                if (!interactive)\n                    return;\n                var element = this;\n                dispatch.elementClick({\n                    data: d,\n                    index: i,\n                    color: d3.select(this).style(\"fill\"),\n                    event: d3.event,\n                    element: element\n                });\n                d3.event.stopPropagation();\n            })\n                .on('dblclick', function (d, i) {\n                if (!interactive)\n                    return;\n                dispatch.elementDblClick({\n                    data: d,\n                    index: i,\n                    color: d3.select(this).style(\"fill\")\n                });\n                d3.event.stopPropagation();\n            });\n            bars\n                .attr('fill', function (d, i) { return color(d, i); })\n                .attr('class', function (d, i, j) { return (getY(d, i) < 0 ? 'nv-bar negative' : 'nv-bar positive') + ' nv-bar-' + j + '-' + i; })\n                .watchTransition(renderWatch, 'bars')\n                .attr('transform', function (d, i) { return 'translate(' + (x(getX(d, i)) - availableWidth / data[0].values.length * .45) + ',0)'; })\n                //TODO: better width calculations that don't assume always uniform data spacing;w\n                .attr('width', (availableWidth / data[0].values.length) * .9);\n            bars.watchTransition(renderWatch, 'bars')\n                .attr('y', function (d, i) {\n                var rval = getY(d, i) < 0 ?\n                    y(0) :\n                    y(0) - y(getY(d, i)) < 1 ?\n                        y(0) - 1 :\n                        y(getY(d, i));\n                return nv.utils.NaNtoZero(rval);\n            })\n                .attr('height', function (d, i) { return nv.utils.NaNtoZero(Math.max(Math.abs(y(getY(d, i)) - y(0)), 1)); });\n        });\n        renderWatch.renderEnd('historicalBar immediate');\n        return chart;\n    }\n    //Create methods to allow outside functions to highlight a specific bar.\n    chart.highlightPoint = function (pointIndex, isHoverOver) {\n        container\n            .select(\".nv-bars .nv-bar-0-\" + pointIndex)\n            .classed(\"hover\", isHoverOver);\n    };\n    chart.clearHighlights = function () {\n        container\n            .select(\".nv-bars .nv-bar.hover\")\n            .classed(\"hover\", false);\n    };\n    //============================================================\n    // Expose Public Variables\n    //------------------------------------------------------------\n    chart.dispatch = dispatch;\n    chart.options = nv.utils.optionsFunc.bind(chart);\n    chart._options = Object.create({}, {\n        // simple options, just get/set the necessary values\n        width: { get: function () { return width; }, set: function (_) { width = _; } },\n        height: { get: function () { return height; }, set: function (_) { height = _; } },\n        forceX: { get: function () { return forceX; }, set: function (_) { forceX = _; } },\n        forceY: { get: function () { return forceY; }, set: function (_) { forceY = _; } },\n        padData: { get: function () { return padData; }, set: function (_) { padData = _; } },\n        x: { get: function () { return getX; }, set: function (_) { getX = _; } },\n        y: { get: function () { return getY; }, set: function (_) { getY = _; } },\n        xScale: { get: function () { return x; }, set: function (_) { x = _; } },\n        yScale: { get: function () { return y; }, set: function (_) { y = _; } },\n        xDomain: { get: function () { return xDomain; }, set: function (_) { xDomain = _; } },\n        yDomain: { get: function () { return yDomain; }, set: function (_) { yDomain = _; } },\n        xRange: { get: function () { return xRange; }, set: function (_) { xRange = _; } },\n        yRange: { get: function () { return yRange; }, set: function (_) { yRange = _; } },\n        clipEdge: { get: function () { return clipEdge; }, set: function (_) { clipEdge = _; } },\n        id: { get: function () { return id; }, set: function (_) { id = _; } },\n        interactive: { get: function () { return interactive; }, set: function (_) { interactive = _; } },\n        // options that require extra logic in the setter\n        margin: { get: function () { return margin; }, set: function (_) {\n                margin.top = _.top !== undefined ? _.top : margin.top;\n                margin.right = _.right !== undefined ? _.right : margin.right;\n                margin.bottom = _.bottom !== undefined ? _.bottom : margin.bottom;\n                margin.left = _.left !== undefined ? _.left : margin.left;\n            } },\n        color: { get: function () { return color; }, set: function (_) {\n                color = nv.utils.getColor(_);\n            } }\n    });\n    nv.utils.initOptions(chart);\n    return chart;\n};\n","nv.models.historicalBarChart = function (bar_model) {\n    \"use strict\";\n    //============================================================\n    // Public Variables with Default Settings\n    //------------------------------------------------------------\n    var bars = bar_model || nv.models.historicalBar(), xAxis = nv.models.axis(), yAxis = nv.models.axis(), legend = nv.models.legend(), interactiveLayer = nv.interactiveGuideline(), tooltip = nv.models.tooltip();\n    var margin = { top: 30, right: 90, bottom: 50, left: 90 }, marginTop = null, color = nv.utils.defaultColor(), width = null, height = null, showLegend = false, showXAxis = true, showYAxis = true, rightAlignYAxis = false, useInteractiveGuideline = false, x, y, state = {}, defaultState = null, noData = null, dispatch = d3.dispatch('tooltipHide', 'stateChange', 'changeState', 'renderEnd'), transitionDuration = 250;\n    xAxis.orient('bottom').tickPadding(7);\n    yAxis.orient((rightAlignYAxis) ? 'right' : 'left');\n    tooltip\n        .duration(0)\n        .headerEnabled(false)\n        .valueFormatter(function (d, i) {\n        return yAxis.tickFormat()(d, i);\n    })\n        .headerFormatter(function (d, i) {\n        return xAxis.tickFormat()(d, i);\n    });\n    //============================================================\n    // Private Variables\n    //------------------------------------------------------------\n    var renderWatch = nv.utils.renderWatch(dispatch, 0);\n    function chart(selection) {\n        selection.each(function (data) {\n            renderWatch.reset();\n            renderWatch.models(bars);\n            if (showXAxis)\n                renderWatch.models(xAxis);\n            if (showYAxis)\n                renderWatch.models(yAxis);\n            var container = d3.select(this), that = this;\n            nv.utils.initSVG(container);\n            var availableWidth = nv.utils.availableWidth(width, container, margin), availableHeight = nv.utils.availableHeight(height, container, margin);\n            chart.update = function () { container.transition().duration(transitionDuration).call(chart); };\n            chart.container = this;\n            //set state.disabled\n            state.disabled = data.map(function (d) { return !!d.disabled; });\n            if (!defaultState) {\n                var key;\n                defaultState = {};\n                for (key in state) {\n                    if (state[key] instanceof Array)\n                        defaultState[key] = state[key].slice(0);\n                    else\n                        defaultState[key] = state[key];\n                }\n            }\n            // Display noData message if there's nothing to show.\n            if (!data || !data.length || !data.filter(function (d) { return d.values.length; }).length) {\n                nv.utils.noData(chart, container);\n                return chart;\n            }\n            else {\n                container.selectAll('.nv-noData').remove();\n            }\n            // Setup Scales\n            x = bars.xScale();\n            y = bars.yScale();\n            // Setup containers and skeleton of chart\n            var wrap = container.selectAll('g.nv-wrap.nv-historicalBarChart').data([data]);\n            var gEnter = wrap.enter().append('g').attr('class', 'nvd3 nv-wrap nv-historicalBarChart').append('g');\n            var g = wrap.select('g');\n            gEnter.append('g').attr('class', 'nv-x nv-axis');\n            gEnter.append('g').attr('class', 'nv-y nv-axis');\n            gEnter.append('g').attr('class', 'nv-barsWrap');\n            gEnter.append('g').attr('class', 'nv-legendWrap');\n            gEnter.append('g').attr('class', 'nv-interactive');\n            // Legend\n            if (!showLegend) {\n                g.select('.nv-legendWrap').selectAll('*').remove();\n            }\n            else {\n                legend.width(availableWidth);\n                g.select('.nv-legendWrap')\n                    .datum(data)\n                    .call(legend);\n                if (!marginTop && legend.height() !== margin.top) {\n                    margin.top = legend.height();\n                    availableHeight = nv.utils.availableHeight(height, container, margin);\n                }\n                wrap.select('.nv-legendWrap')\n                    .attr('transform', 'translate(0,' + (-margin.top) + ')');\n            }\n            wrap.attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');\n            if (rightAlignYAxis) {\n                g.select(\".nv-y.nv-axis\")\n                    .attr(\"transform\", \"translate(\" + availableWidth + \",0)\");\n            }\n            //Set up interactive layer\n            if (useInteractiveGuideline) {\n                interactiveLayer\n                    .width(availableWidth)\n                    .height(availableHeight)\n                    .margin({ left: margin.left, top: margin.top })\n                    .svgContainer(container)\n                    .xScale(x);\n                wrap.select(\".nv-interactive\").call(interactiveLayer);\n            }\n            bars\n                .width(availableWidth)\n                .height(availableHeight)\n                .color(data.map(function (d, i) {\n                return d.color || color(d, i);\n            }).filter(function (d, i) { return !data[i].disabled; }));\n            var barsWrap = g.select('.nv-barsWrap')\n                .datum(data.filter(function (d) { return !d.disabled; }));\n            barsWrap.transition().call(bars);\n            // Setup Axes\n            if (showXAxis) {\n                xAxis\n                    .scale(x)\n                    ._ticks(nv.utils.calcTicksX(availableWidth / 100, data))\n                    .tickSize(-availableHeight, 0);\n                g.select('.nv-x.nv-axis')\n                    .attr('transform', 'translate(0,' + y.range()[0] + ')');\n                g.select('.nv-x.nv-axis')\n                    .transition()\n                    .call(xAxis);\n            }\n            if (showYAxis) {\n                yAxis\n                    .scale(y)\n                    ._ticks(nv.utils.calcTicksY(availableHeight / 36, data))\n                    .tickSize(-availableWidth, 0);\n                g.select('.nv-y.nv-axis')\n                    .transition()\n                    .call(yAxis);\n            }\n            //============================================================\n            // Event Handling/Dispatching (in chart's scope)\n            //------------------------------------------------------------\n            interactiveLayer.dispatch.on('elementMousemove', function (e) {\n                bars.clearHighlights();\n                var singlePoint, pointIndex, pointXLocation, allData = [];\n                data\n                    .filter(function (series, i) {\n                    series.seriesIndex = i;\n                    return !series.disabled;\n                })\n                    .forEach(function (series, i) {\n                    pointIndex = nv.interactiveBisect(series.values, e.pointXValue, chart.x());\n                    bars.highlightPoint(pointIndex, true);\n                    var point = series.values[pointIndex];\n                    if (point === undefined)\n                        return;\n                    if (singlePoint === undefined)\n                        singlePoint = point;\n                    if (pointXLocation === undefined)\n                        pointXLocation = chart.xScale()(chart.x()(point, pointIndex));\n                    allData.push({\n                        key: series.key,\n                        value: chart.y()(point, pointIndex),\n                        color: color(series, series.seriesIndex),\n                        data: series.values[pointIndex]\n                    });\n                });\n                var xValue = xAxis.tickFormat()(chart.x()(singlePoint, pointIndex));\n                interactiveLayer.tooltip\n                    .valueFormatter(function (d, i) {\n                    return yAxis.tickFormat()(d);\n                })\n                    .data({\n                    value: xValue,\n                    index: pointIndex,\n                    series: allData\n                })();\n                interactiveLayer.renderGuideLine(pointXLocation);\n            });\n            interactiveLayer.dispatch.on(\"elementMouseout\", function (e) {\n                dispatch.tooltipHide();\n                bars.clearHighlights();\n            });\n            legend.dispatch.on('legendClick', function (d, i) {\n                d.disabled = !d.disabled;\n                if (!data.filter(function (d) { return !d.disabled; }).length) {\n                    data.map(function (d) {\n                        d.disabled = false;\n                        wrap.selectAll('.nv-series').classed('disabled', false);\n                        return d;\n                    });\n                }\n                state.disabled = data.map(function (d) { return !!d.disabled; });\n                dispatch.stateChange(state);\n                selection.transition().call(chart);\n            });\n            legend.dispatch.on('legendDblclick', function (d) {\n                //Double clicking should always enable current series, and disabled all others.\n                data.forEach(function (d) {\n                    d.disabled = true;\n                });\n                d.disabled = false;\n                state.disabled = data.map(function (d) { return !!d.disabled; });\n                dispatch.stateChange(state);\n                chart.update();\n            });\n            dispatch.on('changeState', function (e) {\n                if (typeof e.disabled !== 'undefined') {\n                    data.forEach(function (series, i) {\n                        series.disabled = e.disabled[i];\n                    });\n                    state.disabled = e.disabled;\n                }\n                chart.update();\n            });\n        });\n        renderWatch.renderEnd('historicalBarChart immediate');\n        return chart;\n    }\n    //============================================================\n    // Event Handling/Dispatching (out of chart's scope)\n    //------------------------------------------------------------\n    bars.dispatch.on('elementMouseover.tooltip', function (evt) {\n        evt['series'] = {\n            key: chart.x()(evt.data),\n            value: chart.y()(evt.data),\n            color: evt.color\n        };\n        tooltip.data(evt).hidden(false);\n    });\n    bars.dispatch.on('elementMouseout.tooltip', function (evt) {\n        tooltip.hidden(true);\n    });\n    bars.dispatch.on('elementMousemove.tooltip', function (evt) {\n        tooltip();\n    });\n    //============================================================\n    // Expose Public Variables\n    //------------------------------------------------------------\n    // expose chart's sub-components\n    chart.dispatch = dispatch;\n    chart.bars = bars;\n    chart.legend = legend;\n    chart.xAxis = xAxis;\n    chart.yAxis = yAxis;\n    chart.interactiveLayer = interactiveLayer;\n    chart.tooltip = tooltip;\n    chart.options = nv.utils.optionsFunc.bind(chart);\n    chart._options = Object.create({}, {\n        // simple options, just get/set the necessary values\n        width: { get: function () { return width; }, set: function (_) { width = _; } },\n        height: { get: function () { return height; }, set: function (_) { height = _; } },\n        showLegend: { get: function () { return showLegend; }, set: function (_) { showLegend = _; } },\n        showXAxis: { get: function () { return showXAxis; }, set: function (_) { showXAxis = _; } },\n        showYAxis: { get: function () { return showYAxis; }, set: function (_) { showYAxis = _; } },\n        defaultState: { get: function () { return defaultState; }, set: function (_) { defaultState = _; } },\n        noData: { get: function () { return noData; }, set: function (_) { noData = _; } },\n        // options that require extra logic in the setter\n        margin: { get: function () { return margin; }, set: function (_) {\n                if (_.top !== undefined) {\n                    margin.top = _.top;\n                    marginTop = _.top;\n                }\n                margin.right = _.right !== undefined ? _.right : margin.right;\n                margin.bottom = _.bottom !== undefined ? _.bottom : margin.bottom;\n                margin.left = _.left !== undefined ? _.left : margin.left;\n            } },\n        color: { get: function () { return color; }, set: function (_) {\n                color = nv.utils.getColor(_);\n                legend.color(color);\n                bars.color(color);\n            } },\n        duration: { get: function () { return transitionDuration; }, set: function (_) {\n                transitionDuration = _;\n                renderWatch.reset(transitionDuration);\n                yAxis.duration(transitionDuration);\n                xAxis.duration(transitionDuration);\n            } },\n        rightAlignYAxis: { get: function () { return rightAlignYAxis; }, set: function (_) {\n                rightAlignYAxis = _;\n                yAxis.orient((_) ? 'right' : 'left');\n            } },\n        useInteractiveGuideline: { get: function () { return useInteractiveGuideline; }, set: function (_) {\n                useInteractiveGuideline = _;\n                if (_ === true) {\n                    chart.interactive(false);\n                }\n            } }\n    });\n    nv.utils.inheritOptions(chart, bars);\n    nv.utils.initOptions(chart);\n    return chart;\n};\n// ohlcChart is just a historical chart with ohlc bars and some tweaks\nnv.models.ohlcBarChart = function () {\n    var chart = nv.models.historicalBarChart(nv.models.ohlcBar());\n    // special default tooltip since we show multiple values per x\n    chart.useInteractiveGuideline(true);\n    chart.interactiveLayer.tooltip.contentGenerator(function (data) {\n        // we assume only one series exists for this chart\n        var d = data.series[0].data;\n        // match line colors as defined in nv.d3.css\n        var color = d.open < d.close ? \"2ca02c\" : \"d62728\";\n        return '' +\n            '<h3 style=\"color: #' + color + '\">' + data.value + '</h3>' +\n            '<table>' +\n            '<tr><td>open:</td><td>' + chart.yAxis.tickFormat()(d.open) + '</td></tr>' +\n            '<tr><td>close:</td><td>' + chart.yAxis.tickFormat()(d.close) + '</td></tr>' +\n            '<tr><td>high</td><td>' + chart.yAxis.tickFormat()(d.high) + '</td></tr>' +\n            '<tr><td>low:</td><td>' + chart.yAxis.tickFormat()(d.low) + '</td></tr>' +\n            '</table>';\n    });\n    return chart;\n};\n// candlestickChart is just a historical chart with candlestick bars and some tweaks\nnv.models.candlestickBarChart = function () {\n    var chart = nv.models.historicalBarChart(nv.models.candlestickBar());\n    // special default tooltip since we show multiple values per x\n    chart.useInteractiveGuideline(true);\n    chart.interactiveLayer.tooltip.contentGenerator(function (data) {\n        // we assume only one series exists for this chart\n        var d = data.series[0].data;\n        // match line colors as defined in nv.d3.css\n        var color = d.open < d.close ? \"2ca02c\" : \"d62728\";\n        return '' +\n            '<h3 style=\"color: #' + color + '\">' + data.value + '</h3>' +\n            '<table>' +\n            '<tr><td>open:</td><td>' + chart.yAxis.tickFormat()(d.open) + '</td></tr>' +\n            '<tr><td>close:</td><td>' + chart.yAxis.tickFormat()(d.close) + '</td></tr>' +\n            '<tr><td>high</td><td>' + chart.yAxis.tickFormat()(d.high) + '</td></tr>' +\n            '<tr><td>low:</td><td>' + chart.yAxis.tickFormat()(d.low) + '</td></tr>' +\n            '</table>';\n    });\n    return chart;\n};\n","nv.models.legend = function () {\n    \"use strict\";\n    //============================================================\n    // Public Variables with Default Settings\n    //------------------------------------------------------------\n    var margin = { top: 5, right: 0, bottom: 5, left: 0 }, width = 400, height = 20, getKey = function (d) { return d.key; }, keyFormatter = function (d) { return d; }, color = nv.utils.getColor(), maxKeyLength = 20 //default value for key lengths\n    , align = true, padding = 32 //define how much space between legend items. - recommend 32 for furious version\n    , rightAlign = true, updateState = true //If true, legend will update data.disabled and trigger a 'stateChange' dispatch.\n    , enableDoubleClick = true //If true, legend will enable double click handling\n    , radioButtonMode = false //If true, clicking legend items will cause it to behave like a radio button. (only one can be selected at a time)\n    , expanded = false, dispatch = d3.dispatch('legendClick', 'legendDblclick', 'legendMouseover', 'legendMouseout', 'stateChange'), vers = 'classic' //Options are \"classic\" and \"furious\"\n    ;\n    function chart(selection) {\n        selection.each(function (data) {\n            var availableWidth = width - margin.left - margin.right, container = d3.select(this);\n            nv.utils.initSVG(container);\n            // Setup containers and skeleton of chart\n            var wrap = container.selectAll('g.nv-legend').data([data]);\n            var gEnter = wrap.enter().append('g').attr('class', 'nvd3 nv-legend').append('g');\n            var g = wrap.select('g');\n            if (rightAlign)\n                wrap.attr('transform', 'translate(' + (-margin.right) + ',' + margin.top + ')');\n            else\n                wrap.attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');\n            var series = g.selectAll('.nv-series')\n                .data(function (d) {\n                if (vers != 'furious')\n                    return d;\n                return d.filter(function (n) {\n                    return expanded ? true : !n.disengaged;\n                });\n            });\n            var seriesEnter = series.enter().append('g').attr('class', 'nv-series');\n            var seriesShape;\n            var versPadding;\n            switch (vers) {\n                case 'furious':\n                    versPadding = 23;\n                    break;\n                case 'classic':\n                    versPadding = 20;\n            }\n            if (vers == 'classic') {\n                seriesEnter.append('circle')\n                    .style('stroke-width', 2)\n                    .attr('class', 'nv-legend-symbol')\n                    .attr('r', 5);\n                seriesShape = series.select('.nv-legend-symbol');\n            }\n            else if (vers == 'furious') {\n                seriesEnter.append('rect')\n                    .style('stroke-width', 2)\n                    .attr('class', 'nv-legend-symbol')\n                    .attr('rx', 3)\n                    .attr('ry', 3);\n                seriesShape = series.select('.nv-legend-symbol');\n                seriesEnter.append('g')\n                    .attr('class', 'nv-check-box')\n                    .property('innerHTML', '<path d=\"M0.5,5 L22.5,5 L22.5,26.5 L0.5,26.5 L0.5,5 Z\" class=\"nv-box\"></path><path d=\"M5.5,12.8618467 L11.9185089,19.2803556 L31,0.198864511\" class=\"nv-check\"></path>')\n                    .attr('transform', 'translate(-10,-8)scale(0.5)');\n                var seriesCheckbox = series.select('.nv-check-box');\n                seriesCheckbox.each(function (d, i) {\n                    d3.select(this).selectAll('path')\n                        .attr('stroke', setTextColor(d, i));\n                });\n            }\n            seriesEnter.append('text')\n                .attr('text-anchor', 'start')\n                .attr('class', 'nv-legend-text')\n                .attr('dy', '.32em')\n                .attr('dx', '8');\n            var seriesText = series.select('text.nv-legend-text');\n            series\n                .on('mouseover', function (d, i) {\n                dispatch.legendMouseover(d, i); //TODO: Make consistent with other event objects\n            })\n                .on('mouseout', function (d, i) {\n                dispatch.legendMouseout(d, i);\n            })\n                .on('click', function (d, i) {\n                dispatch.legendClick(d, i);\n                // make sure we re-get data in case it was modified\n                var data = series.data();\n                if (updateState) {\n                    if (vers == 'classic') {\n                        if (radioButtonMode) {\n                            //Radio button mode: set every series to disabled,\n                            //  and enable the clicked series.\n                            data.forEach(function (series) { series.disabled = true; });\n                            d.disabled = false;\n                        }\n                        else {\n                            d.disabled = !d.disabled;\n                            if (data.every(function (series) { return series.disabled; })) {\n                                //the default behavior of NVD3 legends is, if every single series\n                                // is disabled, turn all series' back on.\n                                data.forEach(function (series) { series.disabled = false; });\n                            }\n                        }\n                    }\n                    else if (vers == 'furious') {\n                        if (expanded) {\n                            d.disengaged = !d.disengaged;\n                            d.userDisabled = d.userDisabled == undefined ? !!d.disabled : d.userDisabled;\n                            d.disabled = d.disengaged || d.userDisabled;\n                        }\n                        else if (!expanded) {\n                            d.disabled = !d.disabled;\n                            d.userDisabled = d.disabled;\n                            var engaged = data.filter(function (d) { return !d.disengaged; });\n                            if (engaged.every(function (series) { return series.userDisabled; })) {\n                                //the default behavior of NVD3 legends is, if every single series\n                                // is disabled, turn all series' back on.\n                                data.forEach(function (series) {\n                                    series.disabled = series.userDisabled = false;\n                                });\n                            }\n                        }\n                    }\n                    dispatch.stateChange({\n                        disabled: data.map(function (d) { return !!d.disabled; }),\n                        disengaged: data.map(function (d) { return !!d.disengaged; })\n                    });\n                }\n            })\n                .on('dblclick', function (d, i) {\n                if (enableDoubleClick) {\n                    if (vers == 'furious' && expanded)\n                        return;\n                    dispatch.legendDblclick(d, i);\n                    if (updateState) {\n                        // make sure we re-get data in case it was modified\n                        var data = series.data();\n                        //the default behavior of NVD3 legends, when double clicking one,\n                        // is to set all other series' to false, and make the double clicked series enabled.\n                        data.forEach(function (series) {\n                            series.disabled = true;\n                            if (vers == 'furious')\n                                series.userDisabled = series.disabled;\n                        });\n                        d.disabled = false;\n                        if (vers == 'furious')\n                            d.userDisabled = d.disabled;\n                        dispatch.stateChange({\n                            disabled: data.map(function (d) {\n                                return !!d.disabled;\n                            })\n                        });\n                    }\n                }\n            });\n            series.classed('nv-disabled', function (d) { return d.userDisabled; });\n            series.exit().remove();\n            seriesText\n                .attr('fill', setTextColor)\n                .text(function (d) { return keyFormatter(getKey(d)); });\n            //TODO: implement fixed-width and max-width options (max-width is especially useful with the align option)\n            // NEW ALIGNING CODE, TODO: clean up\n            var legendWidth = 0;\n            if (align) {\n                var seriesWidths = [];\n                series.each(function (d, i) {\n                    var legendText;\n                    if (keyFormatter(getKey(d)) && keyFormatter(getKey(d)).length > maxKeyLength) {\n                        var trimmedKey = keyFormatter(getKey(d)).substring(0, maxKeyLength);\n                        legendText = d3.select(this).select('text').text(trimmedKey + \"...\");\n                        d3.select(this).append(\"svg:title\").text(keyFormatter(getKey(d)));\n                    }\n                    else {\n                        legendText = d3.select(this).select('text');\n                    }\n                    var nodeTextLength;\n                    try {\n                        nodeTextLength = legendText.node().getComputedTextLength();\n                        // If the legendText is display:none'd (nodeTextLength == 0), simulate an error so we approximate, instead\n                        if (nodeTextLength <= 0)\n                            throw Error();\n                    }\n                    catch (e) {\n                        nodeTextLength = nv.utils.calcApproxTextWidth(legendText);\n                    }\n                    seriesWidths.push(nodeTextLength + padding);\n                });\n                var seriesPerRow = 0;\n                var columnWidths = [];\n                legendWidth = 0;\n                while (legendWidth < availableWidth && seriesPerRow < seriesWidths.length) {\n                    columnWidths[seriesPerRow] = seriesWidths[seriesPerRow];\n                    legendWidth += seriesWidths[seriesPerRow++];\n                }\n                if (seriesPerRow === 0)\n                    seriesPerRow = 1; //minimum of one series per row\n                while (legendWidth > availableWidth && seriesPerRow > 1) {\n                    columnWidths = [];\n                    seriesPerRow--;\n                    for (var k = 0; k < seriesWidths.length; k++) {\n                        if (seriesWidths[k] > (columnWidths[k % seriesPerRow] || 0))\n                            columnWidths[k % seriesPerRow] = seriesWidths[k];\n                    }\n                    legendWidth = columnWidths.reduce(function (prev, cur, index, array) {\n                        return prev + cur;\n                    });\n                }\n                var xPositions = [];\n                for (var i = 0, curX = 0; i < seriesPerRow; i++) {\n                    xPositions[i] = curX;\n                    curX += columnWidths[i];\n                }\n                series\n                    .attr('transform', function (d, i) {\n                    return 'translate(' + xPositions[i % seriesPerRow] + ',' + (5 + Math.floor(i / seriesPerRow) * versPadding) + ')';\n                });\n                //position legend as far right as possible within the total width\n                if (rightAlign) {\n                    g.attr('transform', 'translate(' + (width - margin.right - legendWidth) + ',' + margin.top + ')');\n                }\n                else {\n                    g.attr('transform', 'translate(0' + ',' + margin.top + ')');\n                }\n                height = margin.top + margin.bottom + (Math.ceil(seriesWidths.length / seriesPerRow) * versPadding);\n            }\n            else {\n                var ypos = 5, newxpos = 5, maxwidth = 0, xpos;\n                series\n                    .attr('transform', function (d, i) {\n                    var length = d3.select(this).select('text').node().getComputedTextLength() + padding;\n                    xpos = newxpos;\n                    if (width < margin.left + margin.right + xpos + length) {\n                        newxpos = xpos = 5;\n                        ypos += versPadding;\n                    }\n                    newxpos += length;\n                    if (newxpos > maxwidth)\n                        maxwidth = newxpos;\n                    if (legendWidth < xpos + maxwidth) {\n                        legendWidth = xpos + maxwidth;\n                    }\n                    return 'translate(' + xpos + ',' + ypos + ')';\n                });\n                //position legend as far right as possible within the total width\n                g.attr('transform', 'translate(' + (width - margin.right - maxwidth) + ',' + margin.top + ')');\n                height = margin.top + margin.bottom + ypos + 15;\n            }\n            if (vers == 'furious') {\n                // Size rectangles after text is placed\n                seriesShape\n                    .attr('width', function (d, i) {\n                    return seriesText[0][i].getComputedTextLength() + 27;\n                })\n                    .attr('height', 18)\n                    .attr('y', -9)\n                    .attr('x', -15);\n                // The background for the expanded legend (UI)\n                gEnter.insert('rect', ':first-child')\n                    .attr('class', 'nv-legend-bg')\n                    .attr('fill', '#eee')\n                    // .attr('stroke', '#444')\n                    .attr('opacity', 0);\n                var seriesBG = g.select('.nv-legend-bg');\n                seriesBG\n                    .transition().duration(300)\n                    .attr('x', -versPadding)\n                    .attr('width', legendWidth + versPadding - 12)\n                    .attr('height', height + 10)\n                    .attr('y', -margin.top - 10)\n                    .attr('opacity', expanded ? 1 : 0);\n            }\n            seriesShape\n                .style('fill', setBGColor)\n                .style('fill-opacity', setBGOpacity)\n                .style('stroke', setBGColor);\n        });\n        function setTextColor(d, i) {\n            if (vers != 'furious')\n                return '#000';\n            if (expanded) {\n                return d.disengaged ? '#000' : '#fff';\n            }\n            else if (!expanded) {\n                if (!d.color)\n                    d.color = color(d, i);\n                return !!d.disabled ? d.color : '#fff';\n            }\n        }\n        function setBGColor(d, i) {\n            if (expanded && vers == 'furious') {\n                return d.disengaged ? '#eee' : d.color || color(d, i);\n            }\n            else {\n                return d.color || color(d, i);\n            }\n        }\n        function setBGOpacity(d, i) {\n            if (expanded && vers == 'furious') {\n                return 1;\n            }\n            else {\n                return !!d.disabled ? 0 : 1;\n            }\n        }\n        return chart;\n    }\n    //============================================================\n    // Expose Public Variables\n    //------------------------------------------------------------\n    chart.dispatch = dispatch;\n    chart.options = nv.utils.optionsFunc.bind(chart);\n    chart._options = Object.create({}, {\n        // simple options, just get/set the necessary values\n        width: { get: function () { return width; }, set: function (_) { width = _; } },\n        height: { get: function () { return height; }, set: function (_) { height = _; } },\n        key: { get: function () { return getKey; }, set: function (_) { getKey = _; } },\n        keyFormatter: { get: function () { return keyFormatter; }, set: function (_) { keyFormatter = _; } },\n        align: { get: function () { return align; }, set: function (_) { align = _; } },\n        maxKeyLength: { get: function () { return maxKeyLength; }, set: function (_) { maxKeyLength = _; } },\n        rightAlign: { get: function () { return rightAlign; }, set: function (_) { rightAlign = _; } },\n        padding: { get: function () { return padding; }, set: function (_) { padding = _; } },\n        updateState: { get: function () { return updateState; }, set: function (_) { updateState = _; } },\n        enableDoubleClick: { get: function () { return enableDoubleClick; }, set: function (_) { enableDoubleClick = _; } },\n        radioButtonMode: { get: function () { return radioButtonMode; }, set: function (_) { radioButtonMode = _; } },\n        expanded: { get: function () { return expanded; }, set: function (_) { expanded = _; } },\n        vers: { get: function () { return vers; }, set: function (_) { vers = _; } },\n        // options that require extra logic in the setter\n        margin: { get: function () { return margin; }, set: function (_) {\n                margin.top = _.top !== undefined ? _.top : margin.top;\n                margin.right = _.right !== undefined ? _.right : margin.right;\n                margin.bottom = _.bottom !== undefined ? _.bottom : margin.bottom;\n                margin.left = _.left !== undefined ? _.left : margin.left;\n            } },\n        color: { get: function () { return color; }, set: function (_) {\n                color = nv.utils.getColor(_);\n            } }\n    });\n    nv.utils.initOptions(chart);\n    return chart;\n};\n","nv.models.line = function () {\n    \"use strict\";\n    //============================================================\n    // Public Variables with Default Settings\n    //------------------------------------------------------------\n    var scatter = nv.models.scatter();\n    var margin = { top: 0, right: 0, bottom: 0, left: 0 }, width = 960, height = 500, container = null, strokeWidth = 1.5, color = nv.utils.defaultColor() // a function that returns a color\n    , getX = function (d) { return d.x; } // accessor to get the x value from a data point\n    , getY = function (d) { return d.y; } // accessor to get the y value from a data point\n    , defined = function (d, i) { return !isNaN(getY(d, i)) && getY(d, i) !== null; } // allows a line to be not continuous when it is not defined\n    , isArea = function (d) { return d.area; } // decides if a line is an area or just a line\n    , clipEdge = false // if true, masks lines within x and y scale\n    , x //can be accessed via chart.xScale()\n    , y //can be accessed via chart.yScale()\n    , interpolate = \"linear\" // controls the line interpolation\n    , duration = 250, dispatch = d3.dispatch('elementClick', 'elementMouseover', 'elementMouseout', 'renderEnd');\n    scatter\n        .pointSize(16) // default size\n        .pointDomain([16, 256]) //set to speed up calculation, needs to be unset if there is a custom size accessor\n    ;\n    //============================================================\n    //============================================================\n    // Private Variables\n    //------------------------------------------------------------\n    var x0, y0 //used to store previous scales\n    , renderWatch = nv.utils.renderWatch(dispatch, duration);\n    //============================================================\n    function chart(selection) {\n        renderWatch.reset();\n        renderWatch.models(scatter);\n        selection.each(function (data) {\n            container = d3.select(this);\n            var availableWidth = nv.utils.availableWidth(width, container, margin), availableHeight = nv.utils.availableHeight(height, container, margin);\n            nv.utils.initSVG(container);\n            // Setup Scales\n            x = scatter.xScale();\n            y = scatter.yScale();\n            x0 = x0 || x;\n            y0 = y0 || y;\n            // Setup containers and skeleton of chart\n            var wrap = container.selectAll('g.nv-wrap.nv-line').data([data]);\n            var wrapEnter = wrap.enter().append('g').attr('class', 'nvd3 nv-wrap nv-line');\n            var defsEnter = wrapEnter.append('defs');\n            var gEnter = wrapEnter.append('g');\n            var g = wrap.select('g');\n            gEnter.append('g').attr('class', 'nv-groups');\n            gEnter.append('g').attr('class', 'nv-scatterWrap');\n            wrap.attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');\n            scatter\n                .width(availableWidth)\n                .height(availableHeight);\n            var scatterWrap = wrap.select('.nv-scatterWrap');\n            scatterWrap.call(scatter);\n            defsEnter.append('clipPath')\n                .attr('id', 'nv-edge-clip-' + scatter.id())\n                .append('rect');\n            wrap.select('#nv-edge-clip-' + scatter.id() + ' rect')\n                .attr('width', availableWidth)\n                .attr('height', (availableHeight > 0) ? availableHeight : 0);\n            g.attr('clip-path', clipEdge ? 'url(#nv-edge-clip-' + scatter.id() + ')' : '');\n            scatterWrap\n                .attr('clip-path', clipEdge ? 'url(#nv-edge-clip-' + scatter.id() + ')' : '');\n            var groups = wrap.select('.nv-groups').selectAll('.nv-group')\n                .data(function (d) { return d; }, function (d) { return d.key; });\n            groups.enter().append('g')\n                .style('stroke-opacity', 1e-6)\n                .style('stroke-width', function (d) { return d.strokeWidth || strokeWidth; })\n                .style('fill-opacity', 1e-6);\n            groups.exit().remove();\n            groups\n                .attr('class', function (d, i) {\n                return (d.classed || '') + ' nv-group nv-series-' + i;\n            })\n                .classed('hover', function (d) { return d.hover; })\n                .style('fill', function (d, i) { return color(d, i); })\n                .style('stroke', function (d, i) { return color(d, i); });\n            groups.watchTransition(renderWatch, 'line: groups')\n                .style('stroke-opacity', 1)\n                .style('fill-opacity', function (d) { return d.fillOpacity || .5; });\n            var areaPaths = groups.selectAll('path.nv-area')\n                .data(function (d) { return isArea(d) ? [d] : []; }); // this is done differently than lines because I need to check if series is an area\n            areaPaths.enter().append('path')\n                .attr('class', 'nv-area')\n                .attr('d', function (d) {\n                return d3.svg.area()\n                    .interpolate(interpolate)\n                    .defined(defined)\n                    .x(function (d, i) { return nv.utils.NaNtoZero(x0(getX(d, i))); })\n                    .y0(function (d, i) { return nv.utils.NaNtoZero(y0(getY(d, i))); })\n                    .y1(function (d, i) { return y0(y.domain()[0] <= 0 ? y.domain()[1] >= 0 ? 0 : y.domain()[1] : y.domain()[0]); })\n                    //.y1(function(d,i) { return y0(0) }) //assuming 0 is within y domain.. may need to tweak this\n                    .apply(this, [d.values]);\n            });\n            groups.exit().selectAll('path.nv-area')\n                .remove();\n            areaPaths.watchTransition(renderWatch, 'line: areaPaths')\n                .attr('d', function (d) {\n                return d3.svg.area()\n                    .interpolate(interpolate)\n                    .defined(defined)\n                    .x(function (d, i) { return nv.utils.NaNtoZero(x(getX(d, i))); })\n                    .y0(function (d, i) { return nv.utils.NaNtoZero(y(getY(d, i))); })\n                    .y1(function (d, i) { return y(y.domain()[0] <= 0 ? y.domain()[1] >= 0 ? 0 : y.domain()[1] : y.domain()[0]); })\n                    //.y1(function(d,i) { return y0(0) }) //assuming 0 is within y domain.. may need to tweak this\n                    .apply(this, [d.values]);\n            });\n            var linePaths = groups.selectAll('path.nv-line')\n                .data(function (d) { return [d.values]; });\n            linePaths.enter().append('path')\n                .attr('class', 'nv-line')\n                .attr('d', d3.svg.line()\n                .interpolate(interpolate)\n                .defined(defined)\n                .x(function (d, i) { return nv.utils.NaNtoZero(x0(getX(d, i))); })\n                .y(function (d, i) { return nv.utils.NaNtoZero(y0(getY(d, i))); }));\n            linePaths.watchTransition(renderWatch, 'line: linePaths')\n                .attr('d', d3.svg.line()\n                .interpolate(interpolate)\n                .defined(defined)\n                .x(function (d, i) { return nv.utils.NaNtoZero(x(getX(d, i))); })\n                .y(function (d, i) { return nv.utils.NaNtoZero(y(getY(d, i))); }));\n            //store old scales for use in transitions on update\n            x0 = x.copy();\n            y0 = y.copy();\n        });\n        renderWatch.renderEnd('line immediate');\n        return chart;\n    }\n    //============================================================\n    // Expose Public Variables\n    //------------------------------------------------------------\n    chart.dispatch = dispatch;\n    chart.scatter = scatter;\n    // Pass through events\n    scatter.dispatch.on('elementClick', function () { dispatch.elementClick.apply(this, arguments); });\n    scatter.dispatch.on('elementMouseover', function () { dispatch.elementMouseover.apply(this, arguments); });\n    scatter.dispatch.on('elementMouseout', function () { dispatch.elementMouseout.apply(this, arguments); });\n    chart.options = nv.utils.optionsFunc.bind(chart);\n    chart._options = Object.create({}, {\n        // simple options, just get/set the necessary values\n        width: { get: function () { return width; }, set: function (_) { width = _; } },\n        height: { get: function () { return height; }, set: function (_) { height = _; } },\n        defined: { get: function () { return defined; }, set: function (_) { defined = _; } },\n        interpolate: { get: function () { return interpolate; }, set: function (_) { interpolate = _; } },\n        clipEdge: { get: function () { return clipEdge; }, set: function (_) { clipEdge = _; } },\n        // options that require extra logic in the setter\n        margin: { get: function () { return margin; }, set: function (_) {\n                margin.top = _.top !== undefined ? _.top : margin.top;\n                margin.right = _.right !== undefined ? _.right : margin.right;\n                margin.bottom = _.bottom !== undefined ? _.bottom : margin.bottom;\n                margin.left = _.left !== undefined ? _.left : margin.left;\n            } },\n        duration: { get: function () { return duration; }, set: function (_) {\n                duration = _;\n                renderWatch.reset(duration);\n                scatter.duration(duration);\n            } },\n        isArea: { get: function () { return isArea; }, set: function (_) {\n                isArea = d3.functor(_);\n            } },\n        x: { get: function () { return getX; }, set: function (_) {\n                getX = _;\n                scatter.x(_);\n            } },\n        y: { get: function () { return getY; }, set: function (_) {\n                getY = _;\n                scatter.y(_);\n            } },\n        color: { get: function () { return color; }, set: function (_) {\n                color = nv.utils.getColor(_);\n                scatter.color(color);\n            } }\n    });\n    nv.utils.inheritOptions(chart, scatter);\n    nv.utils.initOptions(chart);\n    return chart;\n};\n","nv.models.lineChart = function () {\n    \"use strict\";\n    //============================================================\n    // Public Variables with Default Settings\n    //------------------------------------------------------------\n    var lines = nv.models.line(), xAxis = nv.models.axis(), yAxis = nv.models.axis(), legend = nv.models.legend(), interactiveLayer = nv.interactiveGuideline(), tooltip = nv.models.tooltip(), focus = nv.models.focus(nv.models.line());\n    var margin = { top: 30, right: 20, bottom: 50, left: 60 }, marginTop = null, color = nv.utils.defaultColor(), width = null, height = null, showLegend = true, legendPosition = 'top', showXAxis = true, showYAxis = true, rightAlignYAxis = false, useInteractiveGuideline = false, x, y, focusEnable = false, state = nv.utils.state(), defaultState = null, noData = null, dispatch = d3.dispatch('stateChange', 'changeState', 'renderEnd'), duration = 250;\n    // set options on sub-objects for this chart\n    xAxis.orient('bottom').tickPadding(7);\n    yAxis.orient(rightAlignYAxis ? 'right' : 'left');\n    lines.clipEdge(true).duration(0);\n    tooltip.valueFormatter(function (d, i) {\n        return yAxis.tickFormat()(d, i);\n    }).headerFormatter(function (d, i) {\n        return xAxis.tickFormat()(d, i);\n    });\n    interactiveLayer.tooltip.valueFormatter(function (d, i) {\n        return yAxis.tickFormat()(d, i);\n    }).headerFormatter(function (d, i) {\n        return xAxis.tickFormat()(d, i);\n    });\n    //============================================================\n    // Private Variables\n    //------------------------------------------------------------\n    var renderWatch = nv.utils.renderWatch(dispatch, duration);\n    var stateGetter = function (data) {\n        return function () {\n            return {\n                active: data.map(function (d) { return !d.disabled; })\n            };\n        };\n    };\n    var stateSetter = function (data) {\n        return function (state) {\n            if (state.active !== undefined)\n                data.forEach(function (series, i) {\n                    series.disabled = !state.active[i];\n                });\n        };\n    };\n    function chart(selection) {\n        renderWatch.reset();\n        renderWatch.models(lines);\n        if (showXAxis)\n            renderWatch.models(xAxis);\n        if (showYAxis)\n            renderWatch.models(yAxis);\n        selection.each(function (data) {\n            var container = d3.select(this);\n            nv.utils.initSVG(container);\n            var availableWidth = nv.utils.availableWidth(width, container, margin), availableHeight = nv.utils.availableHeight(height, container, margin) - (focusEnable ? focus.height() : 0);\n            chart.update = function () {\n                if (duration === 0) {\n                    container.call(chart);\n                }\n                else {\n                    container.transition().duration(duration).call(chart);\n                }\n            };\n            chart.container = this;\n            state\n                .setter(stateSetter(data), chart.update)\n                .getter(stateGetter(data))\n                .update();\n            // DEPRECATED set state.disabled\n            state.disabled = data.map(function (d) { return !!d.disabled; });\n            if (!defaultState) {\n                var key;\n                defaultState = {};\n                for (key in state) {\n                    if (state[key] instanceof Array)\n                        defaultState[key] = state[key].slice(0);\n                    else\n                        defaultState[key] = state[key];\n                }\n            }\n            // Display noData message if there's nothing to show.\n            if (!data || !data.length || !data.filter(function (d) { return d.values.length; }).length) {\n                nv.utils.noData(chart, container);\n                return chart;\n            }\n            else {\n                container.selectAll('.nv-noData').remove();\n            }\n            /* Update `main' graph on brush update. */\n            focus.dispatch.on(\"onBrush\", function (extent) {\n                onBrush(extent);\n            });\n            // Setup Scales\n            x = lines.xScale();\n            y = lines.yScale();\n            // Setup containers and skeleton of chart\n            var wrap = container.selectAll('g.nv-wrap.nv-lineChart').data([data]);\n            var gEnter = wrap.enter().append('g').attr('class', 'nvd3 nv-wrap nv-lineChart').append('g');\n            var g = wrap.select('g');\n            gEnter.append('g').attr('class', 'nv-legendWrap');\n            var focusEnter = gEnter.append('g').attr('class', 'nv-focus');\n            focusEnter.append('g').attr('class', 'nv-background').append('rect');\n            focusEnter.append('g').attr('class', 'nv-x nv-axis');\n            focusEnter.append('g').attr('class', 'nv-y nv-axis');\n            focusEnter.append('g').attr('class', 'nv-linesWrap');\n            focusEnter.append('g').attr('class', 'nv-interactive');\n            var contextEnter = gEnter.append('g').attr('class', 'nv-focusWrap');\n            // Legend\n            if (!showLegend) {\n                g.select('.nv-legendWrap').selectAll('*').remove();\n            }\n            else {\n                legend.width(availableWidth);\n                g.select('.nv-legendWrap')\n                    .datum(data)\n                    .call(legend);\n                if (legendPosition === 'bottom') {\n                    margin.bottom = xAxis.height() + legend.height();\n                    availableHeight = nv.utils.availableHeight(height, container, margin);\n                    g.select('.nv-legendWrap')\n                        .attr('transform', 'translate(0,' + (availableHeight + xAxis.height()) + ')');\n                }\n                else if (legendPosition === 'top') {\n                    if (!marginTop && legend.height() !== margin.top) {\n                        margin.top = legend.height();\n                        availableHeight = nv.utils.availableHeight(height, container, margin) - (focusEnable ? focus.height() : 0);\n                    }\n                    wrap.select('.nv-legendWrap')\n                        .attr('transform', 'translate(0,' + (-margin.top) + ')');\n                }\n            }\n            wrap.attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');\n            if (rightAlignYAxis) {\n                g.select(\".nv-y.nv-axis\")\n                    .attr(\"transform\", \"translate(\" + availableWidth + \",0)\");\n            }\n            //Set up interactive layer\n            if (useInteractiveGuideline) {\n                interactiveLayer\n                    .width(availableWidth)\n                    .height(availableHeight)\n                    .margin({ left: margin.left, top: margin.top })\n                    .svgContainer(container)\n                    .xScale(x);\n                wrap.select(\".nv-interactive\").call(interactiveLayer);\n            }\n            g.select('.nv-focus .nv-background rect')\n                .attr('width', availableWidth)\n                .attr('height', availableHeight);\n            lines\n                .width(availableWidth)\n                .height(availableHeight)\n                .color(data.map(function (d, i) {\n                return d.color || color(d, i);\n            }).filter(function (d, i) { return !data[i].disabled; }));\n            var linesWrap = g.select('.nv-linesWrap')\n                .datum(data.filter(function (d) { return !d.disabled; }));\n            // Setup Main (Focus) Axes\n            if (showXAxis) {\n                xAxis\n                    .scale(x)\n                    ._ticks(nv.utils.calcTicksX(availableWidth / 100, data))\n                    .tickSize(-availableHeight, 0);\n            }\n            if (showYAxis) {\n                yAxis\n                    .scale(y)\n                    ._ticks(nv.utils.calcTicksY(availableHeight / 36, data))\n                    .tickSize(-availableWidth, 0);\n            }\n            //============================================================\n            // Update Axes\n            //============================================================\n            function updateXAxis() {\n                if (showXAxis) {\n                    g.select('.nv-focus .nv-x.nv-axis')\n                        .transition()\n                        .duration(duration)\n                        .call(xAxis);\n                }\n            }\n            function updateYAxis() {\n                if (showYAxis) {\n                    g.select('.nv-focus .nv-y.nv-axis')\n                        .transition()\n                        .duration(duration)\n                        .call(yAxis);\n                }\n            }\n            g.select('.nv-focus .nv-x.nv-axis')\n                .attr('transform', 'translate(0,' + availableHeight + ')');\n            //============================================================\n            // Update Focus\n            //============================================================\n            if (!focusEnable && focus.brush.extent() === null) {\n                linesWrap.transition().call(lines);\n                updateXAxis();\n                updateYAxis();\n            }\n            else {\n                focus.width(availableWidth);\n                g.select('.nv-focusWrap')\n                    .style('display', focusEnable ? 'initial' : 'none')\n                    .attr('transform', 'translate(0,' + (availableHeight + margin.bottom + focus.margin().top) + ')')\n                    .call(focus);\n                var extent = focus.brush.empty() ? focus.xDomain() : focus.brush.extent();\n                if (extent !== null) {\n                    onBrush(extent);\n                }\n            }\n            //============================================================\n            // Event Handling/Dispatching (in chart's scope)\n            //------------------------------------------------------------\n            legend.dispatch.on('stateChange', function (newState) {\n                for (var key in newState)\n                    state[key] = newState[key];\n                dispatch.stateChange(state);\n                chart.update();\n            });\n            interactiveLayer.dispatch.on('elementMousemove', function (e) {\n                lines.clearHighlights();\n                var singlePoint, pointIndex, pointXLocation, allData = [];\n                data\n                    .filter(function (series, i) {\n                    series.seriesIndex = i;\n                    return !series.disabled && !series.disableTooltip;\n                })\n                    .forEach(function (series, i) {\n                    var extent = focus.brush.extent() !== null ? (focus.brush.empty() ? focus.xScale().domain() : focus.brush.extent()) : x.domain();\n                    var currentValues = series.values.filter(function (d, i) {\n                        // Checks if the x point is between the extents, handling case where extent[0] is greater than extent[1]\n                        // (e.g. x domain is manually set to reverse the x-axis)\n                        if (extent[0] <= extent[1]) {\n                            return lines.x()(d, i) >= extent[0] && lines.x()(d, i) <= extent[1];\n                        }\n                        else {\n                            return lines.x()(d, i) >= extent[1] && lines.x()(d, i) <= extent[0];\n                        }\n                    });\n                    if (currentValues.length > 0) {\n                        pointIndex = nv.interactiveBisect(currentValues, e.pointXValue, lines.x());\n                        var point = currentValues[pointIndex];\n                        var pointYValue = chart.y()(point, pointIndex);\n                        if (pointYValue !== null) {\n                            lines.highlightPoint(i, series.values.indexOf(point), true);\n                        }\n                        if (point === undefined)\n                            return;\n                        if (singlePoint === undefined)\n                            singlePoint = point;\n                        if (pointXLocation === undefined)\n                            pointXLocation = chart.xScale()(chart.x()(point, pointIndex));\n                        allData.push({\n                            key: series.key,\n                            value: pointYValue,\n                            color: color(series, series.seriesIndex),\n                            data: point\n                        });\n                    }\n                });\n                //Highlight the tooltip entry based on which point the mouse is closest to.\n                if (allData.length > 2) {\n                    var yValue = chart.yScale().invert(e.mouseY);\n                    var domainExtent = Math.abs(chart.yScale().domain()[0] - chart.yScale().domain()[1]);\n                    var threshold = 0.03 * domainExtent;\n                    var indexToHighlight = nv.nearestValueIndex(allData.map(function (d) { return d.value; }), yValue, threshold);\n                    if (indexToHighlight !== null)\n                        allData[indexToHighlight].highlight = true;\n                }\n                var defaultValueFormatter = function (d, i) {\n                    return d == null ? \"N/A\" : yAxis.tickFormat()(d);\n                };\n                if (typeof pointIndex !== 'undefined') {\n                    interactiveLayer.tooltip\n                        .valueFormatter(interactiveLayer.tooltip.valueFormatter() || defaultValueFormatter)\n                        .data({\n                        value: chart.x()(singlePoint, pointIndex),\n                        index: pointIndex,\n                        series: allData\n                    })();\n                    interactiveLayer.renderGuideLine(pointXLocation);\n                }\n            });\n            interactiveLayer.dispatch.on('elementClick', function (e) {\n                var pointXLocation, allData = [];\n                data.filter(function (series, i) {\n                    series.seriesIndex = i;\n                    return !series.disabled;\n                }).forEach(function (series) {\n                    var pointIndex = nv.interactiveBisect(series.values, e.pointXValue, chart.x());\n                    var point = series.values[pointIndex];\n                    if (typeof point === 'undefined')\n                        return;\n                    if (typeof pointXLocation === 'undefined')\n                        pointXLocation = chart.xScale()(chart.x()(point, pointIndex));\n                    var yPos = chart.yScale()(chart.y()(point, pointIndex));\n                    allData.push({\n                        point: point,\n                        pointIndex: pointIndex,\n                        pos: [pointXLocation, yPos],\n                        seriesIndex: series.seriesIndex,\n                        series: series\n                    });\n                });\n                lines.dispatch.elementClick(allData);\n            });\n            interactiveLayer.dispatch.on(\"elementMouseout\", function (e) {\n                lines.clearHighlights();\n            });\n            dispatch.on('changeState', function (e) {\n                if (typeof e.disabled !== 'undefined' && data.length === e.disabled.length) {\n                    data.forEach(function (series, i) {\n                        series.disabled = e.disabled[i];\n                    });\n                    state.disabled = e.disabled;\n                }\n                chart.update();\n            });\n            //============================================================\n            // Functions\n            //------------------------------------------------------------\n            // Taken from crossfilter (http://square.github.com/crossfilter/)\n            function resizePath(d) {\n                var e = +(d == 'e'), x = e ? 1 : -1, y = availableHeight / 3;\n                return 'M' + (0.5 * x) + ',' + y\n                    + 'A6,6 0 0 ' + e + ' ' + (6.5 * x) + ',' + (y + 6)\n                    + 'V' + (2 * y - 6)\n                    + 'A6,6 0 0 ' + e + ' ' + (0.5 * x) + ',' + (2 * y)\n                    + 'Z'\n                    + 'M' + (2.5 * x) + ',' + (y + 8)\n                    + 'V' + (2 * y - 8)\n                    + 'M' + (4.5 * x) + ',' + (y + 8)\n                    + 'V' + (2 * y - 8);\n            }\n            function onBrush(extent) {\n                // Update Main (Focus)\n                var focusLinesWrap = g.select('.nv-focus .nv-linesWrap')\n                    .datum(data.filter(function (d) { return !d.disabled; })\n                    .map(function (d, i) {\n                    return {\n                        key: d.key,\n                        area: d.area,\n                        classed: d.classed,\n                        values: d.values.filter(function (d, i) {\n                            return lines.x()(d, i) >= extent[0] && lines.x()(d, i) <= extent[1];\n                        }),\n                        disableTooltip: d.disableTooltip\n                    };\n                }));\n                focusLinesWrap.transition().duration(duration).call(lines);\n                // Update Main (Focus) Axes\n                updateXAxis();\n                updateYAxis();\n            }\n        });\n        renderWatch.renderEnd('lineChart immediate');\n        return chart;\n    }\n    //============================================================\n    // Event Handling/Dispatching (out of chart's scope)\n    //------------------------------------------------------------\n    lines.dispatch.on('elementMouseover.tooltip', function (evt) {\n        if (!evt.series.disableTooltip) {\n            tooltip.data(evt).hidden(false);\n        }\n    });\n    lines.dispatch.on('elementMouseout.tooltip', function (evt) {\n        tooltip.hidden(true);\n    });\n    //============================================================\n    // Expose Public Variables\n    //------------------------------------------------------------\n    // expose chart's sub-components\n    chart.dispatch = dispatch;\n    chart.lines = lines;\n    chart.legend = legend;\n    chart.focus = focus;\n    chart.xAxis = xAxis;\n    chart.x2Axis = focus.xAxis;\n    chart.yAxis = yAxis;\n    chart.y2Axis = focus.yAxis;\n    chart.interactiveLayer = interactiveLayer;\n    chart.tooltip = tooltip;\n    chart.state = state;\n    chart.dispatch = dispatch;\n    chart.options = nv.utils.optionsFunc.bind(chart);\n    chart._options = Object.create({}, {\n        // simple options, just get/set the necessary values\n        width: { get: function () { return width; }, set: function (_) { width = _; } },\n        height: { get: function () { return height; }, set: function (_) { height = _; } },\n        showLegend: { get: function () { return showLegend; }, set: function (_) { showLegend = _; } },\n        legendPosition: { get: function () { return legendPosition; }, set: function (_) { legendPosition = _; } },\n        showXAxis: { get: function () { return showXAxis; }, set: function (_) { showXAxis = _; } },\n        showYAxis: { get: function () { return showYAxis; }, set: function (_) { showYAxis = _; } },\n        defaultState: { get: function () { return defaultState; }, set: function (_) { defaultState = _; } },\n        noData: { get: function () { return noData; }, set: function (_) { noData = _; } },\n        // Focus options, mostly passed onto focus model.\n        focusEnable: { get: function () { return focusEnable; }, set: function (_) { focusEnable = _; } },\n        focusHeight: { get: function () { return focus.height(); }, set: function (_) { focus.height(_); } },\n        focusShowAxisX: { get: function () { return focus.showXAxis(); }, set: function (_) { focus.showXAxis(_); } },\n        focusShowAxisY: { get: function () { return focus.showYAxis(); }, set: function (_) { focus.showYAxis(_); } },\n        brushExtent: { get: function () { return focus.brushExtent(); }, set: function (_) { focus.brushExtent(_); } },\n        // options that require extra logic in the setter\n        focusMargin: { get: function () { return focus.margin; }, set: function (_) {\n                if (_.top !== undefined) {\n                    margin.top = _.top;\n                    marginTop = _.top;\n                }\n                focus.margin.right = _.right !== undefined ? _.right : focus.margin.right;\n                focus.margin.bottom = _.bottom !== undefined ? _.bottom : focus.margin.bottom;\n                focus.margin.left = _.left !== undefined ? _.left : focus.margin.left;\n            } },\n        margin: { get: function () { return margin; }, set: function (_) {\n                margin.top = _.top !== undefined ? _.top : margin.top;\n                margin.right = _.right !== undefined ? _.right : margin.right;\n                margin.bottom = _.bottom !== undefined ? _.bottom : margin.bottom;\n                margin.left = _.left !== undefined ? _.left : margin.left;\n            } },\n        duration: { get: function () { return duration; }, set: function (_) {\n                duration = _;\n                renderWatch.reset(duration);\n                lines.duration(duration);\n                focus.duration(duration);\n                xAxis.duration(duration);\n                yAxis.duration(duration);\n            } },\n        color: { get: function () { return color; }, set: function (_) {\n                color = nv.utils.getColor(_);\n                legend.color(color);\n                lines.color(color);\n                focus.color(color);\n            } },\n        interpolate: { get: function () { return lines.interpolate(); }, set: function (_) {\n                lines.interpolate(_);\n                focus.interpolate(_);\n            } },\n        xTickFormat: { get: function () { return xAxis.tickFormat(); }, set: function (_) {\n                xAxis.tickFormat(_);\n                focus.xTickFormat(_);\n            } },\n        yTickFormat: { get: function () { return yAxis.tickFormat(); }, set: function (_) {\n                yAxis.tickFormat(_);\n                focus.yTickFormat(_);\n            } },\n        x: { get: function () { return lines.x(); }, set: function (_) {\n                lines.x(_);\n                focus.x(_);\n            } },\n        y: { get: function () { return lines.y(); }, set: function (_) {\n                lines.y(_);\n                focus.y(_);\n            } },\n        rightAlignYAxis: { get: function () { return rightAlignYAxis; }, set: function (_) {\n                rightAlignYAxis = _;\n                yAxis.orient(rightAlignYAxis ? 'right' : 'left');\n            } },\n        useInteractiveGuideline: { get: function () { return useInteractiveGuideline; }, set: function (_) {\n                useInteractiveGuideline = _;\n                if (useInteractiveGuideline) {\n                    lines.interactive(false);\n                    lines.useVoronoi(false);\n                }\n            } }\n    });\n    nv.utils.inheritOptions(chart, lines);\n    nv.utils.initOptions(chart);\n    return chart;\n};\nnv.models.lineWithFocusChart = function () {\n    return nv.models.lineChart()\n        .margin({ bottom: 30 })\n        .focusEnable(true);\n};\n","nv.models.linePlusBarChart = function () {\n    \"use strict\";\n    //============================================================\n    // Public Variables with Default Settings\n    //------------------------------------------------------------\n    var lines = nv.models.line(), lines2 = nv.models.line(), bars = nv.models.historicalBar(), bars2 = nv.models.historicalBar(), xAxis = nv.models.axis(), x2Axis = nv.models.axis(), y1Axis = nv.models.axis(), y2Axis = nv.models.axis(), y3Axis = nv.models.axis(), y4Axis = nv.models.axis(), legend = nv.models.legend(), brush = d3.svg.brush(), tooltip = nv.models.tooltip();\n    var margin = { top: 30, right: 30, bottom: 30, left: 60 }, marginTop = null, margin2 = { top: 0, right: 30, bottom: 20, left: 60 }, width = null, height = null, getX = function (d) { return d.x; }, getY = function (d) { return d.y; }, color = nv.utils.defaultColor(), showLegend = true, focusEnable = true, focusShowAxisY = false, focusShowAxisX = true, focusHeight = 50, extent, brushExtent = null, x, x2, y1, y2, y3, y4, noData = null, dispatch = d3.dispatch('brush', 'stateChange', 'changeState'), transitionDuration = 0, state = nv.utils.state(), defaultState = null, legendLeftAxisHint = ' (left axis)', legendRightAxisHint = ' (right axis)', switchYAxisOrder = false;\n    lines.clipEdge(true);\n    lines2.interactive(false);\n    // We don't want any points emitted for the focus chart's scatter graph.\n    lines2.pointActive(function (d) { return false; });\n    xAxis.orient('bottom').tickPadding(5);\n    y1Axis.orient('left');\n    y2Axis.orient('right');\n    x2Axis.orient('bottom').tickPadding(5);\n    y3Axis.orient('left');\n    y4Axis.orient('right');\n    tooltip.headerEnabled(true).headerFormatter(function (d, i) {\n        return xAxis.tickFormat()(d, i);\n    });\n    //============================================================\n    // Private Variables\n    //------------------------------------------------------------\n    var getBarsAxis = function () {\n        return switchYAxisOrder\n            ? { main: y2Axis, focus: y4Axis }\n            : { main: y1Axis, focus: y3Axis };\n    };\n    var getLinesAxis = function () {\n        return switchYAxisOrder\n            ? { main: y1Axis, focus: y3Axis }\n            : { main: y2Axis, focus: y4Axis };\n    };\n    var stateGetter = function (data) {\n        return function () {\n            return {\n                active: data.map(function (d) { return !d.disabled; })\n            };\n        };\n    };\n    var stateSetter = function (data) {\n        return function (state) {\n            if (state.active !== undefined)\n                data.forEach(function (series, i) {\n                    series.disabled = !state.active[i];\n                });\n        };\n    };\n    var allDisabled = function (data) {\n        return data.every(function (series) {\n            return series.disabled;\n        });\n    };\n    function chart(selection) {\n        selection.each(function (data) {\n            var container = d3.select(this), that = this;\n            nv.utils.initSVG(container);\n            var availableWidth = nv.utils.availableWidth(width, container, margin), availableHeight1 = nv.utils.availableHeight(height, container, margin)\n                - (focusEnable ? focusHeight : 0), availableHeight2 = focusHeight - margin2.top - margin2.bottom;\n            chart.update = function () { container.transition().duration(transitionDuration).call(chart); };\n            chart.container = this;\n            state\n                .setter(stateSetter(data), chart.update)\n                .getter(stateGetter(data))\n                .update();\n            // DEPRECATED set state.disableddisabled\n            state.disabled = data.map(function (d) { return !!d.disabled; });\n            if (!defaultState) {\n                var key;\n                defaultState = {};\n                for (key in state) {\n                    if (state[key] instanceof Array)\n                        defaultState[key] = state[key].slice(0);\n                    else\n                        defaultState[key] = state[key];\n                }\n            }\n            // Display No Data message if there's nothing to show.\n            if (!data || !data.length || !data.filter(function (d) { return d.values.length; }).length) {\n                nv.utils.noData(chart, container);\n                return chart;\n            }\n            else {\n                container.selectAll('.nv-noData').remove();\n            }\n            // Setup Scales\n            var dataBars = data.filter(function (d) { return !d.disabled && d.bar; });\n            var dataLines = data.filter(function (d) { return !d.bar; }); // removed the !d.disabled clause here to fix Issue #240\n            if (dataBars.length && !switchYAxisOrder) {\n                x = bars.xScale();\n            }\n            else {\n                x = lines.xScale();\n            }\n            x2 = x2Axis.scale();\n            // select the scales and series based on the position of the yAxis\n            y1 = switchYAxisOrder ? lines.yScale() : bars.yScale();\n            y2 = switchYAxisOrder ? bars.yScale() : lines.yScale();\n            y3 = switchYAxisOrder ? lines2.yScale() : bars2.yScale();\n            y4 = switchYAxisOrder ? bars2.yScale() : lines2.yScale();\n            var series1 = data\n                .filter(function (d) { return !d.disabled && (switchYAxisOrder ? !d.bar : d.bar); })\n                .map(function (d) {\n                return d.values.map(function (d, i) {\n                    return { x: getX(d, i), y: getY(d, i) };\n                });\n            });\n            var series2 = data\n                .filter(function (d) { return !d.disabled && (switchYAxisOrder ? d.bar : !d.bar); })\n                .map(function (d) {\n                return d.values.map(function (d, i) {\n                    return { x: getX(d, i), y: getY(d, i) };\n                });\n            });\n            x.range([0, availableWidth]);\n            x2.domain(d3.extent(d3.merge(series1.concat(series2)), function (d) { return d.x; }))\n                .range([0, availableWidth]);\n            // Setup containers and skeleton of chart\n            var wrap = container.selectAll('g.nv-wrap.nv-linePlusBar').data([data]);\n            var gEnter = wrap.enter().append('g').attr('class', 'nvd3 nv-wrap nv-linePlusBar').append('g');\n            var g = wrap.select('g');\n            gEnter.append('g').attr('class', 'nv-legendWrap');\n            // this is the main chart\n            var focusEnter = gEnter.append('g').attr('class', 'nv-focus');\n            focusEnter.append('g').attr('class', 'nv-x nv-axis');\n            focusEnter.append('g').attr('class', 'nv-y1 nv-axis');\n            focusEnter.append('g').attr('class', 'nv-y2 nv-axis');\n            focusEnter.append('g').attr('class', 'nv-barsWrap');\n            focusEnter.append('g').attr('class', 'nv-linesWrap');\n            // context chart is where you can focus in\n            var contextEnter = gEnter.append('g').attr('class', 'nv-context');\n            contextEnter.append('g').attr('class', 'nv-x nv-axis');\n            contextEnter.append('g').attr('class', 'nv-y1 nv-axis');\n            contextEnter.append('g').attr('class', 'nv-y2 nv-axis');\n            contextEnter.append('g').attr('class', 'nv-barsWrap');\n            contextEnter.append('g').attr('class', 'nv-linesWrap');\n            contextEnter.append('g').attr('class', 'nv-brushBackground');\n            contextEnter.append('g').attr('class', 'nv-x nv-brush');\n            //============================================================\n            // Legend\n            //------------------------------------------------------------\n            if (!showLegend) {\n                g.select('.nv-legendWrap').selectAll('*').remove();\n            }\n            else {\n                var legendWidth = legend.align() ? availableWidth / 2 : availableWidth;\n                var legendXPosition = legend.align() ? legendWidth : 0;\n                legend.width(legendWidth);\n                g.select('.nv-legendWrap')\n                    .datum(data.map(function (series) {\n                    series.originalKey = series.originalKey === undefined ? series.key : series.originalKey;\n                    if (switchYAxisOrder) {\n                        series.key = series.originalKey + (series.bar ? legendRightAxisHint : legendLeftAxisHint);\n                    }\n                    else {\n                        series.key = series.originalKey + (series.bar ? legendLeftAxisHint : legendRightAxisHint);\n                    }\n                    return series;\n                }))\n                    .call(legend);\n                if (!marginTop && legend.height() !== margin.top) {\n                    margin.top = legend.height();\n                    // FIXME: shouldn't this be \"- (focusEnabled ? focusHeight : 0)\"?\n                    availableHeight1 = nv.utils.availableHeight(height, container, margin) - focusHeight;\n                }\n                g.select('.nv-legendWrap')\n                    .attr('transform', 'translate(' + legendXPosition + ',' + (-margin.top) + ')');\n            }\n            wrap.attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');\n            //============================================================\n            // Context chart (focus chart) components\n            //------------------------------------------------------------\n            // hide or show the focus context chart\n            g.select('.nv-context').style('display', focusEnable ? 'initial' : 'none');\n            bars2\n                .width(availableWidth)\n                .height(availableHeight2)\n                .color(data.map(function (d, i) {\n                return d.color || color(d, i);\n            }).filter(function (d, i) {\n                return !data[i].disabled && data[i].bar;\n            }));\n            lines2\n                .width(availableWidth)\n                .height(availableHeight2)\n                .color(data.map(function (d, i) {\n                return d.color || color(d, i);\n            }).filter(function (d, i) {\n                return !data[i].disabled && !data[i].bar;\n            }));\n            var bars2Wrap = g.select('.nv-context .nv-barsWrap')\n                .datum(dataBars.length ? dataBars : [\n                { values: [] }\n            ]);\n            var lines2Wrap = g.select('.nv-context .nv-linesWrap')\n                .datum(allDisabled(dataLines) ?\n                [{ values: [] }] :\n                dataLines.filter(function (dataLine) {\n                    return !dataLine.disabled;\n                }));\n            g.select('.nv-context')\n                .attr('transform', 'translate(0,' + (availableHeight1 + margin.bottom + margin2.top) + ')');\n            bars2Wrap.transition().call(bars2);\n            lines2Wrap.transition().call(lines2);\n            // context (focus chart) axis controls\n            if (focusShowAxisX) {\n                x2Axis\n                    ._ticks(nv.utils.calcTicksX(availableWidth / 100, data))\n                    .tickSize(-availableHeight2, 0);\n                g.select('.nv-context .nv-x.nv-axis')\n                    .attr('transform', 'translate(0,' + y3.range()[0] + ')');\n                g.select('.nv-context .nv-x.nv-axis').transition()\n                    .call(x2Axis);\n            }\n            if (focusShowAxisY) {\n                y3Axis\n                    .scale(y3)\n                    ._ticks(availableHeight2 / 36)\n                    .tickSize(-availableWidth, 0);\n                y4Axis\n                    .scale(y4)\n                    ._ticks(availableHeight2 / 36)\n                    .tickSize(dataBars.length ? 0 : -availableWidth, 0); // Show the y2 rules only if y1 has none\n                g.select('.nv-context .nv-y3.nv-axis')\n                    .style('opacity', dataBars.length ? 1 : 0)\n                    .attr('transform', 'translate(0,' + x2.range()[0] + ')');\n                g.select('.nv-context .nv-y2.nv-axis')\n                    .style('opacity', dataLines.length ? 1 : 0)\n                    .attr('transform', 'translate(' + x2.range()[1] + ',0)');\n                g.select('.nv-context .nv-y1.nv-axis').transition()\n                    .call(y3Axis);\n                g.select('.nv-context .nv-y2.nv-axis').transition()\n                    .call(y4Axis);\n            }\n            // Setup Brush\n            brush.x(x2).on('brush', onBrush);\n            if (brushExtent)\n                brush.extent(brushExtent);\n            var brushBG = g.select('.nv-brushBackground').selectAll('g')\n                .data([brushExtent || brush.extent()]);\n            var brushBGenter = brushBG.enter()\n                .append('g');\n            brushBGenter.append('rect')\n                .attr('class', 'left')\n                .attr('x', 0)\n                .attr('y', 0)\n                .attr('height', availableHeight2);\n            brushBGenter.append('rect')\n                .attr('class', 'right')\n                .attr('x', 0)\n                .attr('y', 0)\n                .attr('height', availableHeight2);\n            var gBrush = g.select('.nv-x.nv-brush')\n                .call(brush);\n            gBrush.selectAll('rect')\n                //.attr('y', -5)\n                .attr('height', availableHeight2);\n            gBrush.selectAll('.resize').append('path').attr('d', resizePath);\n            //============================================================\n            // Event Handling/Dispatching (in chart's scope)\n            //------------------------------------------------------------\n            legend.dispatch.on('stateChange', function (newState) {\n                for (var key in newState)\n                    state[key] = newState[key];\n                dispatch.stateChange(state);\n                chart.update();\n            });\n            // Update chart from a state object passed to event handler\n            dispatch.on('changeState', function (e) {\n                if (typeof e.disabled !== 'undefined') {\n                    data.forEach(function (series, i) {\n                        series.disabled = e.disabled[i];\n                    });\n                    state.disabled = e.disabled;\n                }\n                chart.update();\n            });\n            //============================================================\n            // Functions\n            //------------------------------------------------------------\n            // Taken from crossfilter (http://square.github.com/crossfilter/)\n            function resizePath(d) {\n                var e = +(d == 'e'), x = e ? 1 : -1, y = availableHeight2 / 3;\n                return 'M' + (.5 * x) + ',' + y\n                    + 'A6,6 0 0 ' + e + ' ' + (6.5 * x) + ',' + (y + 6)\n                    + 'V' + (2 * y - 6)\n                    + 'A6,6 0 0 ' + e + ' ' + (.5 * x) + ',' + (2 * y)\n                    + 'Z'\n                    + 'M' + (2.5 * x) + ',' + (y + 8)\n                    + 'V' + (2 * y - 8)\n                    + 'M' + (4.5 * x) + ',' + (y + 8)\n                    + 'V' + (2 * y - 8);\n            }\n            function updateBrushBG() {\n                if (!brush.empty())\n                    brush.extent(brushExtent);\n                brushBG\n                    .data([brush.empty() ? x2.domain() : brushExtent])\n                    .each(function (d, i) {\n                    var leftWidth = x2(d[0]) - x2.range()[0], rightWidth = x2.range()[1] - x2(d[1]);\n                    d3.select(this).select('.left')\n                        .attr('width', leftWidth < 0 ? 0 : leftWidth);\n                    d3.select(this).select('.right')\n                        .attr('x', x2(d[1]))\n                        .attr('width', rightWidth < 0 ? 0 : rightWidth);\n                });\n            }\n            function onBrush() {\n                brushExtent = brush.empty() ? null : brush.extent();\n                extent = brush.empty() ? x2.domain() : brush.extent();\n                dispatch.brush({ extent: extent, brush: brush });\n                updateBrushBG();\n                // Prepare Main (Focus) Bars and Lines\n                bars\n                    .width(availableWidth)\n                    .height(availableHeight1)\n                    .color(data.map(function (d, i) {\n                    return d.color || color(d, i);\n                }).filter(function (d, i) { return !data[i].disabled && data[i].bar; }));\n                lines\n                    .width(availableWidth)\n                    .height(availableHeight1)\n                    .color(data.map(function (d, i) {\n                    return d.color || color(d, i);\n                }).filter(function (d, i) { return !data[i].disabled && !data[i].bar; }));\n                var focusBarsWrap = g.select('.nv-focus .nv-barsWrap')\n                    .datum(!dataBars.length ? [{ values: [] }] :\n                    dataBars\n                        .map(function (d, i) {\n                        return {\n                            key: d.key,\n                            values: d.values.filter(function (d, i) {\n                                return bars.x()(d, i) >= extent[0] && bars.x()(d, i) <= extent[1];\n                            })\n                        };\n                    }));\n                var focusLinesWrap = g.select('.nv-focus .nv-linesWrap')\n                    .datum(allDisabled(dataLines) ? [{ values: [] }] :\n                    dataLines\n                        .filter(function (dataLine) { return !dataLine.disabled; })\n                        .map(function (d, i) {\n                        return {\n                            area: d.area,\n                            fillOpacity: d.fillOpacity,\n                            strokeWidth: d.strokeWidth,\n                            key: d.key,\n                            values: d.values.filter(function (d, i) {\n                                return lines.x()(d, i) >= extent[0] && lines.x()(d, i) <= extent[1];\n                            })\n                        };\n                    }));\n                // Update Main (Focus) X Axis\n                if (dataBars.length && !switchYAxisOrder) {\n                    x = bars.xScale();\n                }\n                else {\n                    x = lines.xScale();\n                }\n                xAxis\n                    .scale(x)\n                    ._ticks(nv.utils.calcTicksX(availableWidth / 100, data))\n                    .tickSize(-availableHeight1, 0);\n                xAxis.domain([Math.ceil(extent[0]), Math.floor(extent[1])]);\n                g.select('.nv-x.nv-axis').transition().duration(transitionDuration)\n                    .call(xAxis);\n                // Update Main (Focus) Bars and Lines\n                focusBarsWrap.transition().duration(transitionDuration).call(bars);\n                focusLinesWrap.transition().duration(transitionDuration).call(lines);\n                // Setup and Update Main (Focus) Y Axes\n                g.select('.nv-focus .nv-x.nv-axis')\n                    .attr('transform', 'translate(0,' + y1.range()[0] + ')');\n                y1Axis\n                    .scale(y1)\n                    ._ticks(nv.utils.calcTicksY(availableHeight1 / 36, data))\n                    .tickSize(-availableWidth, 0);\n                y2Axis\n                    .scale(y2)\n                    ._ticks(nv.utils.calcTicksY(availableHeight1 / 36, data));\n                // Show the y2 rules only if y1 has none\n                if (!switchYAxisOrder) {\n                    y2Axis.tickSize(dataBars.length ? 0 : -availableWidth, 0);\n                }\n                else {\n                    y2Axis.tickSize(dataLines.length ? 0 : -availableWidth, 0);\n                }\n                // Calculate opacity of the axis\n                var barsOpacity = dataBars.length ? 1 : 0;\n                var linesOpacity = dataLines.length && !allDisabled(dataLines) ? 1 : 0;\n                var y1Opacity = switchYAxisOrder ? linesOpacity : barsOpacity;\n                var y2Opacity = switchYAxisOrder ? barsOpacity : linesOpacity;\n                g.select('.nv-focus .nv-y1.nv-axis')\n                    .style('opacity', y1Opacity);\n                g.select('.nv-focus .nv-y2.nv-axis')\n                    .style('opacity', y2Opacity)\n                    .attr('transform', 'translate(' + x.range()[1] + ',0)');\n                g.select('.nv-focus .nv-y1.nv-axis').transition().duration(transitionDuration)\n                    .call(y1Axis);\n                g.select('.nv-focus .nv-y2.nv-axis').transition().duration(transitionDuration)\n                    .call(y2Axis);\n            }\n            onBrush();\n        });\n        return chart;\n    }\n    //============================================================\n    // Event Handling/Dispatching (out of chart's scope)\n    //------------------------------------------------------------\n    lines.dispatch.on('elementMouseover.tooltip', function (evt) {\n        tooltip\n            .duration(100)\n            .valueFormatter(function (d, i) {\n            return getLinesAxis().main.tickFormat()(d, i);\n        })\n            .data(evt)\n            .hidden(false);\n    });\n    lines.dispatch.on('elementMouseout.tooltip', function (evt) {\n        tooltip.hidden(true);\n    });\n    bars.dispatch.on('elementMouseover.tooltip', function (evt) {\n        evt.value = chart.x()(evt.data);\n        evt['series'] = {\n            value: chart.y()(evt.data),\n            color: evt.color\n        };\n        tooltip\n            .duration(0)\n            .valueFormatter(function (d, i) {\n            return getBarsAxis().main.tickFormat()(d, i);\n        })\n            .data(evt)\n            .hidden(false);\n    });\n    bars.dispatch.on('elementMouseout.tooltip', function (evt) {\n        tooltip.hidden(true);\n    });\n    bars.dispatch.on('elementMousemove.tooltip', function (evt) {\n        tooltip();\n    });\n    //============================================================\n    //============================================================\n    // Expose Public Variables\n    //------------------------------------------------------------\n    // expose chart's sub-components\n    chart.dispatch = dispatch;\n    chart.legend = legend;\n    chart.lines = lines;\n    chart.lines2 = lines2;\n    chart.bars = bars;\n    chart.bars2 = bars2;\n    chart.xAxis = xAxis;\n    chart.x2Axis = x2Axis;\n    chart.y1Axis = y1Axis;\n    chart.y2Axis = y2Axis;\n    chart.y3Axis = y3Axis;\n    chart.y4Axis = y4Axis;\n    chart.tooltip = tooltip;\n    chart.options = nv.utils.optionsFunc.bind(chart);\n    chart._options = Object.create({}, {\n        // simple options, just get/set the necessary values\n        width: { get: function () { return width; }, set: function (_) { width = _; } },\n        height: { get: function () { return height; }, set: function (_) { height = _; } },\n        showLegend: { get: function () { return showLegend; }, set: function (_) { showLegend = _; } },\n        brushExtent: { get: function () { return brushExtent; }, set: function (_) { brushExtent = _; } },\n        noData: { get: function () { return noData; }, set: function (_) { noData = _; } },\n        focusEnable: { get: function () { return focusEnable; }, set: function (_) { focusEnable = _; } },\n        focusHeight: { get: function () { return focusHeight; }, set: function (_) { focusHeight = _; } },\n        focusShowAxisX: { get: function () { return focusShowAxisX; }, set: function (_) { focusShowAxisX = _; } },\n        focusShowAxisY: { get: function () { return focusShowAxisY; }, set: function (_) { focusShowAxisY = _; } },\n        legendLeftAxisHint: { get: function () { return legendLeftAxisHint; }, set: function (_) { legendLeftAxisHint = _; } },\n        legendRightAxisHint: { get: function () { return legendRightAxisHint; }, set: function (_) { legendRightAxisHint = _; } },\n        // options that require extra logic in the setter\n        margin: { get: function () { return margin; }, set: function (_) {\n                if (_.top !== undefined) {\n                    margin.top = _.top;\n                    marginTop = _.top;\n                }\n                margin.right = _.right !== undefined ? _.right : margin.right;\n                margin.bottom = _.bottom !== undefined ? _.bottom : margin.bottom;\n                margin.left = _.left !== undefined ? _.left : margin.left;\n            } },\n        focusMargin: { get: function () { return margin2; }, set: function (_) {\n                margin2.top = _.top !== undefined ? _.top : margin2.top;\n                margin2.right = _.right !== undefined ? _.right : margin2.right;\n                margin2.bottom = _.bottom !== undefined ? _.bottom : margin2.bottom;\n                margin2.left = _.left !== undefined ? _.left : margin2.left;\n            } },\n        duration: { get: function () { return transitionDuration; }, set: function (_) {\n                transitionDuration = _;\n            } },\n        color: { get: function () { return color; }, set: function (_) {\n                color = nv.utils.getColor(_);\n                legend.color(color);\n            } },\n        x: { get: function () { return getX; }, set: function (_) {\n                getX = _;\n                lines.x(_);\n                lines2.x(_);\n                bars.x(_);\n                bars2.x(_);\n            } },\n        y: { get: function () { return getY; }, set: function (_) {\n                getY = _;\n                lines.y(_);\n                lines2.y(_);\n                bars.y(_);\n                bars2.y(_);\n            } },\n        switchYAxisOrder: { get: function () { return switchYAxisOrder; }, set: function (_) {\n                // Switch the tick format for the yAxis\n                if (switchYAxisOrder !== _) {\n                    var y1 = y1Axis;\n                    y1Axis = y2Axis;\n                    y2Axis = y1;\n                    var y3 = y3Axis;\n                    y3Axis = y4Axis;\n                    y4Axis = y3;\n                }\n                switchYAxisOrder = _;\n                y1Axis.orient('left');\n                y2Axis.orient('right');\n                y3Axis.orient('left');\n                y4Axis.orient('right');\n            } }\n    });\n    nv.utils.inheritOptions(chart, lines);\n    nv.utils.initOptions(chart);\n    return chart;\n};\n","nv.models.multiBar = function () {\n    \"use strict\";\n    //============================================================\n    // Public Variables with Default Settings\n    //------------------------------------------------------------\n    var margin = { top: 0, right: 0, bottom: 0, left: 0 }, width = 960, height = 500, x = d3.scale.ordinal(), y = d3.scale.linear(), id = Math.floor(Math.random() * 10000) //Create semi-unique ID in case user doesn't select one\n    , getX = function (d, _i) { return d.x; }, getY = function (d, _i) { return d.y; }, forceY = [0] // 0 is forced by default.. this makes sense for the majority of bar graphs... user can always do chart.forceY([]) to remove\n    , clipEdge = true, stacked = false, showValues = false, valueFormat = d3.format(',.1f'), valueStyle = function (_d, _i) { return 'fill: #333; stroke: rgba(0,0,0,0)'; }, stackOffset = 'zero' // options include 'silhouette', 'wiggle', 'expand', 'zero', or a custom function\n    , color = nv.utils.defaultColor(), hideable = false, barColor = null // adding the ability to set the color for each rather than the whole group\n    , disabled // used in conjunction with barColor to communicate from multiBarHorizontalChart what series are disabled\n    , duration = 500, xDomain, yDomain, xRange, yRange, groupSpacing = 0.1, fillOpacity = 0.75, dispatch = d3.dispatch('chartClick', 'elementClick', 'elementDblClick', 'elementMouseover', 'elementMouseout', 'elementMousemove', 'renderEnd');\n    //============================================================\n    // Private Variables\n    //------------------------------------------------------------\n    var x0, y0 //used to store previous scales\n    , renderWatch = nv.utils.renderWatch(dispatch, duration);\n    var last_datalength = 0;\n    function prepareData(data) {\n        var nonStackableCount = 0;\n        if (hideable && data.length) {\n            hideable = [{\n                    values: data[0].values.map(function (d) {\n                        return {\n                            x: d.x,\n                            y: 0,\n                            series: d.series,\n                            size: 0.01\n                        };\n                    })\n                }];\n        }\n        if (stacked) {\n            var parsed = d3.layout.stack()\n                .offset(stackOffset)\n                .values(function (d) { return d.values; })\n                .y(getY)(!data.length && hideable ? hideable : data);\n            parsed.forEach(function (series, i) {\n                // if series is non-stackable, use un-parsed data\n                if (series.nonStackable) {\n                    data[i].nonStackableSeries = nonStackableCount++;\n                    parsed[i] = data[i];\n                }\n                else {\n                    // don't stack this seires on top of the nonStackable seriees\n                    if (i > 0 && parsed[i - 1].nonStackable) {\n                        parsed[i].values.map(function (d, j) {\n                            d.y0 -= parsed[i - 1].values[j].y;\n                            d.y1 = d.y0 + d.y;\n                        });\n                    }\n                }\n            });\n            data = parsed;\n        }\n        //add series index and key to each data point for reference\n        data.forEach(function (series, i) {\n            series.values.forEach(function (point) {\n                point.series = i;\n                point.key = series.key;\n            });\n        });\n        // HACK for negative value stacking\n        if (stacked && data.length > 0) {\n            data[0].values.map(function (_d, i) {\n                var posBase = 0, negBase = 0;\n                data.map(function (d, idx) {\n                    if (!data[idx].nonStackable) {\n                        var f = d.values[i];\n                        f.size = Math.abs(f.y);\n                        if (f.y < 0) {\n                            f.y1 = negBase;\n                            negBase = negBase - f.size;\n                        }\n                        else {\n                            f.y1 = f.size + posBase;\n                            posBase = posBase + f.size;\n                        }\n                    }\n                });\n            });\n        }\n        return nonStackableCount;\n    }\n    /**\n     * Remap and flatten the data for use in calculating the scales' domains\n     */\n    function scaleData(data, availableWidth, availableHeight) {\n        var seriesData = (xDomain && yDomain) ? [] : // if we know xDomain and yDomain, no need to calculate\n            data.map(function (d, idx) {\n                return d.values.map(function (d, i) {\n                    return { x: getX(d, i), y: getY(d, i), y0: d.y0, y1: d.y1, idx: idx };\n                });\n            });\n        x.domain(xDomain || d3.merge(seriesData).map(function (d) { return d.x; }))\n            .rangeBands(xRange || [0, availableWidth], groupSpacing);\n        y.domain(yDomain || d3.extent(d3.merge(seriesData).map(function (d) {\n            var domain = d.y;\n            // increase the domain range if this series is stackable\n            if (stacked && !data[d.idx].nonStackable) {\n                if (d.y > 0) {\n                    domain = d.y1;\n                }\n                else {\n                    domain = d.y1 + d.y;\n                }\n            }\n            return domain;\n        }).concat(forceY)))\n            .range(yRange || [availableHeight, 0]);\n        // If scale's domain don't have a range, slightly adjust to make one... so a chart can show a single data point\n        var xd1 = +x.domain()[0];\n        var xd2 = +x.domain()[1];\n        if (xd1 === xd2)\n            xd1 ?\n                x.domain([xd1 - xd1 * 0.01, xd2 + xd2 * 0.01])\n                : x.domain([-1, 1]);\n        if (y.domain()[0] === y.domain()[1])\n            y.domain()[0] ?\n                y.domain([y.domain()[0] + y.domain()[0] * 0.01, y.domain()[1] - y.domain()[1] * 0.01])\n                : y.domain([-1, 1]);\n    }\n    function createContainer(data, selection, availableWidth, availableHeight) {\n        var container = d3.select(selection);\n        nv.utils.initSVG(container);\n        var wrap = container.selectAll('g.nv-wrap.nv-multibar').data([data]);\n        var wrapEnter = wrap.enter().append('g').attr('class', 'nvd3 nv-wrap nv-multibar');\n        var gEnter = wrapEnter.append('g');\n        var g = wrap.select('g');\n        gEnter.append('g').attr('class', 'nv-groups');\n        wrap.attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');\n        wrap.select('#nv-edge-clip-' + id + ' rect')\n            .attr('width', availableWidth)\n            .attr('height', availableHeight);\n        g.attr('clip-path', clipEdge ? 'url(#nv-edge-clip-' + id + ')' : '');\n        return wrap;\n    }\n    function createGroups(data, wrap) {\n        var groups = wrap.select('.nv-groups').selectAll('.nv-group')\n            .data(function (d) { return d; }, function (_d, i) { return i; });\n        groups.enter().append('g')\n            .style('stroke-opacity', 1e-6)\n            .style('fill-opacity', 1e-6);\n        var exitTransition = renderWatch\n            .transition(groups.exit().selectAll('g.nv-bar'), 'multibarExit', Math.min(100, duration))\n            .attr('y', function (d, _i, _j) {\n            var yVal = y0(0) || 0;\n            if (stacked) {\n                if (data[d.series] && !data[d.series].nonStackable) {\n                    yVal = y0(d.y0);\n                }\n            }\n            return yVal;\n        })\n            .attr('height', 0)\n            .remove();\n        if (exitTransition.delay)\n            exitTransition.delay(function (_d, i) {\n                var delay = i * (duration / (last_datalength + 1)) - i;\n                return delay;\n            });\n        groups\n            .attr('class', function (_d, i) { return 'nv-group nv-series-' + i; })\n            .classed('hover', function (d) { return d.hover; })\n            .style('fill', function (d, i) { return color(d, i); })\n            .style('stroke', function (d, i) { return color(d, i); });\n        groups\n            .style('stroke-opacity', 1)\n            .style('fill-opacity', fillOpacity);\n        return groups;\n    }\n    function createBars(data, groups) {\n        var bars = null;\n        var barsEnter = null;\n        bars = groups.selectAll('g.nv-bar')\n            .data(function (d) { return (hideable && !data.length) ? hideable.values : d.values; });\n        bars.exit().remove();\n        barsEnter = bars.enter().append('g')\n            .attr('class', function (d, i) { return getY(d, i) < 0 ? 'nv-bar negative' : 'nv-bar positive'; })\n            .attr('transform', function (d, i) { return 'translate(' + x(getX(d, i)) + ',0)'; });\n        barsEnter.append('rect')\n            .attr('class', function (d, i) { return getY(d, i) < 0 ? 'nv-bar negative' : 'nv-bar positive'; })\n            .attr('width', function (_d, _i, j) { return x.rangeBand() / (stacked && !data[j].nonStackable ? 1 : data.length); })\n            .attr('height', 0);\n        barsEnter.append('text');\n        bars\n            .style('fill', function (d, i, j) { return color(d, j, i); })\n            .style('stroke', function (d, i, j) { return color(d, j, i); });\n        if (barColor) {\n            if (!disabled) {\n                disabled = data.map(function () { return true; });\n            }\n            bars\n                .style('fill', function (d, i, j) { return d3.rgb(barColor(d, i)).darker(disabled.map(function (_, i) { return i; }).filter(function (_, i) { return !disabled[i]; })[j]).toString(); })\n                .style('stroke', function (d, i, j) { return d3.rgb(barColor(d, i)).darker(disabled.map(function (_, i) { return i; }).filter(function (_, i) { return !disabled[i]; })[j]).toString(); });\n        }\n        return bars;\n    }\n    function registerBarsEvents(data, bars) {\n        bars\n            .on('mouseover', function (d, i, j) {\n            d3.select(this).classed('hover', true);\n            dispatch.elementMouseover({\n                data: d,\n                index: i,\n                series: data[j],\n                color: d3.select(this).style(\"fill\")\n            });\n        })\n            .on('mouseout', function (d, i, j) {\n            d3.select(this).classed('hover', false);\n            dispatch.elementMouseout({\n                data: d,\n                index: i,\n                series: data[j],\n                color: d3.select(this).style(\"fill\")\n            });\n        })\n            .on('mousemove', function (d, i, j) {\n            dispatch.elementMousemove({\n                data: d,\n                index: i,\n                series: data[j],\n                color: d3.select(this).style(\"fill\")\n            });\n        })\n            .on('click', function (d, i, j) {\n            var element = this;\n            dispatch.elementClick({\n                data: d,\n                index: i,\n                series: data[j],\n                color: d3.select(this).style(\"fill\"),\n                event: d3.event,\n                element: element\n            });\n            d3.event.stopPropagation();\n        })\n            .on('dblclick', function (d, i, j) {\n            dispatch.elementDblClick({\n                data: d,\n                index: i,\n                series: data[j],\n                color: d3.select(this).style(\"fill\")\n            });\n            d3.event.stopPropagation();\n        });\n    }\n    function getStackedChartFns(data, nonStackableCount) {\n        return {\n            xFn: function (d, _i, j) {\n                var width = 0;\n                if (data[j].nonStackable) {\n                    width = d.series * x.rangeBand() / data.length;\n                    if (data.length !== nonStackableCount) {\n                        width = data[j].nonStackableSeries * x.rangeBand() / (nonStackableCount * 2);\n                    }\n                }\n                return width;\n            },\n            yFn: function (d, i, j) {\n                var yVal = 0;\n                // if stackable, stack it on top of the previous series\n                if (!data[j].nonStackable) {\n                    yVal = y(d.y1);\n                }\n                else {\n                    if (getY(d, i) < 0) {\n                        yVal = y(0);\n                    }\n                    else {\n                        if (y(0) - y(getY(d, i)) < -1) {\n                            yVal = y(0) - 1;\n                        }\n                        else {\n                            yVal = y(getY(d, i)) || 0;\n                        }\n                    }\n                }\n                return yVal;\n            },\n            widthFn: function (_d, _i, j) {\n                if (!data[j].nonStackable) {\n                    return x.rangeBand();\n                }\n                else {\n                    // if all series are nonStacable, take the full width\n                    var width = (x.rangeBand() / nonStackableCount);\n                    // otherwise, nonStackable graph will be only taking the half-width\n                    // of the x rangeBand\n                    if (data.length !== nonStackableCount) {\n                        width = x.rangeBand() / (nonStackableCount * 2);\n                    }\n                    return width;\n                }\n            },\n            heightFn: function (d, i, j) {\n                if (!data[j].nonStackable) {\n                    return Math.max(Math.abs(y(d.y + d.y0) - y(d.y0)), 0);\n                }\n                else {\n                    return Math.max(Math.abs(y(getY(d, i)) - y(0)), 0) || 0;\n                }\n            }\n        };\n    }\n    function getGroupedChartFns(data) {\n        return {\n            xFn: function (d, _i) {\n                return d.series * x.rangeBand() / data.length;\n            },\n            yFn: function (d, i) {\n                return getY(d, i) < 0 ?\n                    y(0) :\n                    y(0) - y(getY(d, i)) < 1 ?\n                        y(0) - 1 :\n                        y(getY(d, i)) || 0;\n            },\n            widthFn: function (_d, _i, _j) { return x.rangeBand() / data.length; },\n            heightFn: function (d, i) {\n                return Math.max(Math.abs(y(getY(d, i)) - y(0)), 1) || 0;\n            }\n        };\n    }\n    function chart(selection) {\n        renderWatch.reset();\n        selection.each(function (data) {\n            var availableWidth = width - margin.left - margin.right;\n            var availableHeight = height - margin.top - margin.bottom;\n            var nonStackableCount = prepareData(data);\n            scaleData(data, availableWidth, availableHeight);\n            x0 = x0 || x;\n            y0 = y0 || y;\n            var container = createContainer(data, this, availableWidth, availableHeight);\n            var groups = createGroups(data, container);\n            var bars = createBars(data, groups);\n            registerBarsEvents(data, bars);\n            var barSelection = bars.watchTransition(renderWatch, 'multibar', Math.min(250, duration))\n                .delay(function (_, i) {\n                return i * duration / data[0].values.length;\n            });\n            var xFn = null;\n            var yFn = null;\n            var widthFn = null;\n            var heightFn = null;\n            if (stacked) {\n                (_a = getStackedChartFns(data, nonStackableCount), xFn = _a.xFn, yFn = _a.yFn, widthFn = _a.widthFn, heightFn = _a.heightFn);\n            }\n            else {\n                (_b = getGroupedChartFns(data), xFn = _b.xFn, yFn = _b.yFn, widthFn = _b.widthFn, heightFn = _b.heightFn);\n            }\n            barSelection\n                .select('rect')\n                .attr('x', xFn)\n                .attr('y', yFn)\n                .attr('width', widthFn)\n                .attr('height', heightFn);\n            bars.attr('transform', function (d, i) { return 'translate(' + x(getX(d, i)) + ',0)'; });\n            if (showValues) {\n                bars.select('text')\n                    .attr('text-anchor', 'middle')\n                    .attr('y', function (d, i, j) {\n                    return stacked ? yFn(d, i, j) + heightFn(d, i, j) / 2 : yFn(d, i, j);\n                })\n                    .attr('dy', function () {\n                    return stacked ? 4 : -5;\n                })\n                    .attr('style', function (d, i) { return valueStyle(d, i); })\n                    .text(function (d, i, _j) {\n                    return valueFormat(getY(d, i));\n                });\n                bars.watchTransition(renderWatch, 'multibar')\n                    .select('text')\n                    .attr('x', function (d, i, j) { return xFn(d, i, j) + widthFn(d, i, j) / 2; });\n            }\n            else {\n                bars.selectAll('text').text('');\n            }\n            //store old scales for use in transitions on update\n            x0 = x.copy();\n            y0 = y.copy();\n            // keep track of the last data value length for transition calculations\n            if (data[0] && data[0].values) {\n                last_datalength = data[0].values.length;\n            }\n            var _a, _b;\n        });\n        renderWatch.renderEnd('multibar immediate');\n        return chart;\n    }\n    //============================================================\n    // Expose Public Variables\n    //------------------------------------------------------------\n    chart.dispatch = dispatch;\n    chart.options = nv.utils.optionsFunc.bind(chart);\n    chart._options = Object.create({}, {\n        // simple options, just get/set the necessary values\n        width: { get: function () { return width; }, set: function (_) { width = _; } },\n        height: { get: function () { return height; }, set: function (_) { height = _; } },\n        x: { get: function () { return getX; }, set: function (_) { getX = _; } },\n        y: { get: function () { return getY; }, set: function (_) { getY = _; } },\n        xScale: { get: function () { return x; }, set: function (_) { x = _; } },\n        yScale: { get: function () { return y; }, set: function (_) { y = _; } },\n        xDomain: { get: function () { return xDomain; }, set: function (_) { xDomain = _; } },\n        yDomain: { get: function () { return yDomain; }, set: function (_) { yDomain = _; } },\n        xRange: { get: function () { return xRange; }, set: function (_) { xRange = _; } },\n        yRange: { get: function () { return yRange; }, set: function (_) { yRange = _; } },\n        forceY: { get: function () { return forceY; }, set: function (_) { forceY = _; } },\n        stacked: { get: function () { return stacked; }, set: function (_) { stacked = _; } },\n        showValues: { get: function () { return showValues; }, set: function (_) { showValues = _; } },\n        valueFormat: { get: function () { return valueFormat; }, set: function (_) { valueFormat = _; } },\n        valueStyle: { get: function () { return valueStyle; }, set: function (_) { valueStyle = _; } },\n        stackOffset: { get: function () { return stackOffset; }, set: function (_) { stackOffset = _; } },\n        clipEdge: { get: function () { return clipEdge; }, set: function (_) { clipEdge = _; } },\n        disabled: { get: function () { return disabled; }, set: function (_) { disabled = _; } },\n        id: { get: function () { return id; }, set: function (_) { id = _; } },\n        hideable: { get: function () { return hideable; }, set: function (_) { hideable = _; } },\n        groupSpacing: { get: function () { return groupSpacing; }, set: function (_) { groupSpacing = _; } },\n        fillOpacity: { get: function () { return fillOpacity; }, set: function (_) { fillOpacity = _; } },\n        // options that require extra logic in the setter\n        margin: {\n            get: function () { return margin; }, set: function (_) {\n                margin.top = _.top !== undefined ? _.top : margin.top;\n                margin.right = _.right !== undefined ? _.right : margin.right;\n                margin.bottom = _.bottom !== undefined ? _.bottom : margin.bottom;\n                margin.left = _.left !== undefined ? _.left : margin.left;\n            }\n        },\n        duration: {\n            get: function () { return duration; }, set: function (_) {\n                duration = _;\n                renderWatch.reset(duration);\n            }\n        },\n        color: {\n            get: function () { return color; }, set: function (_) {\n                color = nv.utils.getColor(_);\n            }\n        },\n        barColor: {\n            get: function () { return barColor; }, set: function (_) {\n                barColor = _ ? nv.utils.getColor(_) : null;\n            }\n        }\n    });\n    nv.utils.initOptions(chart);\n    return chart;\n};\n","nv.models.multiBarChart = function () {\n    \"use strict\";\n    //============================================================\n    // Public Variables with Default Settings\n    //------------------------------------------------------------\n    var multibar = nv.models.multiBar(), xAxis = nv.models.axis(), yAxis = nv.models.axis(), interactiveLayer = nv.interactiveGuideline(), legend = nv.models.legend(), controls = nv.models.legend(), tooltip = nv.models.tooltip();\n    var margin = { top: 30, right: 20, bottom: 50, left: 60 }, marginTop = null, width = null, height = null, color = nv.utils.defaultColor(), showControls = true, controlLabels = {}, showLegend = true, legendPosition = null, showXAxis = true, showYAxis = true, rightAlignYAxis = false, reduceXTicks = true // if false a tick will show for every data point\n    , staggerLabels = false, wrapLabels = false, rotateLabels = 0, x //can be accessed via chart.xScale()\n    , y //can be accessed via chart.yScale()\n    , state = nv.utils.state(), defaultState = null, noData = null, dispatch = d3.dispatch('stateChange', 'changeState', 'renderEnd'), controlWidth = function () { return showControls ? 180 : 0; }, duration = 250, useInteractiveGuideline = false;\n    state.stacked = false; // DEPRECATED Maintained for backward compatibility\n    multibar.stacked(false);\n    xAxis\n        .orient('bottom')\n        .tickPadding(7)\n        .showMaxMin(false)\n        .tickFormat(function (d) { return d; });\n    yAxis\n        .orient((rightAlignYAxis) ? 'right' : 'left')\n        .tickFormat(d3.format(',.1f'));\n    tooltip\n        .duration(0)\n        .valueFormatter(function (d, i) {\n        return yAxis.tickFormat()(d, i);\n    })\n        .headerFormatter(function (d, i) {\n        return xAxis.tickFormat()(d, i);\n    });\n    interactiveLayer.tooltip\n        .valueFormatter(function (d, i) {\n        return d == null ? \"N/A\" : yAxis.tickFormat()(d, i);\n    })\n        .headerFormatter(function (d, i) {\n        return xAxis.tickFormat()(d, i);\n    });\n    interactiveLayer.tooltip\n        .valueFormatter(function (d, i) {\n        return d == null ? \"N/A\" : yAxis.tickFormat()(d, i);\n    })\n        .headerFormatter(function (d, i) {\n        return xAxis.tickFormat()(d, i);\n    });\n    interactiveLayer.tooltip\n        .duration(0)\n        .valueFormatter(function (d, i) {\n        return yAxis.tickFormat()(d, i);\n    })\n        .headerFormatter(function (d, i) {\n        return xAxis.tickFormat()(d, i);\n    });\n    controls.updateState(false);\n    //============================================================\n    // Private Variables\n    //------------------------------------------------------------\n    var renderWatch = nv.utils.renderWatch(dispatch);\n    var stacked = false;\n    var stateGetter = function (data) {\n        return function () {\n            return {\n                active: data.map(function (d) { return !d.disabled; }),\n                stacked: stacked\n            };\n        };\n    };\n    var stateSetter = function (data) {\n        return function (state) {\n            if (state.stacked !== undefined)\n                stacked = state.stacked;\n            if (state.active !== undefined)\n                data.forEach(function (series, i) {\n                    series.disabled = !state.active[i];\n                });\n        };\n    };\n    function chart(selection) {\n        renderWatch.reset();\n        renderWatch.models(multibar);\n        if (showXAxis)\n            renderWatch.models(xAxis);\n        if (showYAxis)\n            renderWatch.models(yAxis);\n        selection.each(function (data) {\n            var container = d3.select(this), that = this;\n            nv.utils.initSVG(container);\n            var availableWidth = nv.utils.availableWidth(width, container, margin), availableHeight = nv.utils.availableHeight(height, container, margin);\n            chart.update = function () {\n                if (duration === 0)\n                    container.call(chart);\n                else\n                    container.transition()\n                        .duration(duration)\n                        .call(chart);\n            };\n            chart.container = this;\n            state\n                .setter(stateSetter(data), chart.update)\n                .getter(stateGetter(data))\n                .update();\n            // DEPRECATED set state.disableddisabled\n            state.disabled = data.map(function (d) { return !!d.disabled; });\n            if (!defaultState) {\n                var key;\n                defaultState = {};\n                for (key in state) {\n                    if (state[key] instanceof Array)\n                        defaultState[key] = state[key].slice(0);\n                    else\n                        defaultState[key] = state[key];\n                }\n            }\n            // Display noData message if there's nothing to show.\n            if (!data || !data.length || !data.filter(function (d) { return d.values.length; }).length) {\n                nv.utils.noData(chart, container);\n                return chart;\n            }\n            else {\n                container.selectAll('.nv-noData').remove();\n            }\n            // Setup Scales\n            x = multibar.xScale();\n            y = multibar.yScale();\n            // Setup containers and skeleton of chart\n            var wrap = container.selectAll('g.nv-wrap.nv-multiBarWithLegend').data([data]);\n            var gEnter = wrap.enter().append('g').attr('class', 'nvd3 nv-wrap nv-multiBarWithLegend').append('g');\n            var g = wrap.select('g');\n            gEnter.append('g').attr('class', 'nv-x nv-axis');\n            gEnter.append('g').attr('class', 'nv-y nv-axis');\n            gEnter.append('g').attr('class', 'nv-barsWrap');\n            gEnter.append('g').attr('class', 'nv-legendWrap');\n            gEnter.append('g').attr('class', 'nv-controlsWrap');\n            gEnter.append('g').attr('class', 'nv-interactive');\n            // Legend\n            if (!showLegend) {\n                g.select('.nv-legendWrap').selectAll('*').remove();\n            }\n            else {\n                if (legendPosition === 'bottom') {\n                    legend.width(availableWidth - margin.right);\n                    g.select('.nv-legendWrap')\n                        .datum(data)\n                        .call(legend);\n                    margin.bottom = xAxis.height() + legend.height();\n                    availableHeight = nv.utils.availableHeight(height, container, margin);\n                    g.select('.nv-legendWrap')\n                        .attr('transform', 'translate(0,' + (availableHeight + xAxis.height()) + ')');\n                }\n                else {\n                    legend.width(availableWidth - controlWidth());\n                    g.select('.nv-legendWrap')\n                        .datum(data)\n                        .call(legend);\n                    if (!marginTop && legend.height() !== margin.top) {\n                        margin.top = legend.height();\n                        availableHeight = nv.utils.availableHeight(height, container, margin);\n                    }\n                    g.select('.nv-legendWrap')\n                        .attr('transform', 'translate(' + controlWidth() + ',' + (-margin.top) + ')');\n                }\n            }\n            // Controls\n            if (!showControls) {\n                g.select('.nv-controlsWrap').selectAll('*').remove();\n            }\n            else {\n                var controlsData = [\n                    { key: controlLabels.grouped || 'Grouped', disabled: multibar.stacked() },\n                    { key: controlLabels.stacked || 'Stacked', disabled: !multibar.stacked() }\n                ];\n                controls.width(controlWidth()).color(['#444', '#444', '#444']);\n                g.select('.nv-controlsWrap')\n                    .datum(controlsData)\n                    .attr('transform', 'translate(0,' + (-margin.top) + ')')\n                    .call(controls);\n            }\n            wrap.attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');\n            if (rightAlignYAxis) {\n                g.select(\".nv-y.nv-axis\")\n                    .attr(\"transform\", \"translate(\" + availableWidth + \",0)\");\n            }\n            // Main Chart Component(s)\n            multibar\n                .disabled(data.map(function (series) { return series.disabled; }))\n                .width(availableWidth)\n                .height(availableHeight)\n                .color(data.map(function (d, i) {\n                return d.color || color(d, i);\n            }).filter(function (d, i) { return !data[i].disabled; }));\n            var barsWrap = g.select('.nv-barsWrap')\n                .datum(data.filter(function (d) { return !d.disabled; }));\n            barsWrap.call(multibar);\n            // Setup Axes\n            if (showXAxis) {\n                xAxis\n                    .scale(x)\n                    ._ticks(nv.utils.calcTicksX(availableWidth / 100, data))\n                    .tickSize(-availableHeight, 0);\n                g.select('.nv-x.nv-axis')\n                    .attr('transform', 'translate(0,' + y.range()[0] + ')');\n                g.select('.nv-x.nv-axis')\n                    .call(xAxis);\n                var xTicks = g.select('.nv-x.nv-axis > g').selectAll('g');\n                xTicks\n                    .selectAll('line, text')\n                    .style('opacity', 1);\n                if (staggerLabels) {\n                    var getTranslate = function (x, y) {\n                        return \"translate(\" + x + \",\" + y + \")\";\n                    };\n                    var staggerUp = 5, staggerDown = 17; //pixels to stagger by\n                    // Issue #140\n                    xTicks\n                        .selectAll(\"text\")\n                        .attr('transform', function (d, i, j) {\n                        return getTranslate(0, (j % 2 == 0 ? staggerUp : staggerDown));\n                    });\n                    var totalInBetweenTicks = d3.selectAll(\".nv-x.nv-axis .nv-wrap g g text\")[0].length;\n                    g.selectAll(\".nv-x.nv-axis .nv-axisMaxMin text\")\n                        .attr(\"transform\", function (d, i) {\n                        return getTranslate(0, (i === 0 || totalInBetweenTicks % 2 !== 0) ? staggerDown : staggerUp);\n                    });\n                }\n                if (wrapLabels) {\n                    g.selectAll('.tick text')\n                        .call(nv.utils.wrapTicks, chart.xAxis.rangeBand());\n                }\n                if (reduceXTicks)\n                    xTicks\n                        .filter(function (d, i) {\n                        return i % Math.ceil(data[0].values.length / (availableWidth / 100)) !== 0;\n                    })\n                        .selectAll('text, line')\n                        .style('opacity', 0);\n                if (rotateLabels)\n                    xTicks\n                        .selectAll('.tick text')\n                        .attr('transform', 'rotate(' + rotateLabels + ' 0,0)')\n                        .style('text-anchor', rotateLabels > 0 ? 'start' : 'end');\n                g.select('.nv-x.nv-axis').selectAll('g.nv-axisMaxMin text')\n                    .style('opacity', 1);\n            }\n            if (showYAxis) {\n                yAxis\n                    .scale(y)\n                    ._ticks(nv.utils.calcTicksY(availableHeight / 36, data))\n                    .tickSize(-availableWidth, 0);\n                g.select('.nv-y.nv-axis')\n                    .call(yAxis);\n            }\n            //Set up interactive layer\n            if (useInteractiveGuideline) {\n                interactiveLayer\n                    .width(availableWidth)\n                    .height(availableHeight)\n                    .margin({ left: margin.left, top: margin.top })\n                    .svgContainer(container)\n                    .xScale(x);\n                wrap.select(\".nv-interactive\").call(interactiveLayer);\n            }\n            //============================================================\n            // Event Handling/Dispatching (in chart's scope)\n            //------------------------------------------------------------\n            legend.dispatch.on('stateChange', function (newState) {\n                for (var key in newState)\n                    state[key] = newState[key];\n                dispatch.stateChange(state);\n                chart.update();\n            });\n            controls.dispatch.on('legendClick', function (d, i) {\n                if (!d.disabled)\n                    return;\n                controlsData = controlsData.map(function (s) {\n                    s.disabled = true;\n                    return s;\n                });\n                d.disabled = false;\n                switch (d.key) {\n                    case 'Grouped':\n                    case controlLabels.grouped:\n                        multibar.stacked(false);\n                        break;\n                    case 'Stacked':\n                    case controlLabels.stacked:\n                        multibar.stacked(true);\n                        break;\n                }\n                state.stacked = multibar.stacked();\n                dispatch.stateChange(state);\n                chart.update();\n            });\n            // Update chart from a state object passed to event handler\n            dispatch.on('changeState', function (e) {\n                if (typeof e.disabled !== 'undefined') {\n                    data.forEach(function (series, i) {\n                        series.disabled = e.disabled[i];\n                    });\n                    state.disabled = e.disabled;\n                }\n                if (typeof e.stacked !== 'undefined') {\n                    multibar.stacked(e.stacked);\n                    state.stacked = e.stacked;\n                    stacked = e.stacked;\n                }\n                chart.update();\n            });\n            if (useInteractiveGuideline) {\n                interactiveLayer.dispatch.on('elementMousemove', function (e) {\n                    if (e.pointXValue == undefined)\n                        return;\n                    var singlePoint, pointIndex, pointXLocation, xValue, allData = [];\n                    data\n                        .filter(function (series, i) {\n                        series.seriesIndex = i;\n                        return !series.disabled;\n                    })\n                        .forEach(function (series, i) {\n                        pointIndex = x.domain().indexOf(e.pointXValue);\n                        var point = series.values[pointIndex];\n                        if (point === undefined)\n                            return;\n                        xValue = point.x;\n                        if (singlePoint === undefined)\n                            singlePoint = point;\n                        if (pointXLocation === undefined)\n                            pointXLocation = e.mouseX;\n                        allData.push({\n                            key: series.key,\n                            value: chart.y()(point, pointIndex),\n                            color: color(series, series.seriesIndex),\n                            data: series.values[pointIndex]\n                        });\n                    });\n                    interactiveLayer.tooltip\n                        .data({\n                        value: xValue,\n                        index: pointIndex,\n                        series: allData\n                    })();\n                    interactiveLayer.renderGuideLine(pointXLocation);\n                });\n                interactiveLayer.dispatch.on(\"elementMouseout\", function (e) {\n                    interactiveLayer.tooltip.hidden(true);\n                });\n            }\n            else {\n                multibar.dispatch.on('elementMouseover.tooltip', function (evt) {\n                    evt.value = chart.x()(evt.data);\n                    evt['series'] = {\n                        key: evt.data.key,\n                        value: chart.y()(evt.data),\n                        color: evt.color\n                    };\n                    tooltip.data(evt).hidden(false);\n                });\n                multibar.dispatch.on('elementMouseout.tooltip', function (evt) {\n                    tooltip.hidden(true);\n                });\n                multibar.dispatch.on('elementMousemove.tooltip', function (evt) {\n                    tooltip();\n                });\n            }\n        });\n        renderWatch.renderEnd('multibarchart immediate');\n        return chart;\n    }\n    //============================================================\n    // Expose Public Variables\n    //------------------------------------------------------------\n    // expose chart's sub-components\n    chart.dispatch = dispatch;\n    chart.multibar = multibar;\n    chart.legend = legend;\n    chart.controls = controls;\n    chart.xAxis = xAxis;\n    chart.yAxis = yAxis;\n    chart.state = state;\n    chart.tooltip = tooltip;\n    chart.interactiveLayer = interactiveLayer;\n    chart.options = nv.utils.optionsFunc.bind(chart);\n    chart._options = Object.create({}, {\n        // simple options, just get/set the necessary values\n        width: { get: function () { return width; }, set: function (_) { width = _; } },\n        height: { get: function () { return height; }, set: function (_) { height = _; } },\n        showLegend: { get: function () { return showLegend; }, set: function (_) { showLegend = _; } },\n        legendPosition: { get: function () { return legendPosition; }, set: function (_) { legendPosition = _; } },\n        showControls: { get: function () { return showControls; }, set: function (_) { showControls = _; } },\n        controlLabels: { get: function () { return controlLabels; }, set: function (_) { controlLabels = _; } },\n        showXAxis: { get: function () { return showXAxis; }, set: function (_) { showXAxis = _; } },\n        showYAxis: { get: function () { return showYAxis; }, set: function (_) { showYAxis = _; } },\n        defaultState: { get: function () { return defaultState; }, set: function (_) { defaultState = _; } },\n        noData: { get: function () { return noData; }, set: function (_) { noData = _; } },\n        reduceXTicks: { get: function () { return reduceXTicks; }, set: function (_) { reduceXTicks = _; } },\n        rotateLabels: { get: function () { return rotateLabels; }, set: function (_) { rotateLabels = _; } },\n        staggerLabels: { get: function () { return staggerLabels; }, set: function (_) { staggerLabels = _; } },\n        wrapLabels: { get: function () { return wrapLabels; }, set: function (_) { wrapLabels = !!_; } },\n        // options that require extra logic in the setter\n        margin: { get: function () { return margin; }, set: function (_) {\n                if (_.top !== undefined) {\n                    margin.top = _.top;\n                    marginTop = _.top;\n                }\n                margin.right = _.right !== undefined ? _.right : margin.right;\n                margin.bottom = _.bottom !== undefined ? _.bottom : margin.bottom;\n                margin.left = _.left !== undefined ? _.left : margin.left;\n            } },\n        duration: { get: function () { return duration; }, set: function (_) {\n                duration = _;\n                multibar.duration(duration);\n                xAxis.duration(duration);\n                yAxis.duration(duration);\n                renderWatch.reset(duration);\n            } },\n        color: { get: function () { return color; }, set: function (_) {\n                color = nv.utils.getColor(_);\n                legend.color(color);\n            } },\n        rightAlignYAxis: { get: function () { return rightAlignYAxis; }, set: function (_) {\n                rightAlignYAxis = _;\n                yAxis.orient(rightAlignYAxis ? 'right' : 'left');\n            } },\n        useInteractiveGuideline: { get: function () { return useInteractiveGuideline; }, set: function (_) {\n                useInteractiveGuideline = _;\n            } },\n        barColor: { get: function () { return multibar.barColor; }, set: function (_) {\n                multibar.barColor(_);\n                legend.color(function (d, i) { return d3.rgb('#ccc').darker(i * 1.5).toString(); });\n            } }\n    });\n    nv.utils.inheritOptions(chart, multibar);\n    nv.utils.initOptions(chart);\n    return chart;\n};\n","nv.models.multiBarHorizontal = function () {\n    \"use strict\";\n    //============================================================\n    // Public Variables with Default Settings\n    //------------------------------------------------------------\n    var margin = { top: 0, right: 0, bottom: 0, left: 0 }, width = 960, height = 500, id = Math.floor(Math.random() * 10000) //Create semi-unique ID in case user doesn't select one\n    , container = null, x = d3.scale.ordinal(), y = d3.scale.linear(), getX = function (d, _i) { return d.x; }, getY = function (d, _i) { return d.y; }, getYerr = function (d, _i) { return d.yErr; }, forceY = [0] // 0 is forced by default.. this makes sense for the majority of bar graphs... user can always do chart.forceY([]) to remove\n    , color = nv.utils.defaultColor(), barColor = null // adding the ability to set the color for each rather than the whole group\n    , disabled // used in conjunction with barColor to communicate from multiBarHorizontalChart what series are disabled\n    , stacked = false, showValues = false, valueStyle = function (_d, _i) { return 'fill: #333; stroke: rgba(0,0,0,0)'; }, valuePadding = 60, groupSpacing = 0.1, fillOpacity = 0.75, valueFormat = d3.format(',.2f'), xDomain, yDomain, xRange, yRange, duration = 250, dispatch = d3.dispatch('chartClick', 'elementClick', 'elementDblClick', 'elementMouseover', 'elementMouseout', 'elementMousemove', 'renderEnd');\n    //============================================================\n    // Private Variables\n    //------------------------------------------------------------\n    var x0, y0; //used to store previous scales\n    var renderWatch = nv.utils.renderWatch(dispatch, duration);\n    function chart(selection) {\n        renderWatch.reset();\n        selection.each(function (data) {\n            var availableWidth = width - margin.left - margin.right, availableHeight = height - margin.top - margin.bottom;\n            container = d3.select(this);\n            nv.utils.initSVG(container);\n            if (stacked)\n                data = d3.layout.stack()\n                    .offset('zero')\n                    .values(function (d) { return d.values; })\n                    .y(getY)(data);\n            //add series index and key to each data point for reference\n            data.forEach(function (series, i) {\n                series.values.forEach(function (point) {\n                    point.series = i;\n                    point.key = series.key;\n                });\n            });\n            // HACK for negative value stacking\n            if (stacked)\n                data[0].values.map(function (_d, i) {\n                    var posBase = 0, negBase = 0;\n                    data.map(function (d) {\n                        var f = d.values[i];\n                        f.size = Math.abs(f.y);\n                        if (f.y < 0) {\n                            f.y1 = negBase - f.size;\n                            negBase = negBase - f.size;\n                        }\n                        else {\n                            f.y1 = posBase;\n                            posBase = posBase + f.size;\n                        }\n                    });\n                });\n            // Setup Scales\n            // remap and flatten the data for use in calculating the scales' domains\n            var seriesData = (xDomain && yDomain) ? [] : // if we know xDomain and yDomain, no need to calculate\n                data.map(function (d) {\n                    return d.values.map(function (d, i) {\n                        return { x: getX(d, i), y: getY(d, i), y0: d.y0, y1: d.y1 };\n                    });\n                });\n            x.domain(xDomain || d3.merge(seriesData).map(function (d) { return d.x; }))\n                .rangeBands(xRange || [0, availableHeight], groupSpacing);\n            y.domain(yDomain || d3.extent(d3.merge(seriesData).map(function (d) { return stacked ? (d.y > 0 ? d.y1 + d.y : d.y1) : d.y; }).concat(forceY)));\n            if (showValues && !stacked)\n                y.range(yRange || [(y.domain()[0] < 0 ? valuePadding : 0), availableWidth - (y.domain()[1] > 0 ? valuePadding : 0)]);\n            else\n                y.range(yRange || [0, availableWidth]);\n            x0 = x0 || x;\n            y0 = y0 || d3.scale.linear().domain(y.domain()).range([y(0), y(0)]);\n            // Setup containers and skeleton of chart\n            var wrap = d3.select(this).selectAll('g.nv-wrap.nv-multibarHorizontal').data([data]);\n            var wrapEnter = wrap.enter().append('g').attr('class', 'nvd3 nv-wrap nv-multibarHorizontal');\n            var gEnter = wrapEnter.append('g');\n            gEnter.append('g').attr('class', 'nv-groups');\n            wrap.attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');\n            var groups = wrap.select('.nv-groups').selectAll('.nv-group')\n                .data(function (d) { return d; }, function (_d, i) { return i; });\n            groups.enter().append('g')\n                .style('stroke-opacity', 1e-6)\n                .style('fill-opacity', 1e-6);\n            groups.exit().watchTransition(renderWatch, 'multibarhorizontal: exit groups')\n                .style('stroke-opacity', 1e-6)\n                .style('fill-opacity', 1e-6)\n                .remove();\n            groups\n                .attr('class', function (_d, i) { return 'nv-group nv-series-' + i; })\n                .classed('hover', function (d) { return d.hover; })\n                .style('fill', function (d, i) { return color(d, i); })\n                .style('stroke', function (d, i) { return color(d, i); });\n            groups.watchTransition(renderWatch, 'multibarhorizontal: groups')\n                .style('stroke-opacity', 1)\n                .style('fill-opacity', fillOpacity);\n            var bars = groups.selectAll('g.nv-bar')\n                .data(function (d) { return d.values; });\n            bars.exit().remove();\n            var barsEnter = bars.enter().append('g')\n                .attr('transform', function (d, i, j) {\n                return 'translate(' + y0(stacked ? d.y0 : 0) + ',' + (stacked ? 0 : (j * x.rangeBand() / data.length) + x(getX(d, i))) + ')';\n            });\n            barsEnter.append('rect')\n                .attr('width', 0)\n                .attr('height', x.rangeBand() / (stacked ? 1 : data.length));\n            bars\n                .on('mouseover', function (d, i) {\n                d3.select(this).classed('hover', true);\n                dispatch.elementMouseover({\n                    data: d,\n                    index: i,\n                    color: d3.select(this).style(\"fill\")\n                });\n            })\n                .on('mouseout', function (d, i) {\n                d3.select(this).classed('hover', false);\n                dispatch.elementMouseout({\n                    data: d,\n                    index: i,\n                    color: d3.select(this).style(\"fill\")\n                });\n            })\n                .on('mouseout', function (d, i) {\n                dispatch.elementMouseout({\n                    data: d,\n                    index: i,\n                    color: d3.select(this).style(\"fill\")\n                });\n            })\n                .on('mousemove', function (d, i) {\n                dispatch.elementMousemove({\n                    data: d,\n                    index: i,\n                    color: d3.select(this).style(\"fill\")\n                });\n            })\n                .on('click', function (d, i) {\n                var element = this;\n                dispatch.elementClick({\n                    data: d,\n                    index: i,\n                    color: d3.select(this).style(\"fill\"),\n                    event: d3.event,\n                    element: element\n                });\n                d3.event.stopPropagation();\n            })\n                .on('dblclick', function (d, i) {\n                dispatch.elementDblClick({\n                    data: d,\n                    index: i,\n                    color: d3.select(this).style(\"fill\")\n                });\n                d3.event.stopPropagation();\n            });\n            if (getYerr(data[0], 0)) {\n                barsEnter.append('polyline');\n                bars.select('polyline')\n                    .attr('fill', 'none')\n                    .attr('points', function (d, i) {\n                    var xerr = getYerr(d, i), mid = 0.8 * x.rangeBand() / ((stacked ? 1 : data.length) * 2);\n                    xerr = xerr.length ? xerr : [-Math.abs(xerr), Math.abs(xerr)];\n                    xerr = xerr.map(function (e) { return y(e + ((getY(d, i) < 0) ? 0 : getY(d, i))) - y(0); });\n                    var a = [[xerr[0], -mid], [xerr[0], mid], [xerr[0], 0], [xerr[1], 0], [xerr[1], -mid], [xerr[1], mid]];\n                    return a.map(function (path) { return path.join(','); }).join(' ');\n                })\n                    .attr('transform', function (_d, _i) {\n                    var mid = x.rangeBand() / ((stacked ? 1 : data.length) * 2);\n                    return 'translate(0, ' + mid + ')';\n                });\n            }\n            barsEnter.append('text');\n            if (showValues) {\n                bars.select('text')\n                    .attr('text-anchor', function (d, i) {\n                    if (stacked) {\n                        return 'middle';\n                    }\n                    return getY(d, i) < 0 ? 'end' : 'start';\n                })\n                    .attr('y', function () {\n                    if (stacked) {\n                        return x.rangeBand() / 2;\n                    }\n                    return x.rangeBand() / (data.length * 2);\n                })\n                    .attr('dy', '.32em')\n                    .attr('style', function (d, i) { return valueStyle(d, i); })\n                    .text(function (d, i) {\n                    var t = valueFormat(getY(d, i)), yerr = getYerr(d, i);\n                    if (yerr === undefined)\n                        return t;\n                    if (!yerr.length)\n                        return t + '' + valueFormat(Math.abs(yerr));\n                    return t + '+' + valueFormat(Math.abs(yerr[1])) + '-' + valueFormat(Math.abs(yerr[0]));\n                });\n                bars.watchTransition(renderWatch, 'multibarhorizontal: bars')\n                    .select('text')\n                    .attr('x', function (d, i) {\n                    if (stacked) {\n                        return (Math.abs(y(getY(d, i) + d.y0) - y(d.y0)) || 0) / 2;\n                    }\n                    return getY(d, i) < 0 ? -4 : y(getY(d, i)) - y(0) + 4;\n                });\n            }\n            else {\n                bars.selectAll('text').text('');\n            }\n            bars\n                .attr('class', function (d, i) { return getY(d, i) < 0 ? 'nv-bar negative' : 'nv-bar positive'; });\n            if (barColor) {\n                if (!disabled)\n                    disabled = data.map(function () { return true; });\n                bars\n                    .style('fill', function (d, i, j) { return d3.rgb(barColor(d, i)).darker(disabled.map(function (_d, i) { return i; }).filter(function (_d, i) { return !disabled[i]; })[j]).toString(); })\n                    .style('stroke', function (d, i, j) { return d3.rgb(barColor(d, i)).darker(disabled.map(function (_d, i) { return i; }).filter(function (_d, i) { return !disabled[i]; })[j]).toString(); });\n            }\n            if (stacked)\n                bars.watchTransition(renderWatch, 'multibarhorizontal: bars')\n                    .attr('transform', function (d, i) {\n                    return 'translate(' + y(d.y1) + ',' + x(getX(d, i)) + ')';\n                })\n                    .select('rect')\n                    .attr('width', function (d, i) {\n                    return Math.abs(y(getY(d, i) + d.y0) - y(d.y0)) || 0;\n                })\n                    .attr('height', x.rangeBand());\n            else\n                bars.watchTransition(renderWatch, 'multibarhorizontal: bars')\n                    .attr('transform', function (d, i) {\n                    //TODO: stacked must be all positive or all negative, not both?\n                    var tx = (getY(d, i) < 0 ? y(getY(d, i)) : y(0));\n                    var ty = (d.series * x.rangeBand() / data.length + x(getX(d, i)));\n                    return \"translate(\" + tx + \", \" + ty + \")\";\n                })\n                    .select('rect')\n                    .attr('height', x.rangeBand() / data.length)\n                    .attr('width', function (d, i) {\n                    return Math.max(Math.abs(y(getY(d, i)) - y(0)), 1) || 0;\n                });\n            //store old scales for use in transitions on update\n            x0 = x.copy();\n            y0 = y.copy();\n        });\n        renderWatch.renderEnd('multibarHorizontal immediate');\n        return chart;\n    }\n    //============================================================\n    // Expose Public Variables\n    //------------------------------------------------------------\n    chart.dispatch = dispatch;\n    chart.options = nv.utils.optionsFunc.bind(chart);\n    chart._options = Object.create({}, {\n        // simple options, just get/set the necessary values\n        width: { get: function () { return width; }, set: function (_) { width = _; } },\n        height: { get: function () { return height; }, set: function (_) { height = _; } },\n        x: { get: function () { return getX; }, set: function (_) { getX = _; } },\n        y: { get: function () { return getY; }, set: function (_) { getY = _; } },\n        yErr: { get: function () { return getYerr; }, set: function (_) { getYerr = _; } },\n        xScale: { get: function () { return x; }, set: function (_) { x = _; } },\n        yScale: { get: function () { return y; }, set: function (_) { y = _; } },\n        xDomain: { get: function () { return xDomain; }, set: function (_) { xDomain = _; } },\n        yDomain: { get: function () { return yDomain; }, set: function (_) { yDomain = _; } },\n        xRange: { get: function () { return xRange; }, set: function (_) { xRange = _; } },\n        yRange: { get: function () { return yRange; }, set: function (_) { yRange = _; } },\n        forceY: { get: function () { return forceY; }, set: function (_) { forceY = _; } },\n        stacked: { get: function () { return stacked; }, set: function (_) { stacked = _; } },\n        showValues: { get: function () { return showValues; }, set: function (_) { showValues = _; } },\n        valueStyle: { get: function () { return valueStyle; }, set: function (_) { valueStyle = _; } },\n        disabled: { get: function () { return disabled; }, set: function (_) { disabled = _; } },\n        id: { get: function () { return id; }, set: function (_) { id = _; } },\n        valueFormat: { get: function () { return valueFormat; }, set: function (_) { valueFormat = _; } },\n        valuePadding: { get: function () { return valuePadding; }, set: function (_) { valuePadding = _; } },\n        groupSpacing: { get: function () { return groupSpacing; }, set: function (_) { groupSpacing = _; } },\n        fillOpacity: { get: function () { return fillOpacity; }, set: function (_) { fillOpacity = _; } },\n        // options that require extra logic in the setter\n        margin: {\n            get: function () { return margin; }, set: function (_) {\n                margin.top = _.top !== undefined ? _.top : margin.top;\n                margin.right = _.right !== undefined ? _.right : margin.right;\n                margin.bottom = _.bottom !== undefined ? _.bottom : margin.bottom;\n                margin.left = _.left !== undefined ? _.left : margin.left;\n            }\n        },\n        duration: {\n            get: function () { return duration; }, set: function (_) {\n                duration = _;\n                renderWatch.reset(duration);\n            }\n        },\n        color: {\n            get: function () { return color; }, set: function (_) {\n                color = nv.utils.getColor(_);\n            }\n        },\n        barColor: {\n            get: function () { return barColor; }, set: function (_) {\n                barColor = _ ? nv.utils.getColor(_) : null;\n            }\n        }\n    });\n    nv.utils.initOptions(chart);\n    return chart;\n};\n","nv.models.multiBarHorizontalChart = function () {\n    \"use strict\";\n    //============================================================\n    // Public Variables with Default Settings\n    //------------------------------------------------------------\n    var multibar = nv.models.multiBarHorizontal(), xAxis = nv.models.axis(), yAxis = nv.models.axis(), legend = nv.models.legend().height(30), controls = nv.models.legend().height(30), tooltip = nv.models.tooltip();\n    var margin = { top: 30, right: 20, bottom: 50, left: 60 }, marginTop = null, width = null, height = null, color = nv.utils.defaultColor(), showControls = true, controlsPosition = 'top', controlLabels = {}, showLegend = true, legendPosition = 'top', showXAxis = true, showYAxis = true, stacked = false, x //can be accessed via chart.xScale()\n    , y //can be accessed via chart.yScale()\n    , state = nv.utils.state(), defaultState = null, noData = null, dispatch = d3.dispatch('stateChange', 'changeState', 'renderEnd'), controlWidth = function () { return showControls ? 180 : 0; }, duration = 250;\n    state.stacked = false; // DEPRECATED Maintained for backward compatibility\n    multibar.stacked(stacked);\n    xAxis\n        .orient('left')\n        .tickPadding(5)\n        .showMaxMin(false)\n        .tickFormat(function (d) { return d; });\n    yAxis\n        .orient('bottom')\n        .tickFormat(d3.format(',.1f'));\n    tooltip\n        .duration(0)\n        .valueFormatter(function (d, i) {\n        return yAxis.tickFormat()(d, i);\n    })\n        .headerFormatter(function (d, i) {\n        return xAxis.tickFormat()(d, i);\n    });\n    controls.updateState(false);\n    //============================================================\n    // Private Variables\n    //------------------------------------------------------------\n    var stateGetter = function (data) {\n        return function () {\n            return {\n                active: data.map(function (d) { return !d.disabled; }),\n                stacked: stacked\n            };\n        };\n    };\n    var stateSetter = function (data) {\n        return function (state) {\n            if (state.stacked !== undefined)\n                stacked = state.stacked;\n            if (state.active !== undefined)\n                data.forEach(function (series, i) {\n                    series.disabled = !state.active[i];\n                });\n        };\n    };\n    var renderWatch = nv.utils.renderWatch(dispatch, duration);\n    function chart(selection) {\n        renderWatch.reset();\n        renderWatch.models(multibar);\n        if (showXAxis)\n            renderWatch.models(xAxis);\n        if (showYAxis)\n            renderWatch.models(yAxis);\n        selection.each(function (data) {\n            var container = d3.select(this), that = this;\n            nv.utils.initSVG(container);\n            var availableWidth = nv.utils.availableWidth(width, container, margin), availableHeight = nv.utils.availableHeight(height, container, margin);\n            chart.update = function () { container.transition().duration(duration).call(chart); };\n            chart.container = this;\n            stacked = multibar.stacked();\n            state\n                .setter(stateSetter(data), chart.update)\n                .getter(stateGetter(data))\n                .update();\n            // DEPRECATED set state.disableddisabled\n            state.disabled = data.map(function (d) { return !!d.disabled; });\n            if (!defaultState) {\n                var key;\n                defaultState = {};\n                for (key in state) {\n                    if (state[key] instanceof Array)\n                        defaultState[key] = state[key].slice(0);\n                    else\n                        defaultState[key] = state[key];\n                }\n            }\n            // Display No Data message if there's nothing to show.\n            if (!data || !data.length || !data.filter(function (d) { return d.values.length; }).length) {\n                nv.utils.noData(chart, container);\n                return chart;\n            }\n            else {\n                container.selectAll('.nv-noData').remove();\n            }\n            // Setup Scales\n            x = multibar.xScale();\n            y = multibar.yScale().clamp(true);\n            // Setup containers and skeleton of chart\n            var wrap = container.selectAll('g.nv-wrap.nv-multiBarHorizontalChart').data([data]);\n            var gEnter = wrap.enter().append('g').attr('class', 'nvd3 nv-wrap nv-multiBarHorizontalChart').append('g');\n            var g = wrap.select('g');\n            gEnter.append('g').attr('class', 'nv-x nv-axis');\n            gEnter.append('g').attr('class', 'nv-y nv-axis')\n                .append('g').attr('class', 'nv-zeroLine')\n                .append('line');\n            gEnter.append('g').attr('class', 'nv-barsWrap');\n            gEnter.append('g').attr('class', 'nv-legendWrap');\n            gEnter.append('g').attr('class', 'nv-controlsWrap');\n            // Legend\n            if (!showLegend) {\n                g.select('.nv-legendWrap').selectAll('*').remove();\n            }\n            else {\n                legend.width(availableWidth - controlWidth());\n                g.select('.nv-legendWrap')\n                    .datum(data)\n                    .call(legend);\n                if (legendPosition === 'bottom') {\n                    margin.bottom = xAxis.height() + legend.height();\n                    availableHeight = nv.utils.availableHeight(height, container, margin);\n                    g.select('.nv-legendWrap')\n                        .attr('transform', 'translate(' + controlWidth() + ',' + (availableHeight + xAxis.height()) + ')');\n                }\n                else if (legendPosition === 'top') {\n                    if (!marginTop && legend.height() !== margin.top) {\n                        margin.top = legend.height();\n                        availableHeight = nv.utils.availableHeight(height, container, margin);\n                    }\n                    g.select('.nv-legendWrap')\n                        .attr('transform', 'translate(' + controlWidth() + ',' + (-margin.top) + ')');\n                }\n            }\n            // Controls\n            if (!showControls) {\n                g.select('.nv-controlsWrap').selectAll('*').remove();\n            }\n            else {\n                var controlsData = [\n                    { key: controlLabels.grouped || 'Grouped', disabled: multibar.stacked() },\n                    { key: controlLabels.stacked || 'Stacked', disabled: !multibar.stacked() }\n                ];\n                controls.width(controlWidth()).color(['#444', '#444', '#444']);\n                if (controlsPosition === 'bottom') {\n                    margin.bottom = xAxis.height() + legend.height();\n                    availableHeight = nv.utils.availableHeight(height, container, margin);\n                    g.select('.nv-controlsWrap')\n                        .datum(controlsData)\n                        .attr('transform', 'translate(0,' + (availableHeight + xAxis.height()) + ')')\n                        .call(controls);\n                }\n                else if (controlsPosition === 'top') {\n                    g.select('.nv-controlsWrap')\n                        .datum(controlsData)\n                        .attr('transform', 'translate(0,' + (-margin.top) + ')')\n                        .call(controls);\n                }\n            }\n            wrap.attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');\n            // Main Chart Component(s)\n            multibar\n                .disabled(data.map(function (series) { return series.disabled; }))\n                .width(availableWidth)\n                .height(availableHeight)\n                .color(data.map(function (d, i) {\n                return d.color || color(d, i);\n            }).filter(function (d, i) { return !data[i].disabled; }));\n            var barsWrap = g.select('.nv-barsWrap')\n                .datum(data.filter(function (d) { return !d.disabled; }));\n            barsWrap.transition().call(multibar);\n            // Setup Axes\n            if (showXAxis) {\n                xAxis\n                    .scale(x)\n                    ._ticks(nv.utils.calcTicksY(availableHeight / 24, data))\n                    .tickSize(-availableWidth, 0);\n                g.select('.nv-x.nv-axis').call(xAxis);\n                var xTicks = g.select('.nv-x.nv-axis').selectAll('g');\n                xTicks\n                    .selectAll('line, text');\n            }\n            if (showYAxis) {\n                yAxis\n                    .scale(y)\n                    ._ticks(nv.utils.calcTicksX(availableWidth / 100, data))\n                    .tickSize(-availableHeight, 0);\n                g.select('.nv-y.nv-axis')\n                    .attr('transform', 'translate(0,' + availableHeight + ')');\n                g.select('.nv-y.nv-axis').call(yAxis);\n            }\n            // Zero line\n            g.select(\".nv-zeroLine line\")\n                .attr(\"x1\", y(0))\n                .attr(\"x2\", y(0))\n                .attr(\"y1\", 0)\n                .attr(\"y2\", -availableHeight);\n            //============================================================\n            // Event Handling/Dispatching (in chart's scope)\n            //------------------------------------------------------------\n            legend.dispatch.on('stateChange', function (newState) {\n                for (var key in newState)\n                    state[key] = newState[key];\n                dispatch.stateChange(state);\n                chart.update();\n            });\n            controls.dispatch.on('legendClick', function (d, i) {\n                if (!d.disabled)\n                    return;\n                controlsData = controlsData.map(function (s) {\n                    s.disabled = true;\n                    return s;\n                });\n                d.disabled = false;\n                switch (d.key) {\n                    case 'Grouped':\n                    case controlLabels.grouped:\n                        multibar.stacked(false);\n                        break;\n                    case 'Stacked':\n                    case controlLabels.stacked:\n                        multibar.stacked(true);\n                        break;\n                }\n                state.stacked = multibar.stacked();\n                dispatch.stateChange(state);\n                stacked = multibar.stacked();\n                chart.update();\n            });\n            // Update chart from a state object passed to event handler\n            dispatch.on('changeState', function (e) {\n                if (typeof e.disabled !== 'undefined') {\n                    data.forEach(function (series, i) {\n                        series.disabled = e.disabled[i];\n                    });\n                    state.disabled = e.disabled;\n                }\n                if (typeof e.stacked !== 'undefined') {\n                    multibar.stacked(e.stacked);\n                    state.stacked = e.stacked;\n                    stacked = e.stacked;\n                }\n                chart.update();\n            });\n        });\n        renderWatch.renderEnd('multibar horizontal chart immediate');\n        return chart;\n    }\n    //============================================================\n    // Event Handling/Dispatching (out of chart's scope)\n    //------------------------------------------------------------\n    multibar.dispatch.on('elementMouseover.tooltip', function (evt) {\n        evt.value = chart.x()(evt.data);\n        evt['series'] = {\n            key: evt.data.key,\n            value: chart.y()(evt.data),\n            color: evt.color\n        };\n        tooltip.data(evt).hidden(false);\n    });\n    multibar.dispatch.on('elementMouseout.tooltip', function (evt) {\n        tooltip.hidden(true);\n    });\n    multibar.dispatch.on('elementMousemove.tooltip', function (evt) {\n        tooltip();\n    });\n    //============================================================\n    // Expose Public Variables\n    //------------------------------------------------------------\n    // expose chart's sub-components\n    chart.dispatch = dispatch;\n    chart.multibar = multibar;\n    chart.legend = legend;\n    chart.controls = controls;\n    chart.xAxis = xAxis;\n    chart.yAxis = yAxis;\n    chart.state = state;\n    chart.tooltip = tooltip;\n    chart.options = nv.utils.optionsFunc.bind(chart);\n    chart._options = Object.create({}, {\n        // simple options, just get/set the necessary values\n        width: { get: function () { return width; }, set: function (_) { width = _; } },\n        height: { get: function () { return height; }, set: function (_) { height = _; } },\n        showLegend: { get: function () { return showLegend; }, set: function (_) { showLegend = _; } },\n        legendPosition: { get: function () { return legendPosition; }, set: function (_) { legendPosition = _; } },\n        controlsPosition: { get: function () { return controlsPosition; }, set: function (_) { controlsPosition = _; } },\n        showControls: { get: function () { return showControls; }, set: function (_) { showControls = _; } },\n        controlLabels: { get: function () { return controlLabels; }, set: function (_) { controlLabels = _; } },\n        showXAxis: { get: function () { return showXAxis; }, set: function (_) { showXAxis = _; } },\n        showYAxis: { get: function () { return showYAxis; }, set: function (_) { showYAxis = _; } },\n        defaultState: { get: function () { return defaultState; }, set: function (_) { defaultState = _; } },\n        noData: { get: function () { return noData; }, set: function (_) { noData = _; } },\n        // options that require extra logic in the setter\n        margin: { get: function () { return margin; }, set: function (_) {\n                if (_.top !== undefined) {\n                    margin.top = _.top;\n                    marginTop = _.top;\n                }\n                margin.right = _.right !== undefined ? _.right : margin.right;\n                margin.bottom = _.bottom !== undefined ? _.bottom : margin.bottom;\n                margin.left = _.left !== undefined ? _.left : margin.left;\n            } },\n        duration: { get: function () { return duration; }, set: function (_) {\n                duration = _;\n                renderWatch.reset(duration);\n                multibar.duration(duration);\n                xAxis.duration(duration);\n                yAxis.duration(duration);\n            } },\n        color: { get: function () { return color; }, set: function (_) {\n                color = nv.utils.getColor(_);\n                legend.color(color);\n            } },\n        barColor: { get: function () { return multibar.barColor; }, set: function (_) {\n                multibar.barColor(_);\n                legend.color(function (d, i) { return d3.rgb('#ccc').darker(i * 1.5).toString(); });\n            } }\n    });\n    nv.utils.inheritOptions(chart, multibar);\n    nv.utils.initOptions(chart);\n    return chart;\n};\n","nv.models.multiChart = function () {\n    \"use strict\";\n    //============================================================\n    // Public Variables with Default Settings\n    //------------------------------------------------------------\n    var margin = { top: 30, right: 20, bottom: 50, left: 60 }, marginTop = null, color = nv.utils.defaultColor(), width = null, height = null, showLegend = true, noData = null, yDomain1, yDomain2, getX = function (d) { return d.x; }, getY = function (d) { return d.y; }, interpolate = 'linear', useVoronoi = true, interactiveLayer = nv.interactiveGuideline(), useInteractiveGuideline = false, legendRightAxisHint = ' (right axis)', duration = 250;\n    //============================================================\n    // Private Variables\n    //------------------------------------------------------------\n    var x = d3.scale.linear(), yScale1 = d3.scale.linear(), yScale2 = d3.scale.linear(), lines1 = nv.models.line().yScale(yScale1).duration(duration), lines2 = nv.models.line().yScale(yScale2).duration(duration), scatters1 = nv.models.scatter().yScale(yScale1).duration(duration), scatters2 = nv.models.scatter().yScale(yScale2).duration(duration), bars1 = nv.models.multiBar().stacked(false).yScale(yScale1).duration(duration), bars2 = nv.models.multiBar().stacked(false).yScale(yScale2).duration(duration), stack1 = nv.models.stackedArea().yScale(yScale1).duration(duration), stack2 = nv.models.stackedArea().yScale(yScale2).duration(duration), xAxis = nv.models.axis().scale(x).orient('bottom').tickPadding(5).duration(duration), yAxis1 = nv.models.axis().scale(yScale1).orient('left').duration(duration), yAxis2 = nv.models.axis().scale(yScale2).orient('right').duration(duration), legend = nv.models.legend().height(30), tooltip = nv.models.tooltip(), dispatch = d3.dispatch();\n    var charts = [lines1, lines2, scatters1, scatters2, bars1, bars2, stack1, stack2];\n    function chart(selection) {\n        selection.each(function (data) {\n            var container = d3.select(this), that = this;\n            nv.utils.initSVG(container);\n            chart.update = function () { container.transition().call(chart); };\n            chart.container = this;\n            var availableWidth = nv.utils.availableWidth(width, container, margin), availableHeight = nv.utils.availableHeight(height, container, margin);\n            var dataLines1 = data.filter(function (d) { return d.type == 'line' && d.yAxis == 1; });\n            var dataLines2 = data.filter(function (d) { return d.type == 'line' && d.yAxis == 2; });\n            var dataScatters1 = data.filter(function (d) { return d.type == 'scatter' && d.yAxis == 1; });\n            var dataScatters2 = data.filter(function (d) { return d.type == 'scatter' && d.yAxis == 2; });\n            var dataBars1 = data.filter(function (d) { return d.type == 'bar' && d.yAxis == 1; });\n            var dataBars2 = data.filter(function (d) { return d.type == 'bar' && d.yAxis == 2; });\n            var dataStack1 = data.filter(function (d) { return d.type == 'area' && d.yAxis == 1; });\n            var dataStack2 = data.filter(function (d) { return d.type == 'area' && d.yAxis == 2; });\n            // Display noData message if there's nothing to show.\n            if (!data || !data.length || !data.filter(function (d) { return d.values.length; }).length) {\n                nv.utils.noData(chart, container);\n                return chart;\n            }\n            else {\n                container.selectAll('.nv-noData').remove();\n            }\n            var series1 = data.filter(function (d) { return !d.disabled && d.yAxis == 1; })\n                .map(function (d) {\n                return d.values.map(function (d, i) {\n                    return { x: getX(d), y: getY(d) };\n                });\n            });\n            var series2 = data.filter(function (d) { return !d.disabled && d.yAxis == 2; })\n                .map(function (d) {\n                return d.values.map(function (d, i) {\n                    return { x: getX(d), y: getY(d) };\n                });\n            });\n            x.domain(d3.extent(d3.merge(series1.concat(series2)), function (d) { return d.x; }))\n                .range([0, availableWidth]);\n            var wrap = container.selectAll('g.wrap.multiChart').data([data]);\n            var gEnter = wrap.enter().append('g').attr('class', 'wrap nvd3 multiChart').append('g');\n            gEnter.append('g').attr('class', 'nv-x nv-axis');\n            gEnter.append('g').attr('class', 'nv-y1 nv-axis');\n            gEnter.append('g').attr('class', 'nv-y2 nv-axis');\n            gEnter.append('g').attr('class', 'stack1Wrap');\n            gEnter.append('g').attr('class', 'stack2Wrap');\n            gEnter.append('g').attr('class', 'bars1Wrap');\n            gEnter.append('g').attr('class', 'bars2Wrap');\n            gEnter.append('g').attr('class', 'scatters1Wrap');\n            gEnter.append('g').attr('class', 'scatters2Wrap');\n            gEnter.append('g').attr('class', 'lines1Wrap');\n            gEnter.append('g').attr('class', 'lines2Wrap');\n            gEnter.append('g').attr('class', 'legendWrap');\n            gEnter.append('g').attr('class', 'nv-interactive');\n            var g = wrap.select('g');\n            var color_array = data.map(function (d, i) {\n                return data[i].color || color(d, i);\n            });\n            // Legend\n            if (!showLegend) {\n                g.select('.legendWrap').selectAll('*').remove();\n            }\n            else {\n                var legendWidth = legend.align() ? availableWidth / 2 : availableWidth;\n                var legendXPosition = legend.align() ? legendWidth : 0;\n                legend.width(legendWidth);\n                legend.color(color_array);\n                g.select('.legendWrap')\n                    .datum(data.map(function (series) {\n                    series.originalKey = series.originalKey === undefined ? series.key : series.originalKey;\n                    series.key = series.originalKey + (series.yAxis == 1 ? '' : legendRightAxisHint);\n                    return series;\n                }))\n                    .call(legend);\n                if (!marginTop && legend.height() !== margin.top) {\n                    margin.top = legend.height();\n                    availableHeight = nv.utils.availableHeight(height, container, margin);\n                }\n                g.select('.legendWrap')\n                    .attr('transform', 'translate(' + legendXPosition + ',' + (-margin.top) + ')');\n            }\n            lines1\n                .width(availableWidth)\n                .height(availableHeight)\n                .interpolate(interpolate)\n                .color(color_array.filter(function (d, i) { return !data[i].disabled && data[i].yAxis == 1 && data[i].type == 'line'; }));\n            lines2\n                .width(availableWidth)\n                .height(availableHeight)\n                .interpolate(interpolate)\n                .color(color_array.filter(function (d, i) { return !data[i].disabled && data[i].yAxis == 2 && data[i].type == 'line'; }));\n            scatters1\n                .width(availableWidth)\n                .height(availableHeight)\n                .color(color_array.filter(function (d, i) { return !data[i].disabled && data[i].yAxis == 1 && data[i].type == 'scatter'; }));\n            scatters2\n                .width(availableWidth)\n                .height(availableHeight)\n                .color(color_array.filter(function (d, i) { return !data[i].disabled && data[i].yAxis == 2 && data[i].type == 'scatter'; }));\n            bars1\n                .width(availableWidth)\n                .height(availableHeight)\n                .color(color_array.filter(function (d, i) { return !data[i].disabled && data[i].yAxis == 1 && data[i].type == 'bar'; }));\n            bars2\n                .width(availableWidth)\n                .height(availableHeight)\n                .color(color_array.filter(function (d, i) { return !data[i].disabled && data[i].yAxis == 2 && data[i].type == 'bar'; }));\n            stack1\n                .width(availableWidth)\n                .height(availableHeight)\n                .interpolate(interpolate)\n                .color(color_array.filter(function (d, i) { return !data[i].disabled && data[i].yAxis == 1 && data[i].type == 'area'; }));\n            stack2\n                .width(availableWidth)\n                .height(availableHeight)\n                .interpolate(interpolate)\n                .color(color_array.filter(function (d, i) { return !data[i].disabled && data[i].yAxis == 2 && data[i].type == 'area'; }));\n            g.attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');\n            var lines1Wrap = g.select('.lines1Wrap')\n                .datum(dataLines1.filter(function (d) { return !d.disabled; }));\n            var scatters1Wrap = g.select('.scatters1Wrap')\n                .datum(dataScatters1.filter(function (d) { return !d.disabled; }));\n            var bars1Wrap = g.select('.bars1Wrap')\n                .datum(dataBars1.filter(function (d) { return !d.disabled; }));\n            var stack1Wrap = g.select('.stack1Wrap')\n                .datum(dataStack1.filter(function (d) { return !d.disabled; }));\n            var lines2Wrap = g.select('.lines2Wrap')\n                .datum(dataLines2.filter(function (d) { return !d.disabled; }));\n            var scatters2Wrap = g.select('.scatters2Wrap')\n                .datum(dataScatters2.filter(function (d) { return !d.disabled; }));\n            var bars2Wrap = g.select('.bars2Wrap')\n                .datum(dataBars2.filter(function (d) { return !d.disabled; }));\n            var stack2Wrap = g.select('.stack2Wrap')\n                .datum(dataStack2.filter(function (d) { return !d.disabled; }));\n            var extraValue1BarStacked = [];\n            if (bars1.stacked() && dataBars1.length) {\n                var extraValue1BarStacked = dataBars1.filter(function (d) { return !d.disabled; }).map(function (a) { return a.values; });\n                if (extraValue1BarStacked.length > 0)\n                    extraValue1BarStacked = extraValue1BarStacked.reduce(function (a, b) {\n                        return a.map(function (aVal, i) { return { x: aVal.x, y: aVal.y + b[i].y }; });\n                    });\n            }\n            if (dataBars1.length) {\n                extraValue1BarStacked.push({ x: 0, y: 0 });\n            }\n            var extraValue2BarStacked = [];\n            if (bars2.stacked() && dataBars2.length) {\n                var extraValue2BarStacked = dataBars2.filter(function (d) { return !d.disabled; }).map(function (a) { return a.values; });\n                if (extraValue2BarStacked.length > 0)\n                    extraValue2BarStacked = extraValue2BarStacked.reduce(function (a, b) {\n                        return a.map(function (aVal, i) { return { x: aVal.x, y: aVal.y + b[i].y }; });\n                    });\n            }\n            if (dataBars2.length) {\n                extraValue2BarStacked.push({ x: 0, y: 0 });\n            }\n            yScale1.domain(yDomain1 || d3.extent(d3.merge(series1).concat(extraValue1BarStacked), function (d) { return d.y; }))\n                .range([0, availableHeight]);\n            yScale2.domain(yDomain2 || d3.extent(d3.merge(series2).concat(extraValue2BarStacked), function (d) { return d.y; }))\n                .range([0, availableHeight]);\n            lines1.yDomain(yScale1.domain());\n            scatters1.yDomain(yScale1.domain());\n            bars1.yDomain(yScale1.domain());\n            stack1.yDomain(yScale1.domain());\n            lines2.yDomain(yScale2.domain());\n            scatters2.yDomain(yScale2.domain());\n            bars2.yDomain(yScale2.domain());\n            stack2.yDomain(yScale2.domain());\n            if (dataStack1.length) {\n                d3.transition(stack1Wrap).call(stack1);\n            }\n            if (dataStack2.length) {\n                d3.transition(stack2Wrap).call(stack2);\n            }\n            if (dataBars1.length) {\n                d3.transition(bars1Wrap).call(bars1);\n            }\n            if (dataBars2.length) {\n                d3.transition(bars2Wrap).call(bars2);\n            }\n            if (dataLines1.length) {\n                d3.transition(lines1Wrap).call(lines1);\n            }\n            if (dataLines2.length) {\n                d3.transition(lines2Wrap).call(lines2);\n            }\n            if (dataScatters1.length) {\n                d3.transition(scatters1Wrap).call(scatters1);\n            }\n            if (dataScatters2.length) {\n                d3.transition(scatters2Wrap).call(scatters2);\n            }\n            xAxis\n                ._ticks(nv.utils.calcTicksX(availableWidth / 100, data))\n                .tickSize(-availableHeight, 0);\n            g.select('.nv-x.nv-axis')\n                .attr('transform', 'translate(0,' + availableHeight + ')');\n            d3.transition(g.select('.nv-x.nv-axis'))\n                .call(xAxis);\n            yAxis1\n                ._ticks(nv.utils.calcTicksY(availableHeight / 36, data))\n                .tickSize(-availableWidth, 0);\n            d3.transition(g.select('.nv-y1.nv-axis'))\n                .call(yAxis1);\n            yAxis2\n                ._ticks(nv.utils.calcTicksY(availableHeight / 36, data))\n                .tickSize(-availableWidth, 0);\n            d3.transition(g.select('.nv-y2.nv-axis'))\n                .call(yAxis2);\n            g.select('.nv-y1.nv-axis')\n                .classed('nv-disabled', series1.length ? false : true)\n                .attr('transform', 'translate(' + x.range()[0] + ',0)');\n            g.select('.nv-y2.nv-axis')\n                .classed('nv-disabled', series2.length ? false : true)\n                .attr('transform', 'translate(' + x.range()[1] + ',0)');\n            legend.dispatch.on('stateChange', function (newState) {\n                chart.update();\n            });\n            if (useInteractiveGuideline) {\n                interactiveLayer\n                    .width(availableWidth)\n                    .height(availableHeight)\n                    .margin({ left: margin.left, top: margin.top })\n                    .svgContainer(container)\n                    .xScale(x);\n                wrap.select(\".nv-interactive\").call(interactiveLayer);\n            }\n            //============================================================\n            // Event Handling/Dispatching\n            //------------------------------------------------------------\n            function mouseover_line(evt) {\n                var yaxis = evt.series.yAxis === 2 ? yAxis2 : yAxis1;\n                evt.value = evt.point.x;\n                evt.series = {\n                    value: evt.point.y,\n                    color: evt.point.color,\n                    key: evt.series.key\n                };\n                tooltip\n                    .duration(0)\n                    .headerFormatter(function (d, i) {\n                    return xAxis.tickFormat()(d, i);\n                })\n                    .valueFormatter(function (d, i) {\n                    return yaxis.tickFormat()(d, i);\n                })\n                    .data(evt)\n                    .hidden(false);\n            }\n            function mouseover_scatter(evt) {\n                var yaxis = evt.series.yAxis === 2 ? yAxis2 : yAxis1;\n                evt.value = evt.point.x;\n                evt.series = {\n                    value: evt.point.y,\n                    color: evt.point.color,\n                    key: evt.series.key\n                };\n                tooltip\n                    .duration(100)\n                    .headerFormatter(function (d, i) {\n                    return xAxis.tickFormat()(d, i);\n                })\n                    .valueFormatter(function (d, i) {\n                    return yaxis.tickFormat()(d, i);\n                })\n                    .data(evt)\n                    .hidden(false);\n            }\n            function mouseover_stack(evt) {\n                var yaxis = evt.series.yAxis === 2 ? yAxis2 : yAxis1;\n                evt.point['x'] = stack1.x()(evt.point);\n                evt.point['y'] = stack1.y()(evt.point);\n                tooltip\n                    .duration(0)\n                    .headerFormatter(function (d, i) {\n                    return xAxis.tickFormat()(d, i);\n                })\n                    .valueFormatter(function (d, i) {\n                    return yaxis.tickFormat()(d, i);\n                })\n                    .data(evt)\n                    .hidden(false);\n            }\n            function mouseover_bar(evt) {\n                var yaxis = evt.series.yAxis === 2 ? yAxis2 : yAxis1;\n                evt.value = bars1.x()(evt.data);\n                evt['series'] = {\n                    value: bars1.y()(evt.data),\n                    color: evt.color,\n                    key: evt.data.key\n                };\n                tooltip\n                    .duration(0)\n                    .headerFormatter(function (d, i) {\n                    return xAxis.tickFormat()(d, i);\n                })\n                    .valueFormatter(function (d, i) {\n                    return yaxis.tickFormat()(d, i);\n                })\n                    .data(evt)\n                    .hidden(false);\n            }\n            function clearHighlights() {\n                for (var i = 0, il = charts.length; i < il; i++) {\n                    var chart = charts[i];\n                    try {\n                        chart.clearHighlights();\n                    }\n                    catch (e) { }\n                }\n            }\n            function highlightPoint(series, pointIndex, b, pointYValue) {\n                var chartMap = {\n                    'line': {\n                        'yAxis1': {\n                            chart: lines1,\n                            data: dataLines1\n                        },\n                        'yAxis2': {\n                            chart: lines2,\n                            data: dataLines2\n                        }\n                    },\n                    'scatter': {\n                        'yAxis1': {\n                            chart: scatters1,\n                            data: dataScatters1\n                        },\n                        'yAxis2': {\n                            chart: scatters2,\n                            data: dataScatters2\n                        }\n                    },\n                    'bar': {\n                        'yAxis1': {\n                            chart: bars1,\n                            data: dataBars1\n                        },\n                        'yAxis2': {\n                            chart: bars2,\n                            data: dataBars2\n                        }\n                    },\n                    'area': {\n                        'yAxis1': {\n                            chart: stack1,\n                            data: dataStack1\n                        },\n                        'yAxis2': {\n                            chart: stack2,\n                            data: dataStack2\n                        }\n                    }\n                };\n                var relevantChart = chartMap[series.type]['yAxis' + series.yAxis].chart;\n                var relevantDatasets = chartMap[series.type]['yAxis' + series.yAxis].data;\n                var seriesIndex = relevantDatasets.reduce(function (seriesIndex, dataSet, i) {\n                    return dataSet.key === series.key ? i : seriesIndex;\n                }, 0);\n                try {\n                    relevantChart.highlightPoint(seriesIndex, pointIndex, b, pointYValue);\n                }\n                catch (e) { }\n            }\n            if (useInteractiveGuideline) {\n                interactiveLayer.dispatch.on('elementMousemove', function (e) {\n                    clearHighlights();\n                    var singlePoint, pointIndex, pointXLocation, allData = [];\n                    data\n                        .filter(function (series, i) {\n                        series.seriesIndex = i;\n                        return !series.disabled;\n                    })\n                        .forEach(function (series, i) {\n                        var extent = x.domain();\n                        var currentValues = series.values.filter(function (d, i) {\n                            return chart.x()(d, i) >= extent[0] && chart.x()(d, i) <= extent[1];\n                        });\n                        pointIndex = nv.interactiveBisect(currentValues, e.pointXValue, chart.x());\n                        var point = currentValues[pointIndex];\n                        var pointYValue = chart.y()(point, pointIndex);\n                        if (pointYValue !== null && !isNaN(pointYValue) && !series.noHighlightSeries) {\n                            highlightPoint(series, pointIndex, true);\n                        }\n                        if (point === undefined)\n                            return;\n                        if (singlePoint === undefined)\n                            singlePoint = point;\n                        if (pointXLocation === undefined)\n                            pointXLocation = x(chart.x()(point, pointIndex));\n                        allData.push({\n                            key: series.key,\n                            value: pointYValue,\n                            color: color(series, series.seriesIndex),\n                            data: point,\n                            yAxis: series.yAxis == 2 ? yAxis2 : yAxis1\n                        });\n                    });\n                    var defaultValueFormatter = function (d, i) {\n                        var yAxis = allData[i].yAxis;\n                        return d == null ? \"N/A\" : yAxis.tickFormat()(d);\n                    };\n                    interactiveLayer.tooltip\n                        .headerFormatter(function (d, i) {\n                        return xAxis.tickFormat()(d, i);\n                    })\n                        .valueFormatter(interactiveLayer.tooltip.valueFormatter() || defaultValueFormatter)\n                        .data({\n                        value: chart.x()(singlePoint, pointIndex),\n                        index: pointIndex,\n                        series: allData\n                    })();\n                    interactiveLayer.renderGuideLine(pointXLocation);\n                });\n                interactiveLayer.dispatch.on(\"elementMouseout\", function (e) {\n                    clearHighlights();\n                });\n            }\n            else {\n                lines1.dispatch.on('elementMouseover.tooltip', mouseover_line);\n                lines2.dispatch.on('elementMouseover.tooltip', mouseover_line);\n                lines1.dispatch.on('elementMouseout.tooltip', function (evt) {\n                    tooltip.hidden(true);\n                });\n                lines2.dispatch.on('elementMouseout.tooltip', function (evt) {\n                    tooltip.hidden(true);\n                });\n                scatters1.dispatch.on('elementMouseover.tooltip', mouseover_scatter);\n                scatters2.dispatch.on('elementMouseover.tooltip', mouseover_scatter);\n                scatters1.dispatch.on('elementMouseout.tooltip', function (evt) {\n                    tooltip.hidden(true);\n                });\n                scatters2.dispatch.on('elementMouseout.tooltip', function (evt) {\n                    tooltip.hidden(true);\n                });\n                stack1.dispatch.on('elementMouseover.tooltip', mouseover_stack);\n                stack2.dispatch.on('elementMouseover.tooltip', mouseover_stack);\n                stack1.dispatch.on('elementMouseout.tooltip', function (evt) {\n                    tooltip.hidden(true);\n                });\n                stack2.dispatch.on('elementMouseout.tooltip', function (evt) {\n                    tooltip.hidden(true);\n                });\n                bars1.dispatch.on('elementMouseover.tooltip', mouseover_bar);\n                bars2.dispatch.on('elementMouseover.tooltip', mouseover_bar);\n                bars1.dispatch.on('elementMouseout.tooltip', function (evt) {\n                    tooltip.hidden(true);\n                });\n                bars2.dispatch.on('elementMouseout.tooltip', function (evt) {\n                    tooltip.hidden(true);\n                });\n                bars1.dispatch.on('elementMousemove.tooltip', function (evt) {\n                    tooltip();\n                });\n                bars2.dispatch.on('elementMousemove.tooltip', function (evt) {\n                    tooltip();\n                });\n            }\n        });\n        return chart;\n    }\n    //============================================================\n    // Global getters and setters\n    //------------------------------------------------------------\n    chart.dispatch = dispatch;\n    chart.legend = legend;\n    chart.lines1 = lines1;\n    chart.lines2 = lines2;\n    chart.scatters1 = scatters1;\n    chart.scatters2 = scatters2;\n    chart.bars1 = bars1;\n    chart.bars2 = bars2;\n    chart.stack1 = stack1;\n    chart.stack2 = stack2;\n    chart.xAxis = xAxis;\n    chart.yAxis1 = yAxis1;\n    chart.yAxis2 = yAxis2;\n    chart.tooltip = tooltip;\n    chart.interactiveLayer = interactiveLayer;\n    chart.options = nv.utils.optionsFunc.bind(chart);\n    chart._options = Object.create({}, {\n        // simple options, just get/set the necessary values\n        width: { get: function () { return width; }, set: function (_) { width = _; } },\n        height: { get: function () { return height; }, set: function (_) { height = _; } },\n        showLegend: { get: function () { return showLegend; }, set: function (_) { showLegend = _; } },\n        xScale: { get: function () { return x; }, set: function (_) { x = _; xAxis.scale(x); } },\n        yDomain1: { get: function () { return yDomain1; }, set: function (_) { yDomain1 = _; } },\n        yDomain2: { get: function () { return yDomain2; }, set: function (_) { yDomain2 = _; } },\n        noData: { get: function () { return noData; }, set: function (_) { noData = _; } },\n        interpolate: { get: function () { return interpolate; }, set: function (_) { interpolate = _; } },\n        legendRightAxisHint: { get: function () { return legendRightAxisHint; }, set: function (_) { legendRightAxisHint = _; } },\n        // options that require extra logic in the setter\n        margin: { get: function () { return margin; }, set: function (_) {\n                if (_.top !== undefined) {\n                    margin.top = _.top;\n                    marginTop = _.top;\n                }\n                margin.right = _.right !== undefined ? _.right : margin.right;\n                margin.bottom = _.bottom !== undefined ? _.bottom : margin.bottom;\n                margin.left = _.left !== undefined ? _.left : margin.left;\n            } },\n        color: { get: function () { return color; }, set: function (_) {\n                color = nv.utils.getColor(_);\n            } },\n        x: { get: function () { return getX; }, set: function (_) {\n                getX = _;\n                lines1.x(_);\n                lines2.x(_);\n                scatters1.x(_);\n                scatters2.x(_);\n                bars1.x(_);\n                bars2.x(_);\n                stack1.x(_);\n                stack2.x(_);\n            } },\n        y: { get: function () { return getY; }, set: function (_) {\n                getY = _;\n                lines1.y(_);\n                lines2.y(_);\n                scatters1.y(_);\n                scatters2.y(_);\n                stack1.y(_);\n                stack2.y(_);\n                bars1.y(_);\n                bars2.y(_);\n            } },\n        useVoronoi: { get: function () { return useVoronoi; }, set: function (_) {\n                useVoronoi = _;\n                lines1.useVoronoi(_);\n                lines2.useVoronoi(_);\n                stack1.useVoronoi(_);\n                stack2.useVoronoi(_);\n            } },\n        useInteractiveGuideline: { get: function () { return useInteractiveGuideline; }, set: function (_) {\n                useInteractiveGuideline = _;\n                if (useInteractiveGuideline) {\n                    lines1.interactive(false);\n                    lines1.useVoronoi(false);\n                    lines2.interactive(false);\n                    lines2.useVoronoi(false);\n                    stack1.interactive(false);\n                    stack1.useVoronoi(false);\n                    stack2.interactive(false);\n                    stack2.useVoronoi(false);\n                    scatters1.interactive(false);\n                    scatters2.interactive(false);\n                }\n            } },\n        duration: { get: function () { return duration; }, set: function (_) {\n                duration = _;\n                [lines1, lines2, stack1, stack2, scatters1, scatters2, xAxis, yAxis1, yAxis2].forEach(function (model) {\n                    model.duration(duration);\n                });\n            } }\n    });\n    nv.utils.initOptions(chart);\n    return chart;\n};\n","nv.models.ohlcBar = function () {\n    \"use strict\";\n    //============================================================\n    // Public Variables with Default Settings\n    //------------------------------------------------------------\n    var margin = { top: 0, right: 0, bottom: 0, left: 0 }, width = null, height = null, id = Math.floor(Math.random() * 10000) //Create semi-unique ID in case user doesn't select one\n    , container = null, x = d3.scale.linear(), y = d3.scale.linear(), getX = function (d) { return d.x; }, getY = function (d) { return d.y; }, getOpen = function (d) { return d.open; }, getClose = function (d) { return d.close; }, getHigh = function (d) { return d.high; }, getLow = function (d) { return d.low; }, forceX = [], forceY = [], padData = false // If true, adds half a data points width to front and back, for lining up a line chart with a bar chart\n    , clipEdge = true, color = nv.utils.defaultColor(), interactive = false, xDomain, yDomain, xRange, yRange, dispatch = d3.dispatch('stateChange', 'changeState', 'renderEnd', 'chartClick', 'elementClick', 'elementDblClick', 'elementMouseover', 'elementMouseout', 'elementMousemove');\n    //============================================================\n    // Private Variables\n    //------------------------------------------------------------\n    function chart(selection) {\n        selection.each(function (data) {\n            container = d3.select(this);\n            var availableWidth = nv.utils.availableWidth(width, container, margin), availableHeight = nv.utils.availableHeight(height, container, margin);\n            nv.utils.initSVG(container);\n            // ohlc bar width.\n            var w = (availableWidth / data[0].values.length) * .9;\n            // Setup Scales\n            x.domain(xDomain || d3.extent(data[0].values.map(getX).concat(forceX)));\n            if (padData)\n                x.range(xRange || [availableWidth * .5 / data[0].values.length, availableWidth * (data[0].values.length - .5) / data[0].values.length]);\n            else\n                x.range(xRange || [5 + w / 2, availableWidth - w / 2 - 5]);\n            y.domain(yDomain || [\n                d3.min(data[0].values.map(getLow).concat(forceY)),\n                d3.max(data[0].values.map(getHigh).concat(forceY))\n            ]).range(yRange || [availableHeight, 0]);\n            // If scale's domain don't have a range, slightly adjust to make one... so a chart can show a single data point\n            if (x.domain()[0] === x.domain()[1])\n                x.domain()[0] ?\n                    x.domain([x.domain()[0] - x.domain()[0] * 0.01, x.domain()[1] + x.domain()[1] * 0.01])\n                    : x.domain([-1, 1]);\n            if (y.domain()[0] === y.domain()[1])\n                y.domain()[0] ?\n                    y.domain([y.domain()[0] + y.domain()[0] * 0.01, y.domain()[1] - y.domain()[1] * 0.01])\n                    : y.domain([-1, 1]);\n            // Setup containers and skeleton of chart\n            var wrap = d3.select(this).selectAll('g.nv-wrap.nv-ohlcBar').data([data[0].values]);\n            var wrapEnter = wrap.enter().append('g').attr('class', 'nvd3 nv-wrap nv-ohlcBar');\n            var defsEnter = wrapEnter.append('defs');\n            var gEnter = wrapEnter.append('g');\n            var g = wrap.select('g');\n            gEnter.append('g').attr('class', 'nv-ticks');\n            wrap.attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');\n            container\n                .on('click', function (d, i) {\n                dispatch.chartClick({\n                    data: d,\n                    index: i,\n                    pos: d3.event,\n                    id: id\n                });\n            });\n            defsEnter.append('clipPath')\n                .attr('id', 'nv-chart-clip-path-' + id)\n                .append('rect');\n            wrap.select('#nv-chart-clip-path-' + id + ' rect')\n                .attr('width', availableWidth)\n                .attr('height', availableHeight);\n            g.attr('clip-path', clipEdge ? 'url(#nv-chart-clip-path-' + id + ')' : '');\n            var ticks = wrap.select('.nv-ticks').selectAll('.nv-tick')\n                .data(function (d) { return d; });\n            ticks.exit().remove();\n            ticks.enter().append('path')\n                .attr('class', function (d, i, j) { return (getOpen(d, i) > getClose(d, i) ? 'nv-tick negative' : 'nv-tick positive') + ' nv-tick-' + j + '-' + i; })\n                .attr('d', function (d, i) {\n                return 'm0,0l0,'\n                    + (y(getOpen(d, i))\n                        - y(getHigh(d, i)))\n                    + 'l'\n                    + (-w / 2)\n                    + ',0l'\n                    + (w / 2)\n                    + ',0l0,'\n                    + (y(getLow(d, i)) - y(getOpen(d, i)))\n                    + 'l0,'\n                    + (y(getClose(d, i))\n                        - y(getLow(d, i)))\n                    + 'l'\n                    + (w / 2)\n                    + ',0l'\n                    + (-w / 2)\n                    + ',0z';\n            })\n                .attr('transform', function (d, i) { return 'translate(' + x(getX(d, i)) + ',' + y(getHigh(d, i)) + ')'; })\n                .attr('fill', function (d, i) { return color[0]; })\n                .attr('stroke', function (d, i) { return color[0]; })\n                .attr('x', 0)\n                .attr('y', function (d, i) { return y(Math.max(0, getY(d, i))); })\n                .attr('height', function (d, i) { return Math.abs(y(getY(d, i)) - y(0)); });\n            // the bar colors are controlled by CSS currently\n            ticks.attr('class', function (d, i, j) {\n                return (getOpen(d, i) > getClose(d, i) ? 'nv-tick negative' : 'nv-tick positive') + ' nv-tick-' + j + '-' + i;\n            });\n            d3.transition(ticks)\n                .attr('transform', function (d, i) { return 'translate(' + x(getX(d, i)) + ',' + y(getHigh(d, i)) + ')'; })\n                .attr('d', function (d, i) {\n                var w = (availableWidth / data[0].values.length) * .9;\n                return 'm0,0l0,'\n                    + (y(getOpen(d, i))\n                        - y(getHigh(d, i)))\n                    + 'l'\n                    + (-w / 2)\n                    + ',0l'\n                    + (w / 2)\n                    + ',0l0,'\n                    + (y(getLow(d, i))\n                        - y(getOpen(d, i)))\n                    + 'l0,'\n                    + (y(getClose(d, i))\n                        - y(getLow(d, i)))\n                    + 'l'\n                    + (w / 2)\n                    + ',0l'\n                    + (-w / 2)\n                    + ',0z';\n            });\n        });\n        return chart;\n    }\n    //Create methods to allow outside functions to highlight a specific bar.\n    chart.highlightPoint = function (pointIndex, isHoverOver) {\n        chart.clearHighlights();\n        container.select(\".nv-ohlcBar .nv-tick-0-\" + pointIndex)\n            .classed(\"hover\", isHoverOver);\n    };\n    chart.clearHighlights = function () {\n        container.select(\".nv-ohlcBar .nv-tick.hover\")\n            .classed(\"hover\", false);\n    };\n    //============================================================\n    // Expose Public Variables\n    //------------------------------------------------------------\n    chart.dispatch = dispatch;\n    chart.options = nv.utils.optionsFunc.bind(chart);\n    chart._options = Object.create({}, {\n        // simple options, just get/set the necessary values\n        width: { get: function () { return width; }, set: function (_) { width = _; } },\n        height: { get: function () { return height; }, set: function (_) { height = _; } },\n        xScale: { get: function () { return x; }, set: function (_) { x = _; } },\n        yScale: { get: function () { return y; }, set: function (_) { y = _; } },\n        xDomain: { get: function () { return xDomain; }, set: function (_) { xDomain = _; } },\n        yDomain: { get: function () { return yDomain; }, set: function (_) { yDomain = _; } },\n        xRange: { get: function () { return xRange; }, set: function (_) { xRange = _; } },\n        yRange: { get: function () { return yRange; }, set: function (_) { yRange = _; } },\n        forceX: { get: function () { return forceX; }, set: function (_) { forceX = _; } },\n        forceY: { get: function () { return forceY; }, set: function (_) { forceY = _; } },\n        padData: { get: function () { return padData; }, set: function (_) { padData = _; } },\n        clipEdge: { get: function () { return clipEdge; }, set: function (_) { clipEdge = _; } },\n        id: { get: function () { return id; }, set: function (_) { id = _; } },\n        interactive: { get: function () { return interactive; }, set: function (_) { interactive = _; } },\n        x: { get: function () { return getX; }, set: function (_) { getX = _; } },\n        y: { get: function () { return getY; }, set: function (_) { getY = _; } },\n        open: { get: function () { return getOpen(); }, set: function (_) { getOpen = _; } },\n        close: { get: function () { return getClose(); }, set: function (_) { getClose = _; } },\n        high: { get: function () { return getHigh; }, set: function (_) { getHigh = _; } },\n        low: { get: function () { return getLow; }, set: function (_) { getLow = _; } },\n        // options that require extra logic in the setter\n        margin: { get: function () { return margin; }, set: function (_) {\n                margin.top = _.top != undefined ? _.top : margin.top;\n                margin.right = _.right != undefined ? _.right : margin.right;\n                margin.bottom = _.bottom != undefined ? _.bottom : margin.bottom;\n                margin.left = _.left != undefined ? _.left : margin.left;\n            } },\n        color: { get: function () { return color; }, set: function (_) {\n                color = nv.utils.getColor(_);\n            } }\n    });\n    nv.utils.initOptions(chart);\n    return chart;\n};\n","// Code adapted from Jason Davies' \"Parallel Coordinates\"\n// http://bl.ocks.org/jasondavies/1341281\nnv.models.parallelCoordinates = function () {\n    \"use strict\";\n    //============================================================\n    // Public Variables with Default Settings\n    //------------------------------------------------------------\n    var margin = { top: 30, right: 0, bottom: 10, left: 0 }, width = null, height = null, availableWidth = null, availableHeight = null, x = d3.scale.ordinal(), y = {}, undefinedValuesLabel = \"undefined values\", dimensionData = [], enabledDimensions = [], dimensionNames = [], displayBrush = true, color = nv.utils.defaultColor(), filters = [], active = [], dragging = [], axisWithUndefinedValues = [], lineTension = 1, foreground, background, dimensions, line = d3.svg.line(), axis = d3.svg.axis(), dispatch = d3.dispatch('brushstart', 'brush', 'brushEnd', 'dimensionsOrder', \"stateChange\", 'elementClick', 'elementMouseover', 'elementMouseout', 'elementMousemove', 'renderEnd', 'activeChanged');\n    //============================================================\n    // Private Variables\n    //------------------------------------------------------------\n    var renderWatch = nv.utils.renderWatch(dispatch);\n    function chart(selection) {\n        renderWatch.reset();\n        selection.each(function (data) {\n            var container = d3.select(this);\n            availableWidth = nv.utils.availableWidth(width, container, margin);\n            availableHeight = nv.utils.availableHeight(height, container, margin);\n            nv.utils.initSVG(container);\n            //Convert old data to new format (name, values)\n            if (data[0].values === undefined) {\n                var newData = [];\n                data.forEach(function (d) {\n                    var val = {};\n                    var key = Object.keys(d);\n                    key.forEach(function (k) { if (k !== \"name\")\n                        val[k] = d[k]; });\n                    newData.push({ key: d.name, values: val });\n                });\n                data = newData;\n            }\n            var dataValues = data.map(function (d) { return d.values; });\n            if (active.length === 0) {\n                active = data;\n            }\n            ; //set all active before first brush call\n            dimensionNames = dimensionData.sort(function (a, b) { return a.currentPosition - b.currentPosition; }).map(function (d) { return d.key; });\n            enabledDimensions = dimensionData.filter(function (d) { return !d.disabled; });\n            // Setup Scales\n            x.rangePoints([0, availableWidth], 1).domain(enabledDimensions.map(function (d) { return d.key; }));\n            //Set as true if all values on an axis are missing.\n            // Extract the list of dimensions and create a scale for each.\n            var oldDomainMaxValue = {};\n            var displayMissingValuesline = false;\n            var currentTicks = [];\n            dimensionNames.forEach(function (d) {\n                var extent = d3.extent(dataValues, function (p) { return +p[d]; });\n                var min = extent[0];\n                var max = extent[1];\n                var onlyUndefinedValues = false;\n                //If there is no values to display on an axis, set the extent to 0\n                if (isNaN(min) || isNaN(max)) {\n                    onlyUndefinedValues = true;\n                    min = 0;\n                    max = 0;\n                }\n                //Scale axis if there is only one value\n                if (min === max) {\n                    min = min - 1;\n                    max = max + 1;\n                }\n                var f = filters.filter(function (k) { return k.dimension == d; });\n                if (f.length !== 0) {\n                    //If there is only NaN values, keep the existing domain.\n                    if (onlyUndefinedValues) {\n                        min = y[d].domain()[0];\n                        max = y[d].domain()[1];\n                    }\n                    //If the brush extent is > max (< min), keep the extent value.\n                    else if (!f[0].hasOnlyNaN && displayBrush) {\n                        min = min > f[0].extent[0] ? f[0].extent[0] : min;\n                        max = max < f[0].extent[1] ? f[0].extent[1] : max;\n                    }\n                    //If there is NaN values brushed be sure the brush extent is on the domain.\n                    else if (f[0].hasNaN) {\n                        max = max < f[0].extent[1] ? f[0].extent[1] : max;\n                        oldDomainMaxValue[d] = y[d].domain()[1];\n                        displayMissingValuesline = true;\n                    }\n                }\n                //Use 90% of (availableHeight - 12) for the axis range, 12 reprensenting the space necessary to display \"undefined values\" text.\n                //The remaining 10% are used to display the missingValue line.\n                y[d] = d3.scale.linear()\n                    .domain([min, max])\n                    .range([(availableHeight - 12) * 0.9, 0]);\n                axisWithUndefinedValues = [];\n                y[d].brush = d3.svg.brush().y(y[d]).on('brushstart', brushstart).on('brush', brush).on('brushend', brushend);\n            });\n            // Setup containers and skeleton of chart\n            var wrap = container.selectAll('g.nv-wrap.nv-parallelCoordinates').data([data]);\n            var wrapEnter = wrap.enter().append('g').attr('class', 'nvd3 nv-wrap nv-parallelCoordinates');\n            var gEnter = wrapEnter.append('g');\n            var g = wrap.select('g');\n            gEnter.append('g').attr('class', 'nv-parallelCoordinates background');\n            gEnter.append('g').attr('class', 'nv-parallelCoordinates foreground');\n            gEnter.append('g').attr('class', 'nv-parallelCoordinates missingValuesline');\n            wrap.attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');\n            line.interpolate('cardinal').tension(lineTension);\n            axis.orient('left');\n            var axisDrag = d3.behavior.drag()\n                .on('dragstart', dragStart)\n                .on('drag', dragMove)\n                .on('dragend', dragEnd);\n            //Add missing value line at the bottom of the chart\n            var missingValuesline, missingValueslineText;\n            var step = x.range()[1] - x.range()[0];\n            step = isNaN(step) ? x.range()[0] : step;\n            if (!isNaN(step)) {\n                var lineData = [0 + step / 2, availableHeight - 12, availableWidth - step / 2, availableHeight - 12];\n                missingValuesline = wrap.select('.missingValuesline').selectAll('line').data([lineData]);\n                missingValuesline.enter().append('line');\n                missingValuesline.exit().remove();\n                missingValuesline.attr(\"x1\", function (d) { return d[0]; })\n                    .attr(\"y1\", function (d) { return d[1]; })\n                    .attr(\"x2\", function (d) { return d[2]; })\n                    .attr(\"y2\", function (d) { return d[3]; });\n                //Add the text \"undefined values\" under the missing value line\n                missingValueslineText = wrap.select('.missingValuesline').selectAll('text').data([undefinedValuesLabel]);\n                missingValueslineText.append('text').data([undefinedValuesLabel]);\n                missingValueslineText.enter().append('text');\n                missingValueslineText.exit().remove();\n                missingValueslineText.attr(\"y\", availableHeight)\n                    //To have the text right align with the missingValues line, substract 92 representing the text size.\n                    .attr(\"x\", availableWidth - 92 - step / 2)\n                    .text(function (d) { return d; });\n            }\n            // Add grey background lines for context.\n            background = wrap.select('.background').selectAll('path').data(data);\n            background.enter().append('path');\n            background.exit().remove();\n            background.attr('d', path);\n            // Add blue foreground lines for focus.\n            foreground = wrap.select('.foreground').selectAll('path').data(data);\n            foreground.enter().append('path');\n            foreground.exit().remove();\n            foreground.attr('d', path)\n                .style(\"stroke-width\", function (d, i) {\n                if (isNaN(d.strokeWidth)) {\n                    d.strokeWidth = 1;\n                }\n                return d.strokeWidth;\n            })\n                .attr('stroke', function (d, i) { return d.color || color(d, i); });\n            foreground.on(\"mouseover\", function (d, i) {\n                d3.select(this).classed('hover', true).style(\"stroke-width\", d.strokeWidth + 2 + \"px\").style(\"stroke-opacity\", 1);\n                dispatch.elementMouseover({\n                    label: d.name,\n                    color: d.color || color(d, i),\n                    values: d.values,\n                    dimensions: enabledDimensions\n                });\n            });\n            foreground.on(\"mouseout\", function (d, i) {\n                d3.select(this).classed('hover', false).style(\"stroke-width\", d.strokeWidth + \"px\").style(\"stroke-opacity\", 0.7);\n                dispatch.elementMouseout({\n                    label: d.name,\n                    index: i\n                });\n            });\n            foreground.on('mousemove', function (d, i) {\n                dispatch.elementMousemove();\n            });\n            foreground.on('click', function (d) {\n                dispatch.elementClick({\n                    id: d.id\n                });\n            });\n            // Add a group element for each dimension.\n            dimensions = g.selectAll('.dimension').data(enabledDimensions);\n            var dimensionsEnter = dimensions.enter().append('g').attr('class', 'nv-parallelCoordinates dimension');\n            dimensions.attr('transform', function (d) { return 'translate(' + x(d.key) + ',0)'; });\n            dimensionsEnter.append('g').attr('class', 'nv-axis');\n            // Add an axis and title.\n            dimensionsEnter.append('text')\n                .attr('class', 'nv-label')\n                .style(\"cursor\", \"move\")\n                .attr('dy', '-1em')\n                .attr('text-anchor', 'middle')\n                .on(\"mouseover\", function (d, i) {\n                dispatch.elementMouseover({\n                    label: d.tooltip || d.key,\n                    color: d.color\n                });\n            })\n                .on(\"mouseout\", function (d, i) {\n                dispatch.elementMouseout({\n                    label: d.tooltip\n                });\n            })\n                .on('mousemove', function (d, i) {\n                dispatch.elementMousemove();\n            })\n                .call(axisDrag);\n            dimensionsEnter.append('g').attr('class', 'nv-brushBackground');\n            dimensions.exit().remove();\n            dimensions.select('.nv-label').text(function (d) { return d.key; });\n            // Add and store a brush for each axis.\n            restoreBrush(displayBrush);\n            var actives = dimensionNames.filter(function (p) { return !y[p].brush.empty(); }), extents = actives.map(function (p) { return y[p].brush.extent(); });\n            var formerActive = active.slice(0);\n            //Restore active values\n            active = [];\n            foreground.style(\"display\", function (d) {\n                var isActive = actives.every(function (p, i) {\n                    if ((isNaN(d.values[p]) || isNaN(parseFloat(d.values[p]))) && extents[i][0] == y[p].brush.y().domain()[0]) {\n                        return true;\n                    }\n                    return (extents[i][0] <= d.values[p] && d.values[p] <= extents[i][1]) && !isNaN(parseFloat(d.values[p]));\n                });\n                if (isActive)\n                    active.push(d);\n                return !isActive ? \"none\" : null;\n            });\n            if (filters.length > 0 || !nv.utils.arrayEquals(active, formerActive)) {\n                dispatch.activeChanged(active);\n            }\n            // Returns the path for a given data point.\n            function path(d) {\n                return line(enabledDimensions.map(function (p) {\n                    //If value if missing, put the value on the missing value line\n                    if (isNaN(d.values[p.key]) || isNaN(parseFloat(d.values[p.key])) || displayMissingValuesline) {\n                        var domain = y[p.key].domain();\n                        var range = y[p.key].range();\n                        var min = domain[0] - (domain[1] - domain[0]) / 9;\n                        //If it's not already the case, allow brush to select undefined values\n                        if (axisWithUndefinedValues.indexOf(p.key) < 0) {\n                            var newscale = d3.scale.linear().domain([min, domain[1]]).range([availableHeight - 12, range[1]]);\n                            y[p.key].brush.y(newscale);\n                            axisWithUndefinedValues.push(p.key);\n                        }\n                        if (isNaN(d.values[p.key]) || isNaN(parseFloat(d.values[p.key]))) {\n                            return [x(p.key), y[p.key](min)];\n                        }\n                    }\n                    //If parallelCoordinate contain missing values show the missing values line otherwise, hide it.\n                    if (missingValuesline !== undefined) {\n                        if (axisWithUndefinedValues.length > 0 || displayMissingValuesline) {\n                            missingValuesline.style(\"display\", \"inline\");\n                            missingValueslineText.style(\"display\", \"inline\");\n                        }\n                        else {\n                            missingValuesline.style(\"display\", \"none\");\n                            missingValueslineText.style(\"display\", \"none\");\n                        }\n                    }\n                    return [x(p.key), y[p.key](d.values[p.key])];\n                }));\n            }\n            function restoreBrush(visible) {\n                filters.forEach(function (f) {\n                    //If filter brushed NaN values, keep the brush on the bottom of the axis.\n                    var brushDomain = y[f.dimension].brush.y().domain();\n                    if (f.hasOnlyNaN) {\n                        f.extent[1] = (y[f.dimension].domain()[1] - brushDomain[0]) * (f.extent[1] - f.extent[0]) / (oldDomainMaxValue[f.dimension] - f.extent[0]) + brushDomain[0];\n                    }\n                    if (f.hasNaN) {\n                        f.extent[0] = brushDomain[0];\n                    }\n                    if (visible)\n                        y[f.dimension].brush.extent(f.extent);\n                });\n                dimensions.select('.nv-brushBackground')\n                    .each(function (d) {\n                    d3.select(this).call(y[d.key].brush);\n                })\n                    .selectAll('rect')\n                    .attr('x', -8)\n                    .attr('width', 16);\n                updateTicks();\n            }\n            // Handles a brush event, toggling the display of foreground lines.\n            function brushstart() {\n                //If brush aren't visible, show it before brushing again.\n                if (displayBrush === false) {\n                    displayBrush = true;\n                    restoreBrush(true);\n                }\n            }\n            // Handles a brush event, toggling the display of foreground lines.\n            function brush() {\n                actives = dimensionNames.filter(function (p) { return !y[p].brush.empty(); });\n                extents = actives.map(function (p) { return y[p].brush.extent(); });\n                filters = []; //erase current filters\n                actives.forEach(function (d, i) {\n                    filters[i] = {\n                        dimension: d,\n                        extent: extents[i],\n                        hasNaN: false,\n                        hasOnlyNaN: false\n                    };\n                });\n                active = []; //erase current active list\n                foreground.style('display', function (d) {\n                    var isActive = actives.every(function (p, i) {\n                        if ((isNaN(d.values[p]) || isNaN(parseFloat(d.values[p]))) && extents[i][0] == y[p].brush.y().domain()[0])\n                            return true;\n                        return (extents[i][0] <= d.values[p] && d.values[p] <= extents[i][1]) && !isNaN(parseFloat(d.values[p]));\n                    });\n                    if (isActive)\n                        active.push(d);\n                    return isActive ? null : 'none';\n                });\n                updateTicks();\n                dispatch.brush({\n                    filters: filters,\n                    active: active\n                });\n            }\n            function brushend() {\n                var hasActiveBrush = actives.length > 0 ? true : false;\n                filters.forEach(function (f) {\n                    if (f.extent[0] === y[f.dimension].brush.y().domain()[0] && axisWithUndefinedValues.indexOf(f.dimension) >= 0)\n                        f.hasNaN = true;\n                    if (f.extent[1] < y[f.dimension].domain()[0])\n                        f.hasOnlyNaN = true;\n                });\n                dispatch.brushEnd(active, hasActiveBrush);\n            }\n            function updateTicks() {\n                dimensions.select('.nv-axis')\n                    .each(function (d, i) {\n                    var f = filters.filter(function (k) { return k.dimension == d.key; });\n                    currentTicks[d.key] = y[d.key].domain();\n                    //If brush are available, display brush extent\n                    if (f.length != 0 && displayBrush) {\n                        currentTicks[d.key] = [];\n                        if (f[0].extent[1] > y[d.key].domain()[0])\n                            currentTicks[d.key] = [f[0].extent[1]];\n                        if (f[0].extent[0] >= y[d.key].domain()[0])\n                            currentTicks[d.key].push(f[0].extent[0]);\n                    }\n                    d3.select(this).call(axis.scale(y[d.key]).tickFormat(d.format).tickValues(currentTicks[d.key]));\n                });\n            }\n            function dragStart(d) {\n                dragging[d.key] = this.parentNode.__origin__ = x(d.key);\n                background.attr(\"visibility\", \"hidden\");\n            }\n            function dragMove(d) {\n                dragging[d.key] = Math.min(availableWidth, Math.max(0, this.parentNode.__origin__ += d3.event.x));\n                foreground.attr(\"d\", path);\n                enabledDimensions.sort(function (a, b) { return dimensionPosition(a.key) - dimensionPosition(b.key); });\n                enabledDimensions.forEach(function (d, i) { return d.currentPosition = i; });\n                x.domain(enabledDimensions.map(function (d) { return d.key; }));\n                dimensions.attr(\"transform\", function (d) { return \"translate(\" + dimensionPosition(d.key) + \")\"; });\n            }\n            function dragEnd(d, i) {\n                delete this.parentNode.__origin__;\n                delete dragging[d.key];\n                d3.select(this.parentNode).attr(\"transform\", \"translate(\" + x(d.key) + \")\");\n                foreground\n                    .attr(\"d\", path);\n                background\n                    .attr(\"d\", path)\n                    .attr(\"visibility\", null);\n                dispatch.dimensionsOrder(enabledDimensions);\n            }\n            function dimensionPosition(d) {\n                var v = dragging[d];\n                return v == null ? x(d) : v;\n            }\n        });\n        return chart;\n    }\n    //============================================================\n    // Expose Public Variables\n    //------------------------------------------------------------\n    chart.dispatch = dispatch;\n    chart.options = nv.utils.optionsFunc.bind(chart);\n    chart._options = Object.create({}, {\n        // simple options, just get/set the necessary values\n        width: { get: function () { return width; }, set: function (_) { width = _; } },\n        height: { get: function () { return height; }, set: function (_) { height = _; } },\n        dimensionData: { get: function () { return dimensionData; }, set: function (_) { dimensionData = _; } },\n        displayBrush: { get: function () { return displayBrush; }, set: function (_) { displayBrush = _; } },\n        filters: { get: function () { return filters; }, set: function (_) { filters = _; } },\n        active: { get: function () { return active; }, set: function (_) { active = _; } },\n        lineTension: { get: function () { return lineTension; }, set: function (_) { lineTension = _; } },\n        undefinedValuesLabel: { get: function () { return undefinedValuesLabel; }, set: function (_) { undefinedValuesLabel = _; } },\n        // deprecated options\n        dimensions: { get: function () { return dimensionData.map(function (d) { return d.key; }); }, set: function (_) {\n                // deprecated after 1.8.1\n                nv.deprecated('dimensions', 'use dimensionData instead');\n                if (dimensionData.length === 0) {\n                    _.forEach(function (k) { dimensionData.push({ key: k }); });\n                }\n                else {\n                    _.forEach(function (k, i) { dimensionData[i].key = k; });\n                }\n            } },\n        dimensionNames: { get: function () { return dimensionData.map(function (d) { return d.key; }); }, set: function (_) {\n                // deprecated after 1.8.1\n                nv.deprecated('dimensionNames', 'use dimensionData instead');\n                dimensionNames = [];\n                if (dimensionData.length === 0) {\n                    _.forEach(function (k) { dimensionData.push({ key: k }); });\n                }\n                else {\n                    _.forEach(function (k, i) { dimensionData[i].key = k; });\n                }\n            } },\n        dimensionFormats: { get: function () { return dimensionData.map(function (d) { return d.format; }); }, set: function (_) {\n                // deprecated after 1.8.1\n                nv.deprecated('dimensionFormats', 'use dimensionData instead');\n                if (dimensionData.length === 0) {\n                    _.forEach(function (f) { dimensionData.push({ format: f }); });\n                }\n                else {\n                    _.forEach(function (f, i) { dimensionData[i].format = f; });\n                }\n            } },\n        // options that require extra logic in the setter\n        margin: { get: function () { return margin; }, set: function (_) {\n                margin.top = _.top !== undefined ? _.top : margin.top;\n                margin.right = _.right !== undefined ? _.right : margin.right;\n                margin.bottom = _.bottom !== undefined ? _.bottom : margin.bottom;\n                margin.left = _.left !== undefined ? _.left : margin.left;\n            } },\n        color: { get: function () { return color; }, set: function (_) {\n                color = nv.utils.getColor(_);\n            } }\n    });\n    nv.utils.initOptions(chart);\n    return chart;\n};\n","nv.models.parallelCoordinatesChart = function () {\n    \"use strict\";\n    //============================================================\n    // Public Variables with Default Settings\n    //------------------------------------------------------------\n    var parallelCoordinates = nv.models.parallelCoordinates();\n    var legend = nv.models.legend();\n    var tooltip = nv.models.tooltip();\n    var dimensionTooltip = nv.models.tooltip();\n    var margin = { top: 0, right: 0, bottom: 0, left: 0 }, marginTop = null, width = null, height = null, showLegend = true, color = nv.utils.defaultColor(), state = nv.utils.state(), dimensionData = [], displayBrush = true, defaultState = null, noData = null, nanValue = \"undefined\", dispatch = d3.dispatch('dimensionsOrder', 'brushEnd', 'stateChange', 'changeState', 'renderEnd'), controlWidth = function () { return showControls ? 180 : 0; };\n    //============================================================\n    //============================================================\n    // Private Variables\n    //------------------------------------------------------------\n    var renderWatch = nv.utils.renderWatch(dispatch);\n    var stateGetter = function (data) {\n        return function () {\n            return {\n                active: data.map(function (d) { return !d.disabled; })\n            };\n        };\n    };\n    var stateSetter = function (data) {\n        return function (state) {\n            if (state.active !== undefined) {\n                data.forEach(function (series, i) {\n                    series.disabled = !state.active[i];\n                });\n            }\n        };\n    };\n    tooltip.contentGenerator(function (data) {\n        var str = '<table><thead><tr><td class=\"legend-color-guide\"><div style=\"background-color:' + data.color + '\"></div></td><td><strong>' + data.key + '</strong></td></tr></thead>';\n        if (data.series.length !== 0) {\n            str = str + '<tbody><tr><td height =\"10px\"></td></tr>';\n            data.series.forEach(function (d) {\n                str = str + '<tr><td class=\"legend-color-guide\"><div style=\"background-color:' + d.color + '\"></div></td><td class=\"key\">' + d.key + '</td><td class=\"value\">' + d.value + '</td></tr>';\n            });\n            str = str + '</tbody>';\n        }\n        str = str + '</table>';\n        return str;\n    });\n    //============================================================\n    // Chart function\n    //------------------------------------------------------------\n    function chart(selection) {\n        renderWatch.reset();\n        renderWatch.models(parallelCoordinates);\n        selection.each(function (data) {\n            var container = d3.select(this);\n            nv.utils.initSVG(container);\n            var that = this;\n            var availableWidth = nv.utils.availableWidth(width, container, margin), availableHeight = nv.utils.availableHeight(height, container, margin);\n            chart.update = function () { container.call(chart); };\n            chart.container = this;\n            state.setter(stateSetter(dimensionData), chart.update)\n                .getter(stateGetter(dimensionData))\n                .update();\n            //set state.disabled\n            state.disabled = dimensionData.map(function (d) { return !!d.disabled; });\n            //Keep dimensions position in memory\n            dimensionData = dimensionData.map(function (d) { d.disabled = !!d.disabled; return d; });\n            dimensionData.forEach(function (d, i) {\n                d.originalPosition = isNaN(d.originalPosition) ? i : d.originalPosition;\n                d.currentPosition = isNaN(d.currentPosition) ? i : d.currentPosition;\n            });\n            if (!defaultState) {\n                var key;\n                defaultState = {};\n                for (key in state) {\n                    if (state[key] instanceof Array)\n                        defaultState[key] = state[key].slice(0);\n                    else\n                        defaultState[key] = state[key];\n                }\n            }\n            // Display No Data message if there's nothing to show.\n            if (!data || !data.length) {\n                nv.utils.noData(chart, container);\n                return chart;\n            }\n            else {\n                container.selectAll('.nv-noData').remove();\n            }\n            //------------------------------------------------------------\n            // Setup containers and skeleton of chart\n            var wrap = container.selectAll('g.nv-wrap.nv-parallelCoordinatesChart').data([data]);\n            var gEnter = wrap.enter().append('g').attr('class', 'nvd3 nv-wrap nv-parallelCoordinatesChart').append('g');\n            var g = wrap.select('g');\n            gEnter.append('g').attr('class', 'nv-parallelCoordinatesWrap');\n            gEnter.append('g').attr('class', 'nv-legendWrap');\n            g.select(\"rect\")\n                .attr(\"width\", availableWidth)\n                .attr(\"height\", (availableHeight > 0) ? availableHeight : 0);\n            // Legend\n            if (!showLegend) {\n                g.select('.nv-legendWrap').selectAll('*').remove();\n            }\n            else {\n                legend.width(availableWidth)\n                    .color(function (d) { return \"rgb(188,190,192)\"; });\n                g.select('.nv-legendWrap')\n                    .datum(dimensionData.sort(function (a, b) { return a.originalPosition - b.originalPosition; }))\n                    .call(legend);\n                if (!marginTop && legend.height() !== margin.top) {\n                    margin.top = legend.height();\n                    availableHeight = nv.utils.availableHeight(height, container, margin);\n                }\n                wrap.select('.nv-legendWrap')\n                    .attr('transform', 'translate( 0 ,' + (-margin.top) + ')');\n            }\n            wrap.attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');\n            // Main Chart Component(s)\n            parallelCoordinates\n                .width(availableWidth)\n                .height(availableHeight)\n                .dimensionData(dimensionData)\n                .displayBrush(displayBrush);\n            var parallelCoordinatesWrap = g.select('.nv-parallelCoordinatesWrap ')\n                .datum(data);\n            parallelCoordinatesWrap.transition().call(parallelCoordinates);\n            //============================================================\n            // Event Handling/Dispatching (in chart's scope)\n            //------------------------------------------------------------\n            //Display reset brush button\n            parallelCoordinates.dispatch.on('brushEnd', function (active, hasActiveBrush) {\n                if (hasActiveBrush) {\n                    displayBrush = true;\n                    dispatch.brushEnd(active);\n                }\n                else {\n                    displayBrush = false;\n                }\n            });\n            legend.dispatch.on('stateChange', function (newState) {\n                for (var key in newState) {\n                    state[key] = newState[key];\n                }\n                dispatch.stateChange(state);\n                chart.update();\n            });\n            //Update dimensions order and display reset sorting button\n            parallelCoordinates.dispatch.on('dimensionsOrder', function (e) {\n                dimensionData.sort(function (a, b) { return a.currentPosition - b.currentPosition; });\n                var isSorted = false;\n                dimensionData.forEach(function (d, i) {\n                    d.currentPosition = i;\n                    if (d.currentPosition !== d.originalPosition)\n                        isSorted = true;\n                });\n                dispatch.dimensionsOrder(dimensionData, isSorted);\n            });\n            // Update chart from a state object passed to event handler\n            dispatch.on('changeState', function (e) {\n                if (typeof e.disabled !== 'undefined') {\n                    dimensionData.forEach(function (series, i) {\n                        series.disabled = e.disabled[i];\n                    });\n                    state.disabled = e.disabled;\n                }\n                chart.update();\n            });\n        });\n        renderWatch.renderEnd('parraleleCoordinateChart immediate');\n        return chart;\n    }\n    //============================================================\n    // Event Handling/Dispatching (out of chart's scope)\n    //------------------------------------------------------------\n    parallelCoordinates.dispatch.on('elementMouseover.tooltip', function (evt) {\n        var tp = {\n            key: evt.label,\n            color: evt.color,\n            series: []\n        };\n        if (evt.values) {\n            Object.keys(evt.values).forEach(function (d) {\n                var dim = evt.dimensions.filter(function (dd) { return dd.key === d; })[0];\n                if (dim) {\n                    var v;\n                    if (isNaN(evt.values[d]) || isNaN(parseFloat(evt.values[d]))) {\n                        v = nanValue;\n                    }\n                    else {\n                        v = dim.format(evt.values[d]);\n                    }\n                    tp.series.push({ idx: dim.currentPosition, key: d, value: v, color: dim.color });\n                }\n            });\n            tp.series.sort(function (a, b) { return a.idx - b.idx; });\n        }\n        tooltip.data(tp).hidden(false);\n    });\n    parallelCoordinates.dispatch.on('elementMouseout.tooltip', function (evt) {\n        tooltip.hidden(true);\n    });\n    parallelCoordinates.dispatch.on('elementMousemove.tooltip', function () {\n        tooltip();\n    });\n    //============================================================\n    // Expose Public Variables\n    //------------------------------------------------------------\n    // expose chart's sub-components\n    chart.dispatch = dispatch;\n    chart.parallelCoordinates = parallelCoordinates;\n    chart.legend = legend;\n    chart.tooltip = tooltip;\n    chart.options = nv.utils.optionsFunc.bind(chart);\n    chart._options = Object.create({}, {\n        // simple options, just get/set the necessary values\n        width: { get: function () { return width; }, set: function (_) { width = _; } },\n        height: { get: function () { return height; }, set: function (_) { height = _; } },\n        showLegend: { get: function () { return showLegend; }, set: function (_) { showLegend = _; } },\n        defaultState: { get: function () { return defaultState; }, set: function (_) { defaultState = _; } },\n        dimensionData: { get: function () { return dimensionData; }, set: function (_) { dimensionData = _; } },\n        displayBrush: { get: function () { return displayBrush; }, set: function (_) { displayBrush = _; } },\n        noData: { get: function () { return noData; }, set: function (_) { noData = _; } },\n        nanValue: { get: function () { return nanValue; }, set: function (_) { nanValue = _; } },\n        // options that require extra logic in the setter\n        margin: {\n            get: function () { return margin; },\n            set: function (_) {\n                if (_.top !== undefined) {\n                    margin.top = _.top;\n                    marginTop = _.top;\n                }\n                margin.right = _.right !== undefined ? _.right : margin.right;\n                margin.bottom = _.bottom !== undefined ? _.bottom : margin.bottom;\n                margin.left = _.left !== undefined ? _.left : margin.left;\n            }\n        },\n        color: { get: function () { return color; }, set: function (_) {\n                color = nv.utils.getColor(_);\n                legend.color(color);\n                parallelCoordinates.color(color);\n            } }\n    });\n    nv.utils.inheritOptions(chart, parallelCoordinates);\n    nv.utils.initOptions(chart);\n    return chart;\n};\n","nv.models.pie = function () {\n    \"use strict\";\n    //============================================================\n    // Public Variables with Default Settings\n    //------------------------------------------------------------\n    var margin = { top: 0, right: 0, bottom: 0, left: 0 }, width = 500, height = 500, getX = function (d) { return d.x; }, getY = function (d) { return d.y; }, id = Math.floor(Math.random() * 10000) //Create semi-unique ID in case user doesn't select one\n    , container = null, color = nv.utils.defaultColor(), valueFormat = d3.format(',.2f'), showLabels = true, labelsOutside = false, labelType = \"key\", labelThreshold = .02 //if slice percentage is under this, don't show label\n    , hideOverlapLabels = false //Hide labels that don't fit in slice\n    , donut = false, title = false, growOnHover = true, titleOffset = 0, labelSunbeamLayout = false, startAngle = false, padAngle = false, endAngle = false, cornerRadius = 0, donutRatio = 0.5, duration = 250, arcsRadius = [], dispatch = d3.dispatch('chartClick', 'elementClick', 'elementDblClick', 'elementMouseover', 'elementMouseout', 'elementMousemove', 'renderEnd');\n    var arcs = [];\n    var arcsOver = [];\n    //============================================================\n    // chart function\n    //------------------------------------------------------------\n    var renderWatch = nv.utils.renderWatch(dispatch);\n    function chart(selection) {\n        renderWatch.reset();\n        selection.each(function (data) {\n            var availableWidth = width - margin.left - margin.right, availableHeight = height - margin.top - margin.bottom, radius = Math.min(availableWidth, availableHeight) / 2, arcsRadiusOuter = [], arcsRadiusInner = [];\n            container = d3.select(this);\n            if (arcsRadius.length === 0) {\n                var outer = radius - radius / 10;\n                var inner = donutRatio * radius;\n                for (var i = 0; i < data[0].length; i++) {\n                    arcsRadiusOuter.push(outer);\n                    arcsRadiusInner.push(inner);\n                }\n            }\n            else {\n                if (growOnHover) {\n                    arcsRadiusOuter = arcsRadius.map(function (d) { return (d.outer - d.outer / 10) * radius; });\n                    arcsRadiusInner = arcsRadius.map(function (d) { return (d.inner - d.inner / 10) * radius; });\n                    donutRatio = d3.min(arcsRadius.map(function (d) { return (d.inner - d.inner / 10); }));\n                }\n                else {\n                    arcsRadiusOuter = arcsRadius.map(function (d) { return d.outer * radius; });\n                    arcsRadiusInner = arcsRadius.map(function (d) { return d.inner * radius; });\n                    donutRatio = d3.min(arcsRadius.map(function (d) { return d.inner; }));\n                }\n            }\n            nv.utils.initSVG(container);\n            // Setup containers and skeleton of chart\n            var wrap = container.selectAll('.nv-wrap.nv-pie').data(data);\n            var wrapEnter = wrap.enter().append('g').attr('class', 'nvd3 nv-wrap nv-pie nv-chart-' + id);\n            var gEnter = wrapEnter.append('g');\n            var g = wrap.select('g');\n            var g_pie = gEnter.append('g').attr('class', 'nv-pie');\n            gEnter.append('g').attr('class', 'nv-pieLabels');\n            wrap.attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');\n            g.select('.nv-pie').attr('transform', 'translate(' + availableWidth / 2 + ',' + availableHeight / 2 + ')');\n            g.select('.nv-pieLabels').attr('transform', 'translate(' + availableWidth / 2 + ',' + availableHeight / 2 + ')');\n            //\n            container.on('click', function (d, i) {\n                dispatch.chartClick({\n                    data: d,\n                    index: i,\n                    pos: d3.event,\n                    id: id\n                });\n            });\n            arcs = [];\n            arcsOver = [];\n            for (var i = 0; i < data[0].length; i++) {\n                var arc = d3.svg.arc().outerRadius(arcsRadiusOuter[i]);\n                var arcOver = d3.svg.arc().outerRadius(arcsRadiusOuter[i] + 5);\n                if (startAngle !== false) {\n                    arc.startAngle(startAngle);\n                    arcOver.startAngle(startAngle);\n                }\n                if (endAngle !== false) {\n                    arc.endAngle(endAngle);\n                    arcOver.endAngle(endAngle);\n                }\n                if (donut) {\n                    arc.innerRadius(arcsRadiusInner[i]);\n                    arcOver.innerRadius(arcsRadiusInner[i]);\n                }\n                if (arc.cornerRadius && cornerRadius) {\n                    arc.cornerRadius(cornerRadius);\n                    arcOver.cornerRadius(cornerRadius);\n                }\n                arcs.push(arc);\n                arcsOver.push(arcOver);\n            }\n            // Setup the Pie chart and choose the data element\n            var pie = d3.layout.pie()\n                .sort(null)\n                .value(function (d) { return d.disabled ? 0 : getY(d); });\n            // padAngle added in d3 3.5\n            if (pie.padAngle && padAngle) {\n                pie.padAngle(padAngle);\n            }\n            // if title is specified and donut, put it in the middle\n            if (donut && title) {\n                g_pie.append(\"text\").attr('class', 'nv-pie-title');\n                wrap.select('.nv-pie-title')\n                    .style(\"text-anchor\", \"middle\")\n                    .text(function (d) {\n                    return title;\n                })\n                    .style(\"font-size\", (Math.min(availableWidth, availableHeight)) * donutRatio * 2 / (title.length + 2) + \"px\")\n                    .attr(\"dy\", \"0.35em\") // trick to vertically center text\n                    .attr('transform', function (d, i) {\n                    return 'translate(0, ' + titleOffset + ')';\n                });\n            }\n            var slices = wrap.select('.nv-pie').selectAll('.nv-slice').data(pie);\n            var pieLabels = wrap.select('.nv-pieLabels').selectAll('.nv-label').data(pie);\n            slices.exit().remove();\n            pieLabels.exit().remove();\n            var ae = slices.enter().append('g');\n            ae.attr('class', 'nv-slice');\n            ae.on('mouseover', function (d, i) {\n                d3.select(this).classed('hover', true);\n                if (growOnHover) {\n                    d3.select(this).select(\"path\").transition()\n                        .duration(70)\n                        .attr(\"d\", arcsOver[i]);\n                }\n                dispatch.elementMouseover({\n                    data: d.data,\n                    index: i,\n                    color: d3.select(this).style(\"fill\"),\n                    percent: (d.endAngle - d.startAngle) / (2 * Math.PI)\n                });\n            });\n            ae.on('mouseout', function (d, i) {\n                d3.select(this).classed('hover', false);\n                if (growOnHover) {\n                    d3.select(this).select(\"path\").transition()\n                        .duration(50)\n                        .attr(\"d\", arcs[i]);\n                }\n                dispatch.elementMouseout({ data: d.data, index: i });\n            });\n            ae.on('mousemove', function (d, i) {\n                dispatch.elementMousemove({ data: d.data, index: i });\n            });\n            ae.on('click', function (d, i) {\n                var element = this;\n                dispatch.elementClick({\n                    data: d.data,\n                    index: i,\n                    color: d3.select(this).style(\"fill\"),\n                    event: d3.event,\n                    element: element\n                });\n            });\n            ae.on('dblclick', function (d, i) {\n                dispatch.elementDblClick({\n                    data: d.data,\n                    index: i,\n                    color: d3.select(this).style(\"fill\")\n                });\n            });\n            slices.attr('fill', function (d, i) { return color(d.data, i); });\n            slices.attr('stroke', function (d, i) { return color(d.data, i); });\n            var paths = ae.append('path').each(function (d) {\n                this._current = d;\n            });\n            slices.select('path')\n                .transition()\n                .duration(duration)\n                .attr('d', function (d, i) { return arcs[i](d); })\n                .attrTween('d', arcTween);\n            if (showLabels) {\n                // This does the normal label\n                var labelsArc = [];\n                for (var i = 0; i < data[0].length; i++) {\n                    labelsArc.push(arcs[i]);\n                    if (labelsOutside) {\n                        if (donut) {\n                            labelsArc[i] = d3.svg.arc().outerRadius(arcs[i].outerRadius());\n                            if (startAngle !== false)\n                                labelsArc[i].startAngle(startAngle);\n                            if (endAngle !== false)\n                                labelsArc[i].endAngle(endAngle);\n                        }\n                    }\n                    else if (!donut) {\n                        labelsArc[i].innerRadius(0);\n                    }\n                }\n                pieLabels.enter().append(\"g\").classed(\"nv-label\", true).each(function (d, i) {\n                    var group = d3.select(this);\n                    group.attr('transform', function (d, i) {\n                        if (labelSunbeamLayout) {\n                            d.outerRadius = arcsRadiusOuter[i] + 10; // Set Outer Coordinate\n                            d.innerRadius = arcsRadiusOuter[i] + 15; // Set Inner Coordinate\n                            var rotateAngle = (d.startAngle + d.endAngle) / 2 * (180 / Math.PI);\n                            if ((d.startAngle + d.endAngle) / 2 < Math.PI) {\n                                rotateAngle -= 90;\n                            }\n                            else {\n                                rotateAngle += 90;\n                            }\n                            return 'translate(' + labelsArc[i].centroid(d) + ') rotate(' + rotateAngle + ')';\n                        }\n                        else {\n                            d.outerRadius = radius + 10; // Set Outer Coordinate\n                            d.innerRadius = radius + 15; // Set Inner Coordinate\n                            return 'translate(' + labelsArc[i].centroid(d) + ')';\n                        }\n                    });\n                    group.append('rect')\n                        .style('stroke', '#fff')\n                        .style('fill', '#fff')\n                        .attr(\"rx\", 3)\n                        .attr(\"ry\", 3);\n                    group.append('text')\n                        .style('text-anchor', labelSunbeamLayout ? ((d.startAngle + d.endAngle) / 2 < Math.PI ? 'start' : 'end') : 'middle') //center the text on it's origin or begin/end if orthogonal aligned\n                        .style('fill', '#000');\n                });\n                var labelLocationHash = {};\n                var avgHeight = 14;\n                var avgWidth = 140;\n                var createHashKey = function (coordinates) {\n                    return Math.floor(coordinates[0] / avgWidth) * avgWidth + ',' + Math.floor(coordinates[1] / avgHeight) * avgHeight;\n                };\n                var getSlicePercentage = function (d) {\n                    return (d.endAngle - d.startAngle) / (2 * Math.PI);\n                };\n                pieLabels.watchTransition(renderWatch, 'pie labels').attr('transform', function (d, i) {\n                    if (labelSunbeamLayout) {\n                        d.outerRadius = arcsRadiusOuter[i] + 10; // Set Outer Coordinate\n                        d.innerRadius = arcsRadiusOuter[i] + 15; // Set Inner Coordinate\n                        var rotateAngle = (d.startAngle + d.endAngle) / 2 * (180 / Math.PI);\n                        if ((d.startAngle + d.endAngle) / 2 < Math.PI) {\n                            rotateAngle -= 90;\n                        }\n                        else {\n                            rotateAngle += 90;\n                        }\n                        return 'translate(' + labelsArc[i].centroid(d) + ') rotate(' + rotateAngle + ')';\n                    }\n                    else {\n                        d.outerRadius = radius + 10; // Set Outer Coordinate\n                        d.innerRadius = radius + 15; // Set Inner Coordinate\n                        /*\n                        Overlapping pie labels are not good. What this attempts to do is, prevent overlapping.\n                        Each label location is hashed, and if a hash collision occurs, we assume an overlap.\n                        Adjust the label's y-position to remove the overlap.\n                        */\n                        var center = labelsArc[i].centroid(d);\n                        var percent = getSlicePercentage(d);\n                        if (d.value && percent >= labelThreshold) {\n                            var hashKey = createHashKey(center);\n                            if (labelLocationHash[hashKey]) {\n                                center[1] -= avgHeight;\n                            }\n                            labelLocationHash[createHashKey(center)] = true;\n                        }\n                        return 'translate(' + center + ')';\n                    }\n                });\n                pieLabels.select(\".nv-label text\")\n                    .style('text-anchor', function (d, i) {\n                    //center the text on it's origin or begin/end if orthogonal aligned\n                    return labelSunbeamLayout ? ((d.startAngle + d.endAngle) / 2 < Math.PI ? 'start' : 'end') : 'middle';\n                })\n                    .text(function (d, i) {\n                    var percent = getSlicePercentage(d);\n                    var label = '';\n                    if (!d.value || percent < labelThreshold)\n                        return '';\n                    if (typeof labelType === 'function') {\n                        label = labelType(d, i, {\n                            'key': getX(d.data),\n                            'value': getY(d.data),\n                            'percent': valueFormat(percent)\n                        });\n                    }\n                    else {\n                        switch (labelType) {\n                            case 'key':\n                                label = getX(d.data);\n                                break;\n                            case 'value':\n                                label = valueFormat(getY(d.data));\n                                break;\n                            case 'percent':\n                                label = d3.format('%')(percent);\n                                break;\n                        }\n                    }\n                    return label;\n                });\n                if (hideOverlapLabels) {\n                    pieLabels\n                        .each(function (d, i) {\n                        if (!this.getBBox)\n                            return;\n                        var bb = this.getBBox(), center = labelsArc[i].centroid(d);\n                        var topLeft = {\n                            x: center[0] + bb.x,\n                            y: center[1] + bb.y\n                        };\n                        var topRight = {\n                            x: topLeft.x + bb.width,\n                            y: topLeft.y\n                        };\n                        var bottomLeft = {\n                            x: topLeft.x,\n                            y: topLeft.y + bb.height\n                        };\n                        var bottomRight = {\n                            x: topLeft.x + bb.width,\n                            y: topLeft.y + bb.height\n                        };\n                        d.visible = nv.utils.pointIsInArc(topLeft, d, arc) &&\n                            nv.utils.pointIsInArc(topRight, d, arc) &&\n                            nv.utils.pointIsInArc(bottomLeft, d, arc) &&\n                            nv.utils.pointIsInArc(bottomRight, d, arc);\n                    })\n                        .style('display', function (d) {\n                        return d.visible ? null : 'none';\n                    });\n                }\n            }\n            // Computes the angle of an arc, converting from radians to degrees.\n            function angle(d) {\n                var a = (d.startAngle + d.endAngle) * 90 / Math.PI - 90;\n                return a > 90 ? a - 180 : a;\n            }\n            function arcTween(a, idx) {\n                a.endAngle = isNaN(a.endAngle) ? 0 : a.endAngle;\n                a.startAngle = isNaN(a.startAngle) ? 0 : a.startAngle;\n                if (!donut)\n                    a.innerRadius = 0;\n                var i = d3.interpolate(this._current, a);\n                this._current = i(0);\n                return function (t) {\n                    return arcs[idx](i(t));\n                };\n            }\n        });\n        renderWatch.renderEnd('pie immediate');\n        return chart;\n    }\n    //============================================================\n    // Expose Public Variables\n    //------------------------------------------------------------\n    chart.dispatch = dispatch;\n    chart.options = nv.utils.optionsFunc.bind(chart);\n    chart._options = Object.create({}, {\n        // simple options, just get/set the necessary values\n        arcsRadius: { get: function () { return arcsRadius; }, set: function (_) { arcsRadius = _; } },\n        width: { get: function () { return width; }, set: function (_) { width = _; } },\n        height: { get: function () { return height; }, set: function (_) { height = _; } },\n        showLabels: { get: function () { return showLabels; }, set: function (_) { showLabels = _; } },\n        title: { get: function () { return title; }, set: function (_) { title = _; } },\n        titleOffset: { get: function () { return titleOffset; }, set: function (_) { titleOffset = _; } },\n        labelThreshold: { get: function () { return labelThreshold; }, set: function (_) { labelThreshold = _; } },\n        hideOverlapLabels: { get: function () { return hideOverlapLabels; }, set: function (_) { hideOverlapLabels = _; } },\n        valueFormat: { get: function () { return valueFormat; }, set: function (_) { valueFormat = _; } },\n        x: { get: function () { return getX; }, set: function (_) { getX = _; } },\n        id: { get: function () { return id; }, set: function (_) { id = _; } },\n        endAngle: { get: function () { return endAngle; }, set: function (_) { endAngle = _; } },\n        startAngle: { get: function () { return startAngle; }, set: function (_) { startAngle = _; } },\n        padAngle: { get: function () { return padAngle; }, set: function (_) { padAngle = _; } },\n        cornerRadius: { get: function () { return cornerRadius; }, set: function (_) { cornerRadius = _; } },\n        donutRatio: { get: function () { return donutRatio; }, set: function (_) { donutRatio = _; } },\n        labelsOutside: { get: function () { return labelsOutside; }, set: function (_) { labelsOutside = _; } },\n        labelSunbeamLayout: { get: function () { return labelSunbeamLayout; }, set: function (_) { labelSunbeamLayout = _; } },\n        donut: { get: function () { return donut; }, set: function (_) { donut = _; } },\n        growOnHover: { get: function () { return growOnHover; }, set: function (_) { growOnHover = _; } },\n        // depreciated after 1.7.1\n        pieLabelsOutside: { get: function () { return labelsOutside; }, set: function (_) {\n                labelsOutside = _;\n                nv.deprecated('pieLabelsOutside', 'use labelsOutside instead');\n            } },\n        // depreciated after 1.7.1\n        donutLabelsOutside: { get: function () { return labelsOutside; }, set: function (_) {\n                labelsOutside = _;\n                nv.deprecated('donutLabelsOutside', 'use labelsOutside instead');\n            } },\n        // deprecated after 1.7.1\n        labelFormat: { get: function () { return valueFormat; }, set: function (_) {\n                valueFormat = _;\n                nv.deprecated('labelFormat', 'use valueFormat instead');\n            } },\n        // options that require extra logic in the setter\n        margin: { get: function () { return margin; }, set: function (_) {\n                margin.top = typeof _.top != 'undefined' ? _.top : margin.top;\n                margin.right = typeof _.right != 'undefined' ? _.right : margin.right;\n                margin.bottom = typeof _.bottom != 'undefined' ? _.bottom : margin.bottom;\n                margin.left = typeof _.left != 'undefined' ? _.left : margin.left;\n            } },\n        duration: { get: function () { return duration; }, set: function (_) {\n                duration = _;\n                renderWatch.reset(duration);\n            } },\n        y: { get: function () { return getY; }, set: function (_) {\n                getY = d3.functor(_);\n            } },\n        color: { get: function () { return color; }, set: function (_) {\n                color = nv.utils.getColor(_);\n            } },\n        labelType: { get: function () { return labelType; }, set: function (_) {\n                labelType = _ || 'key';\n            } }\n    });\n    nv.utils.initOptions(chart);\n    return chart;\n};\n","nv.models.pieChart = function () {\n    \"use strict\";\n    //============================================================\n    // Public Variables with Default Settings\n    //------------------------------------------------------------\n    var pie = nv.models.pie();\n    var legend = nv.models.legend();\n    var tooltip = nv.models.tooltip();\n    var margin = { top: 30, right: 20, bottom: 20, left: 20 }, marginTop = null, width = null, height = null, showTooltipPercent = false, showLegend = true, legendPosition = \"top\", color = nv.utils.defaultColor(), state = nv.utils.state(), defaultState = null, noData = null, duration = 250, dispatch = d3.dispatch('stateChange', 'changeState', 'renderEnd');\n    tooltip\n        .duration(0)\n        .headerEnabled(false)\n        .valueFormatter(function (d, i) {\n        return pie.valueFormat()(d, i);\n    });\n    //============================================================\n    // Private Variables\n    //------------------------------------------------------------\n    var renderWatch = nv.utils.renderWatch(dispatch);\n    var stateGetter = function (data) {\n        return function () {\n            return {\n                active: data.map(function (d) { return !d.disabled; })\n            };\n        };\n    };\n    var stateSetter = function (data) {\n        return function (state) {\n            if (state.active !== undefined) {\n                data.forEach(function (series, i) {\n                    series.disabled = !state.active[i];\n                });\n            }\n        };\n    };\n    //============================================================\n    // Chart function\n    //------------------------------------------------------------\n    function chart(selection) {\n        renderWatch.reset();\n        renderWatch.models(pie);\n        selection.each(function (data) {\n            var container = d3.select(this);\n            nv.utils.initSVG(container);\n            var that = this;\n            var availableWidth = nv.utils.availableWidth(width, container, margin), availableHeight = nv.utils.availableHeight(height, container, margin);\n            chart.update = function () { container.transition().call(chart); };\n            chart.container = this;\n            state.setter(stateSetter(data), chart.update)\n                .getter(stateGetter(data))\n                .update();\n            //set state.disabled\n            state.disabled = data.map(function (d) { return !!d.disabled; });\n            if (!defaultState) {\n                var key;\n                defaultState = {};\n                for (key in state) {\n                    if (state[key] instanceof Array)\n                        defaultState[key] = state[key].slice(0);\n                    else\n                        defaultState[key] = state[key];\n                }\n            }\n            // Display No Data message if there's nothing to show.\n            if (!data || !data.length) {\n                nv.utils.noData(chart, container);\n                return chart;\n            }\n            else {\n                container.selectAll('.nv-noData').remove();\n            }\n            // Setup containers and skeleton of chart\n            var wrap = container.selectAll('g.nv-wrap.nv-pieChart').data([data]);\n            var gEnter = wrap.enter().append('g').attr('class', 'nvd3 nv-wrap nv-pieChart').append('g');\n            var g = wrap.select('g');\n            gEnter.append('g').attr('class', 'nv-pieWrap');\n            gEnter.append('g').attr('class', 'nv-legendWrap');\n            // Legend\n            if (!showLegend) {\n                g.select('.nv-legendWrap').selectAll('*').remove();\n            }\n            else {\n                if (legendPosition === \"top\") {\n                    legend.width(availableWidth).key(pie.x());\n                    wrap.select('.nv-legendWrap')\n                        .datum(data)\n                        .call(legend);\n                    if (!marginTop && legend.height() !== margin.top) {\n                        margin.top = legend.height();\n                        availableHeight = nv.utils.availableHeight(height, container, margin);\n                    }\n                    wrap.select('.nv-legendWrap')\n                        .attr('transform', 'translate(0,' + (-margin.top) + ')');\n                }\n                else if (legendPosition === \"right\") {\n                    var legendWidth = nv.models.legend().width();\n                    if (availableWidth / 2 < legendWidth) {\n                        legendWidth = (availableWidth / 2);\n                    }\n                    legend.height(availableHeight).key(pie.x());\n                    legend.width(legendWidth);\n                    availableWidth -= legend.width();\n                    wrap.select('.nv-legendWrap')\n                        .datum(data)\n                        .call(legend)\n                        .attr('transform', 'translate(' + (availableWidth) + ',0)');\n                }\n                else if (legendPosition === \"bottom\") {\n                    legend.width(availableWidth).key(pie.x());\n                    wrap.select('.nv-legendWrap')\n                        .datum(data)\n                        .call(legend);\n                    margin.bottom = legend.height();\n                    availableHeight = nv.utils.availableHeight(height, container, margin);\n                    wrap.select('.nv-legendWrap')\n                        .attr('transform', 'translate(0,' + availableHeight + ')');\n                }\n            }\n            wrap.attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');\n            // Main Chart Component(s)\n            pie.width(availableWidth).height(availableHeight);\n            var pieWrap = g.select('.nv-pieWrap').datum([data]);\n            d3.transition(pieWrap).call(pie);\n            //============================================================\n            // Event Handling/Dispatching (in chart's scope)\n            //------------------------------------------------------------\n            legend.dispatch.on('stateChange', function (newState) {\n                for (var key in newState) {\n                    state[key] = newState[key];\n                }\n                dispatch.stateChange(state);\n                chart.update();\n            });\n            // Update chart from a state object passed to event handler\n            dispatch.on('changeState', function (e) {\n                if (typeof e.disabled !== 'undefined') {\n                    data.forEach(function (series, i) {\n                        series.disabled = e.disabled[i];\n                    });\n                    state.disabled = e.disabled;\n                }\n                chart.update();\n            });\n        });\n        renderWatch.renderEnd('pieChart immediate');\n        return chart;\n    }\n    //============================================================\n    // Event Handling/Dispatching (out of chart's scope)\n    //------------------------------------------------------------\n    pie.dispatch.on('elementMouseover.tooltip', function (evt) {\n        evt['series'] = {\n            key: chart.x()(evt.data),\n            value: chart.y()(evt.data),\n            color: evt.color,\n            percent: evt.percent\n        };\n        if (!showTooltipPercent) {\n            delete evt.percent;\n            delete evt.series.percent;\n        }\n        tooltip.data(evt).hidden(false);\n    });\n    pie.dispatch.on('elementMouseout.tooltip', function (evt) {\n        tooltip.hidden(true);\n    });\n    pie.dispatch.on('elementMousemove.tooltip', function (evt) {\n        tooltip();\n    });\n    //============================================================\n    // Expose Public Variables\n    //------------------------------------------------------------\n    // expose chart's sub-components\n    chart.legend = legend;\n    chart.dispatch = dispatch;\n    chart.pie = pie;\n    chart.tooltip = tooltip;\n    chart.options = nv.utils.optionsFunc.bind(chart);\n    // use Object get/set functionality to map between vars and chart functions\n    chart._options = Object.create({}, {\n        // simple options, just get/set the necessary values\n        width: { get: function () { return width; }, set: function (_) { width = _; } },\n        height: { get: function () { return height; }, set: function (_) { height = _; } },\n        noData: { get: function () { return noData; }, set: function (_) { noData = _; } },\n        showTooltipPercent: { get: function () { return showTooltipPercent; }, set: function (_) { showTooltipPercent = _; } },\n        showLegend: { get: function () { return showLegend; }, set: function (_) { showLegend = _; } },\n        legendPosition: { get: function () { return legendPosition; }, set: function (_) { legendPosition = _; } },\n        defaultState: { get: function () { return defaultState; }, set: function (_) { defaultState = _; } },\n        // options that require extra logic in the setter\n        color: { get: function () { return color; }, set: function (_) {\n                color = _;\n                legend.color(color);\n                pie.color(color);\n            } },\n        duration: { get: function () { return duration; }, set: function (_) {\n                duration = _;\n                renderWatch.reset(duration);\n                pie.duration(duration);\n            } },\n        margin: { get: function () { return margin; }, set: function (_) {\n                if (_.top !== undefined) {\n                    margin.top = _.top;\n                    marginTop = _.top;\n                }\n                margin.right = _.right !== undefined ? _.right : margin.right;\n                margin.bottom = _.bottom !== undefined ? _.bottom : margin.bottom;\n                margin.left = _.left !== undefined ? _.left : margin.left;\n            } }\n    });\n    nv.utils.inheritOptions(chart, pie);\n    nv.utils.initOptions(chart);\n    return chart;\n};\n","nv.models.sankey = function () {\n    'use strict';\n    // Sources:\n    // - https://bost.ocks.org/mike/sankey/\n    // - https://github.com/soxofaan/d3-plugin-captain-sankey\n    //============================================================\n    // Public Variables with Default Settings\n    //------------------------------------------------------------\n    var sankey = {}, nodeWidth = 24, nodePadding = 8, size = [1, 1], nodes = [], links = [], sinksRight = true;\n    var layout = function (iterations) {\n        computeNodeLinks();\n        computeNodeValues();\n        computeNodeBreadths();\n        computeNodeDepths(iterations);\n    };\n    var relayout = function () {\n        computeLinkDepths();\n    };\n    // SVG path data generator, to be used as 'd' attribute on 'path' element selection.\n    var link = function () {\n        var curvature = .5;\n        function link(d) {\n            var x0 = d.source.x + d.source.dx, x1 = d.target.x, xi = d3.interpolateNumber(x0, x1), x2 = xi(curvature), x3 = xi(1 - curvature), y0 = d.source.y + d.sy + d.dy / 2, y1 = d.target.y + d.ty + d.dy / 2;\n            var linkPath = 'M' + x0 + ',' + y0\n                + 'C' + x2 + ',' + y0\n                + ' ' + x3 + ',' + y1\n                + ' ' + x1 + ',' + y1;\n            return linkPath;\n        }\n        link.curvature = function (_) {\n            if (!arguments.length)\n                return curvature;\n            curvature = +_;\n            return link;\n        };\n        return link;\n    };\n    // Y-position of the middle of a node.\n    var center = function (node) {\n        return node.y + node.dy / 2;\n    };\n    //============================================================\n    // Private Variables\n    //------------------------------------------------------------\n    // Populate the sourceLinks and targetLinks for each node.\n    // Also, if the source and target are not objects, assume they are indices.\n    function computeNodeLinks() {\n        nodes.forEach(function (node) {\n            // Links that have this node as source.\n            node.sourceLinks = [];\n            // Links that have this node as target.\n            node.targetLinks = [];\n        });\n        links.forEach(function (link) {\n            var source = link.source, target = link.target;\n            if (typeof source === 'number')\n                source = link.source = nodes[link.source];\n            if (typeof target === 'number')\n                target = link.target = nodes[link.target];\n            source.sourceLinks.push(link);\n            target.targetLinks.push(link);\n        });\n    }\n    // Compute the value (size) of each node by summing the associated links.\n    function computeNodeValues() {\n        nodes.forEach(function (node) {\n            node.value = Math.max(d3.sum(node.sourceLinks, value), d3.sum(node.targetLinks, value));\n        });\n    }\n    // Iteratively assign the breadth (x-position) for each node.\n    // Nodes are assigned the maximum breadth of incoming neighbors plus one;\n    // nodes with no incoming links are assigned breadth zero, while\n    // nodes with no outgoing links are assigned the maximum breadth.\n    function computeNodeBreadths() {\n        //\n        var remainingNodes = nodes, nextNodes, x = 0;\n        // Work from left to right.\n        // Keep updating the breath (x-position) of nodes that are target of recently updated nodes.\n        //\n        while (remainingNodes.length && x < nodes.length) {\n            nextNodes = [];\n            remainingNodes.forEach(function (node) {\n                node.x = x;\n                node.dx = nodeWidth;\n                node.sourceLinks.forEach(function (link) {\n                    if (nextNodes.indexOf(link.target) < 0) {\n                        nextNodes.push(link.target);\n                    }\n                });\n            });\n            remainingNodes = nextNodes;\n            ++x;\n            //\n        }\n        // Optionally move pure sinks always to the right.\n        if (sinksRight) {\n            moveSinksRight(x);\n        }\n        scaleNodeBreadths((size[0] - nodeWidth) / (x - 1));\n    }\n    function moveSourcesRight() {\n        nodes.forEach(function (node) {\n            if (!node.targetLinks.length) {\n                node.x = d3.min(node.sourceLinks, function (d) { return d.target.x; }) - 1;\n            }\n        });\n    }\n    function moveSinksRight(x) {\n        nodes.forEach(function (node) {\n            if (!node.sourceLinks.length) {\n                node.x = x - 1;\n            }\n        });\n    }\n    function scaleNodeBreadths(kx) {\n        nodes.forEach(function (node) {\n            node.x *= kx;\n        });\n    }\n    // Compute the depth (y-position) for each node.\n    function computeNodeDepths(iterations) {\n        // Group nodes by breath.\n        var nodesByBreadth = d3.nest()\n            .key(function (d) { return d.x; })\n            .sortKeys(d3.ascending)\n            .entries(nodes)\n            .map(function (d) { return d.values; });\n        //\n        initializeNodeDepth();\n        resolveCollisions();\n        computeLinkDepths();\n        for (var alpha = 1; iterations > 0; --iterations) {\n            relaxRightToLeft(alpha *= .99);\n            resolveCollisions();\n            computeLinkDepths();\n            relaxLeftToRight(alpha);\n            resolveCollisions();\n            computeLinkDepths();\n        }\n        function initializeNodeDepth() {\n            // Calculate vertical scaling factor.\n            var ky = d3.min(nodesByBreadth, function (nodes) {\n                return (size[1] - (nodes.length - 1) * nodePadding) / d3.sum(nodes, value);\n            });\n            nodesByBreadth.forEach(function (nodes) {\n                nodes.forEach(function (node, i) {\n                    node.y = i;\n                    node.dy = node.value * ky;\n                });\n            });\n            links.forEach(function (link) {\n                link.dy = link.value * ky;\n            });\n        }\n        function relaxLeftToRight(alpha) {\n            nodesByBreadth.forEach(function (nodes, breadth) {\n                nodes.forEach(function (node) {\n                    if (node.targetLinks.length) {\n                        // Value-weighted average of the y-position of source node centers linked to this node.\n                        var y = d3.sum(node.targetLinks, weightedSource) / d3.sum(node.targetLinks, value);\n                        node.y += (y - center(node)) * alpha;\n                    }\n                });\n            });\n            function weightedSource(link) {\n                return (link.source.y + link.sy + link.dy / 2) * link.value;\n            }\n        }\n        function relaxRightToLeft(alpha) {\n            nodesByBreadth.slice().reverse().forEach(function (nodes) {\n                nodes.forEach(function (node) {\n                    if (node.sourceLinks.length) {\n                        // Value-weighted average of the y-positions of target nodes linked to this node.\n                        var y = d3.sum(node.sourceLinks, weightedTarget) / d3.sum(node.sourceLinks, value);\n                        node.y += (y - center(node)) * alpha;\n                    }\n                });\n            });\n            function weightedTarget(link) {\n                return (link.target.y + link.ty + link.dy / 2) * link.value;\n            }\n        }\n        function resolveCollisions() {\n            nodesByBreadth.forEach(function (nodes) {\n                var node, dy, y0 = 0, n = nodes.length, i;\n                // Push any overlapping nodes down.\n                nodes.sort(ascendingDepth);\n                for (i = 0; i < n; ++i) {\n                    node = nodes[i];\n                    dy = y0 - node.y;\n                    if (dy > 0)\n                        node.y += dy;\n                    y0 = node.y + node.dy + nodePadding;\n                }\n                // If the bottommost node goes outside the bounds, push it back up.\n                dy = y0 - nodePadding - size[1];\n                if (dy > 0) {\n                    y0 = node.y -= dy;\n                    // Push any overlapping nodes back up.\n                    for (i = n - 2; i >= 0; --i) {\n                        node = nodes[i];\n                        dy = node.y + node.dy + nodePadding - y0;\n                        if (dy > 0)\n                            node.y -= dy;\n                        y0 = node.y;\n                    }\n                }\n            });\n        }\n        function ascendingDepth(a, b) {\n            return a.y - b.y;\n        }\n    }\n    // Compute y-offset of the source endpoint (sy) and target endpoints (ty) of links,\n    // relative to the source/target node's y-position.\n    function computeLinkDepths() {\n        nodes.forEach(function (node) {\n            node.sourceLinks.sort(ascendingTargetDepth);\n            node.targetLinks.sort(ascendingSourceDepth);\n        });\n        nodes.forEach(function (node) {\n            var sy = 0, ty = 0;\n            node.sourceLinks.forEach(function (link) {\n                link.sy = sy;\n                sy += link.dy;\n            });\n            node.targetLinks.forEach(function (link) {\n                link.ty = ty;\n                ty += link.dy;\n            });\n        });\n        function ascendingSourceDepth(a, b) {\n            return a.source.y - b.source.y;\n        }\n        function ascendingTargetDepth(a, b) {\n            return a.target.y - b.target.y;\n        }\n    }\n    // Value property accessor.\n    function value(x) {\n        return x.value;\n    }\n    sankey.options = nv.utils.optionsFunc.bind(sankey);\n    sankey._options = Object.create({}, {\n        nodeWidth: { get: function () { return nodeWidth; }, set: function (_) { nodeWidth = +_; } },\n        nodePadding: { get: function () { return nodePadding; }, set: function (_) { nodePadding = _; } },\n        nodes: { get: function () { return nodes; }, set: function (_) { nodes = _; } },\n        links: { get: function () { return links; }, set: function (_) { links = _; } },\n        size: { get: function () { return size; }, set: function (_) { size = _; } },\n        sinksRight: { get: function () { return sinksRight; }, set: function (_) { sinksRight = _; } },\n        layout: { get: function () { layout(32); }, set: function (_) { layout(_); } },\n        relayout: { get: function () { relayout(); }, set: function (_) { } },\n        center: { get: function () { return center(); }, set: function (_) {\n                if (typeof _ === 'function') {\n                    center = _;\n                }\n            } },\n        link: { get: function () { return link(); }, set: function (_) {\n                if (typeof _ === 'function') {\n                    link = _;\n                }\n                return link();\n            } }\n    });\n    nv.utils.initOptions(sankey);\n    return sankey;\n};\n","nv.models.sankeyChart = function () {\n    \"use strict\";\n    // Sources:\n    // - https://bost.ocks.org/mike/sankey/\n    // - https://github.com/soxofaan/d3-plugin-captain-sankey\n    //============================================================\n    // Public Variables with Default Settings\n    //------------------------------------------------------------\n    var margin = { top: 5, right: 0, bottom: 5, left: 0 }, sankey = nv.models.sankey(), width = 600, height = 400, nodeWidth = 36, nodePadding = 40, units = 'units', center = undefined;\n    //============================================================\n    // Private Variables\n    //------------------------------------------------------------\n    var formatNumber = d3.format(',.0f'); // zero decimal places\n    var format = function (d) {\n        return formatNumber(d) + ' ' + units;\n    };\n    var color = d3.scale.category20();\n    var linkTitle = function (d) {\n        return d.source.name + '  ' + d.target.name + '\\n' + format(d.value);\n    };\n    var nodeFillColor = function (d) {\n        return d.color = color(d.name.replace(/ .*/, ''));\n    };\n    var nodeStrokeColor = function (d) {\n        return d3.rgb(d.color).darker(2);\n    };\n    var nodeTitle = function (d) {\n        return d.name + '\\n' + format(d.value);\n    };\n    var showError = function (element, message) {\n        element.append('text')\n            .attr('x', 0)\n            .attr('y', 0)\n            .attr('class', 'nvd3-sankey-chart-error')\n            .attr('text-anchor', 'middle')\n            .text(message);\n    };\n    function chart(selection) {\n        selection.each(function (data) {\n            var testData = {\n                nodes: [\n                    { 'node': 1, 'name': 'Test 1' },\n                    { 'node': 2, 'name': 'Test 2' },\n                    { 'node': 3, 'name': 'Test 3' },\n                    { 'node': 4, 'name': 'Test 4' },\n                    { 'node': 5, 'name': 'Test 5' },\n                    { 'node': 6, 'name': 'Test 6' }\n                ],\n                links: [\n                    { 'source': 0, 'target': 1, 'value': 2295 },\n                    { 'source': 0, 'target': 5, 'value': 1199 },\n                    { 'source': 1, 'target': 2, 'value': 1119 },\n                    { 'source': 1, 'target': 5, 'value': 1176 },\n                    { 'source': 2, 'target': 3, 'value': 487 },\n                    { 'source': 2, 'target': 5, 'value': 632 },\n                    { 'source': 3, 'target': 4, 'value': 301 },\n                    { 'source': 3, 'target': 5, 'value': 186 }\n                ]\n            };\n            // Error handling\n            var isDataValid = false;\n            var dataAvailable = false;\n            // check if data is valid\n            if ((typeof data['nodes'] === 'object' && data['nodes'].length) >= 0 &&\n                (typeof data['links'] === 'object' && data['links'].length) >= 0) {\n                isDataValid = true;\n            }\n            // check if data is available\n            if (data['nodes'] && data['nodes'].length > 0 &&\n                data['links'] && data['links'].length > 0) {\n                dataAvailable = true;\n            }\n            // show error\n            if (!isDataValid) {\n                console.error('NVD3 Sankey chart error:', 'invalid data format for', data);\n                console.info('Valid data format is: ', testData, JSON.stringify(testData));\n                showError(selection, 'Error loading chart, data is invalid');\n                return false;\n            }\n            // TODO use nv.utils.noData\n            if (!dataAvailable) {\n                showError(selection, 'No data available');\n                return false;\n            }\n            // No errors, continue\n            // append the svg canvas to the page\n            var svg = selection.append('svg')\n                .attr('width', width)\n                .attr('height', height)\n                .append('g')\n                .attr('class', 'nvd3 nv-wrap nv-sankeyChart');\n            // Set the sankey diagram properties\n            sankey\n                .nodeWidth(nodeWidth)\n                .nodePadding(nodePadding)\n                .size([width, height]);\n            var path = sankey.link();\n            sankey\n                .nodes(data.nodes)\n                .links(data.links)\n                .layout(32)\n                .center(center);\n            // add in the links\n            var link = svg.append('g').selectAll('.link')\n                .data(data.links)\n                .enter().append('path')\n                .attr('class', 'link')\n                .attr('d', path)\n                .style('stroke-width', function (d) { return Math.max(1, d.dy); })\n                .sort(function (a, b) { return b.dy - a.dy; });\n            // add the link titles\n            link.append('title')\n                .text(linkTitle);\n            // add in the nodes\n            var node = svg.append('g').selectAll('.node')\n                .data(data.nodes)\n                .enter().append('g')\n                .attr('class', 'node')\n                .attr('transform', function (d) { return 'translate(' + d.x + ',' + d.y + ')'; })\n                .call(d3.behavior\n                .drag()\n                .origin(function (d) { return d; })\n                .on('dragstart', function () {\n                this.parentNode.appendChild(this);\n            })\n                .on('drag', dragmove));\n            // add the rectangles for the nodes\n            node.append('rect')\n                .attr('height', function (d) { return d.dy; })\n                .attr('width', sankey.nodeWidth())\n                .style('fill', nodeFillColor)\n                .style('stroke', nodeStrokeColor)\n                .append('title')\n                .text(nodeTitle);\n            // add in the title for the nodes\n            node.append('text')\n                .attr('x', -6)\n                .attr('y', function (d) { return d.dy / 2; })\n                .attr('dy', '.35em')\n                .attr('text-anchor', 'end')\n                .attr('transform', null)\n                .text(function (d) { return d.name; })\n                .filter(function (d) { return d.x < width / 2; })\n                .attr('x', 6 + sankey.nodeWidth())\n                .attr('text-anchor', 'start');\n            // the function for moving the nodes\n            function dragmove(d) {\n                d3.select(this).attr('transform', 'translate(' + d.x + ',' + (d.y = Math.max(0, Math.min(height - d.dy, d3.event.y))) + ')');\n                sankey.relayout();\n                link.attr('d', path);\n            }\n        });\n        return chart;\n    }\n    //============================================================\n    // Expose Public Variables\n    //------------------------------------------------------------\n    chart.options = nv.utils.optionsFunc.bind(chart);\n    chart._options = Object.create({}, {\n        // simple options, just get/set the necessary values\n        units: { get: function () { return units; }, set: function (_) { units = _; } },\n        width: { get: function () { return width; }, set: function (_) { width = _; } },\n        height: { get: function () { return height; }, set: function (_) { height = _; } },\n        format: { get: function () { return format; }, set: function (_) { format = _; } },\n        linkTitle: { get: function () { return linkTitle; }, set: function (_) { linkTitle = _; } },\n        nodeWidth: { get: function () { return nodeWidth; }, set: function (_) { nodeWidth = _; } },\n        nodePadding: { get: function () { return nodePadding; }, set: function (_) { nodePadding = _; } },\n        center: { get: function () { return center; }, set: function (_) { center = _; } },\n        // options that require extra logic in the setter\n        margin: { get: function () { return margin; }, set: function (_) {\n                margin.top = _.top !== undefined ? _.top : margin.top;\n                margin.right = _.right !== undefined ? _.right : margin.right;\n                margin.bottom = _.bottom !== undefined ? _.bottom : margin.bottom;\n                margin.left = _.left !== undefined ? _.left : margin.left;\n            } },\n        nodeStyle: { get: function () { return {}; }, set: function (_) {\n                nodeFillColor = _.fillColor !== undefined ? _.fillColor : nodeFillColor;\n                nodeStrokeColor = _.strokeColor !== undefined ? _.strokeColor : nodeStrokeColor;\n                nodeTitle = _.title !== undefined ? _.title : nodeTitle;\n            } }\n    });\n    nv.utils.initOptions(chart);\n    return chart;\n};\n","nv.models.scatter = function () {\n    \"use strict\";\n    //============================================================\n    // Public Variables with Default Settings\n    //------------------------------------------------------------\n    var margin = { top: 0, right: 0, bottom: 0, left: 0 }, width = null, height = null, color = nv.utils.defaultColor() // chooses color\n    , pointBorderColor = null, id = Math.floor(Math.random() * 100000) //Create semi-unique ID incase user doesn't select one\n    , container = null, x = d3.scale.linear(), y = d3.scale.linear(), z = d3.scale.linear() //linear because d3.svg.shape.size is treated as area\n    , getX = function (d) { return d.x; } // accessor to get the x value\n    , getY = function (d) { return d.y; } // accessor to get the y value\n    , getSize = function (d) { return d.size || 1; } // accessor to get the point size\n    , getShape = function (d) { return d.shape || 'circle'; } // accessor to get point shape\n    , forceX = [] // List of numbers to Force into the X scale (ie. 0, or a max / min, etc.)\n    , forceY = [] // List of numbers to Force into the Y scale\n    , forceSize = [] // List of numbers to Force into the Size scale\n    , interactive = true // If true, plots a voronoi overlay for advanced point intersection\n    , pointActive = function (d) { return !d.notActive; } // any points that return false will be filtered out\n    , padData = false // If true, adds half a data points width to front and back, for lining up a line chart with a bar chart\n    , padDataOuter = .1 //outerPadding to imitate ordinal scale outer padding\n    , clipEdge = false // if true, masks points within x and y scale\n    , clipVoronoi = true // if true, masks each point with a circle... can turn off to slightly increase performance\n    , showVoronoi = false // display the voronoi areas\n    , clipRadius = function () { return 25; } // function to get the radius for voronoi point clips\n    , xDomain = null // Override x domain (skips the calculation from data)\n    , yDomain = null // Override y domain\n    , xRange = null // Override x range\n    , yRange = null // Override y range\n    , sizeDomain = null // Override point size domain\n    , sizeRange = null, singlePoint = false, dispatch = d3.dispatch('elementClick', 'elementDblClick', 'elementMouseover', 'elementMouseout', 'renderEnd'), useVoronoi = true, duration = 250, interactiveUpdateDelay = 300, showLabels = false;\n    //============================================================\n    // Private Variables\n    //------------------------------------------------------------\n    var x0, y0, z0 // used to store previous scales\n    , xDom, yDom // used to store previous domains\n    , width0, height0, timeoutID, needsUpdate = false // Flag for when the points are visually updating, but the interactive layer is behind, to disable tooltips\n    , renderWatch = nv.utils.renderWatch(dispatch, duration), _sizeRange_def = [16, 256], _cache = {};\n    //============================================================\n    // Diff and Cache Utilities\n    //------------------------------------------------------------\n    // getDiffs is used to filter unchanged points from the update\n    // selection. It implicitly updates it's cache when called and\n    // therefor the diff is based upon the previous invocation NOT\n    // the previous update.\n    //\n    // getDiffs takes a point as its first argument followed by n\n    // key getter pairs (d, [key, get... key, get]) this approach\n    // was chosen for efficiency. (The filter will call it a LOT).\n    //\n    // It is important to call delCache on point exit to prevent a\n    // memory leak. It is also needed to prevent invalid caches if\n    // a new point uses the same series and point id key.\n    //\n    // Argument Performance Concerns:\n    // - Object property lists for key getter pairs would be very\n    // expensive (points * objects for the GC every update).\n    // - ES6 function names for implicit keys would be nice but\n    // they are not guaranteed to be unique.\n    // - function.toString to obtain implicit keys is possible\n    // but long object keys are not free (internal hash).\n    // - Explicit key without objects are the most efficient.\n    function getCache(d) {\n        var key, val;\n        key = d[0].series + ':' + d[1];\n        val = _cache[key] = _cache[key] || {};\n        return val;\n    }\n    function delCache(d) {\n        var key, val;\n        key = d[0].series + ':' + d[1];\n        delete _cache[key];\n    }\n    function getDiffs(d) {\n        var i, key, val, cache = getCache(d), diffs = false;\n        for (i = 1; i < arguments.length; i += 2) {\n            key = arguments[i];\n            val = arguments[i + 1](d[0], d[1]);\n            if (cache[key] !== val || !cache.hasOwnProperty(key)) {\n                cache[key] = val;\n                diffs = true;\n            }\n        }\n        return diffs;\n    }\n    function chart(selection) {\n        renderWatch.reset();\n        selection.each(function (data) {\n            container = d3.select(this);\n            var availableWidth = nv.utils.availableWidth(width, container, margin), availableHeight = nv.utils.availableHeight(height, container, margin);\n            nv.utils.initSVG(container);\n            //add series index to each data point for reference\n            data.forEach(function (series, i) {\n                series.values.forEach(function (point) {\n                    point.series = i;\n                });\n            });\n            // Setup Scales\n            var logScale = (typeof (chart.yScale().base) === \"function\"); // Only log scale has a method \"base()\"\n            // remap and flatten the data for use in calculating the scales' domains\n            var seriesData = (xDomain && yDomain && sizeDomain) ? [] : // if we know xDomain and yDomain and sizeDomain, no need to calculate.... if Size is constant remember to set sizeDomain to speed up performance\n                d3.merge(data.map(function (d) {\n                    return d.values.map(function (d, i) {\n                        return { x: getX(d, i), y: getY(d, i), size: getSize(d, i) };\n                    });\n                }));\n            x.domain(xDomain || d3.extent(seriesData.map(function (d) { return d.x; }).concat(forceX)));\n            if (padData && data[0])\n                x.range(xRange || [(availableWidth * padDataOuter + availableWidth) / (2 * data[0].values.length), availableWidth - availableWidth * (1 + padDataOuter) / (2 * data[0].values.length)]);\n            //x.range([availableWidth * .5 / data[0].values.length, availableWidth * (data[0].values.length - .5)  / data[0].values.length ]);\n            else\n                x.range(xRange || [0, availableWidth]);\n            if (logScale) {\n                var min = d3.min(seriesData.map(function (d) { if (d.y !== 0)\n                    return d.y; }));\n                y.clamp(true)\n                    .domain(yDomain || d3.extent(seriesData.map(function (d) {\n                    if (d.y !== 0)\n                        return d.y;\n                    else\n                        return min * 0.1;\n                }).concat(forceY)))\n                    .range(yRange || [availableHeight, 0]);\n            }\n            else {\n                y.domain(yDomain || d3.extent(seriesData.map(function (d) { return d.y; }).concat(forceY)))\n                    .range(yRange || [availableHeight, 0]);\n            }\n            z.domain(sizeDomain || d3.extent(seriesData.map(function (d) { return d.size; }).concat(forceSize)))\n                .range(sizeRange || _sizeRange_def);\n            // If scale's domain don't have a range, slightly adjust to make one... so a chart can show a single data point\n            singlePoint = x.domain()[0] === x.domain()[1] || y.domain()[0] === y.domain()[1];\n            if (x.domain()[0] === x.domain()[1])\n                x.domain()[0] ?\n                    x.domain([x.domain()[0] - x.domain()[0] * 0.01, x.domain()[1] + x.domain()[1] * 0.01])\n                    : x.domain([-1, 1]);\n            if (y.domain()[0] === y.domain()[1])\n                y.domain()[0] ?\n                    y.domain([y.domain()[0] - y.domain()[0] * 0.01, y.domain()[1] + y.domain()[1] * 0.01])\n                    : y.domain([-1, 1]);\n            if (isNaN(x.domain()[0])) {\n                x.domain([-1, 1]);\n            }\n            if (isNaN(y.domain()[0])) {\n                y.domain([-1, 1]);\n            }\n            x0 = x0 || x;\n            y0 = y0 || y;\n            z0 = z0 || z;\n            var scaleDiff = x(1) !== x0(1) || y(1) !== y0(1) || z(1) !== z0(1);\n            width0 = width0 || width;\n            height0 = height0 || height;\n            var sizeDiff = width0 !== width || height0 !== height;\n            // Domain Diffs\n            xDom = xDom || [];\n            var domainDiff = xDom[0] !== x.domain()[0] || xDom[1] !== x.domain()[1];\n            xDom = x.domain();\n            yDom = yDom || [];\n            domainDiff = domainDiff || yDom[0] !== y.domain()[0] || yDom[1] !== y.domain()[1];\n            yDom = y.domain();\n            // Setup containers and skeleton of chart\n            var wrap = container.selectAll('g.nv-wrap.nv-scatter').data([data]);\n            var wrapEnter = wrap.enter().append('g').attr('class', 'nvd3 nv-wrap nv-scatter nv-chart-' + id);\n            var defsEnter = wrapEnter.append('defs');\n            var gEnter = wrapEnter.append('g');\n            var g = wrap.select('g');\n            wrap.classed('nv-single-point', singlePoint);\n            gEnter.append('g').attr('class', 'nv-groups');\n            gEnter.append('g').attr('class', 'nv-point-paths');\n            wrapEnter.append('g').attr('class', 'nv-point-clips');\n            wrap.attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');\n            defsEnter.append('clipPath')\n                .attr('id', 'nv-edge-clip-' + id)\n                .append('rect')\n                .attr('transform', 'translate( -10, -10)');\n            wrap.select('#nv-edge-clip-' + id + ' rect')\n                .attr('width', availableWidth + 20)\n                .attr('height', (availableHeight > 0) ? availableHeight + 20 : 0);\n            g.attr('clip-path', clipEdge ? 'url(#nv-edge-clip-' + id + ')' : '');\n            function updateInteractiveLayer() {\n                // Always clear needs-update flag regardless of whether or not\n                // we will actually do anything (avoids needless invocations).\n                needsUpdate = false;\n                if (!interactive)\n                    return false;\n                container.selectAll(\".nv-point.hover\").classed(\"hover\", false);\n                // nuke all voronoi paths\n                wrap.select('.nv-point-paths').selectAll('path').remove();\n                // inject series and point index for reference into voronoi\n                if (useVoronoi === true) {\n                    var vertices = d3.merge(data.map(function (group, groupIndex) {\n                        return group.values\n                            .map(function (point, pointIndex) {\n                            // *Adding noise to make duplicates very unlikely\n                            // *Injecting series and point index for reference\n                            // *Adding a 'jitter' to the points, because there's an issue in d3.geom.voronoi.\n                            var pX = getX(point, pointIndex);\n                            var pY = getY(point, pointIndex);\n                            return [nv.utils.NaNtoZero(x(pX)) + Math.random() * 1e-4,\n                                nv.utils.NaNtoZero(y(pY)) + Math.random() * 1e-4,\n                                groupIndex,\n                                pointIndex, point];\n                        })\n                            .filter(function (pointArray, pointIndex) {\n                            return pointActive(pointArray[4], pointIndex); // Issue #237.. move filter to after map, so pointIndex is correct!\n                        });\n                    }));\n                    if (vertices.length == 0)\n                        return false; // No active points, we're done\n                    if (vertices.length < 3) {\n                        // Issue #283 - Adding 2 dummy points to the voronoi b/c voronoi requires min 3 points to work\n                        vertices.push([x.range()[0] - 20, y.range()[0] - 20, null, null]);\n                        vertices.push([x.range()[1] + 20, y.range()[1] + 20, null, null]);\n                        vertices.push([x.range()[0] - 20, y.range()[0] + 20, null, null]);\n                        vertices.push([x.range()[1] + 20, y.range()[1] - 20, null, null]);\n                    }\n                    // keep voronoi sections from going more than 10 outside of graph\n                    // to avoid overlap with other things like legend etc\n                    var bounds = d3.geom.polygon([\n                        [-10, -10],\n                        [-10, height + 10],\n                        [width + 10, height + 10],\n                        [width + 10, -10]\n                    ]);\n                    // delete duplicates from vertices - essential assumption for d3.geom.voronoi\n                    var epsilon = 1e-4; // Uses 1e-4 to determine equivalence.\n                    vertices = vertices.sort(function (a, b) { return ((a[0] - b[0]) || (a[1] - b[1])); });\n                    for (var i = 0; i < vertices.length - 1;) {\n                        if ((Math.abs(vertices[i][0] - vertices[i + 1][0]) < epsilon) &&\n                            (Math.abs(vertices[i][1] - vertices[i + 1][1]) < epsilon)) {\n                            vertices.splice(i + 1, 1);\n                        }\n                        else {\n                            i++;\n                        }\n                    }\n                    var voronoi = d3.geom.voronoi(vertices).map(function (d, i) {\n                        if (d.length === 0) {\n                            return null;\n                        }\n                        return {\n                            'data': bounds.clip(d),\n                            'series': vertices[i][2],\n                            'point': vertices[i][3]\n                        };\n                    });\n                    var pointPaths = wrap.select('.nv-point-paths').selectAll('path').data(voronoi);\n                    var vPointPaths = pointPaths\n                        .enter().append(\"svg:path\")\n                        .attr(\"d\", function (d) {\n                        if (!d || !d.data || d.data.length === 0)\n                            return 'M 0 0';\n                        else\n                            return \"M\" + d.data.join(\",\") + \"Z\";\n                    })\n                        .attr(\"id\", function (d, i) {\n                        return \"nv-path-\" + i;\n                    })\n                        .attr(\"clip-path\", function (d, i) { return \"url(#nv-clip-\" + id + \"-\" + i + \")\"; });\n                    // good for debugging point hover issues\n                    if (showVoronoi) {\n                        vPointPaths.style(\"fill\", d3.rgb(230, 230, 230))\n                            .style('fill-opacity', 0.4)\n                            .style('stroke-opacity', 1)\n                            .style(\"stroke\", d3.rgb(200, 200, 200));\n                    }\n                    if (clipVoronoi) {\n                        // voronoi sections are already set to clip,\n                        // just create the circles with the IDs they expect\n                        wrap.select('.nv-point-clips').selectAll('*').remove(); // must do * since it has sub-dom\n                        var pointClips = wrap.select('.nv-point-clips').selectAll('clipPath').data(vertices);\n                        var vPointClips = pointClips\n                            .enter().append(\"svg:clipPath\")\n                            .attr(\"id\", function (d, i) { return \"nv-clip-\" + id + \"-\" + i; })\n                            .append(\"svg:circle\")\n                            .attr('cx', function (d) { return d[0]; })\n                            .attr('cy', function (d) { return d[1]; })\n                            .attr('r', clipRadius);\n                    }\n                    var mouseEventCallback = function (el, d, mDispatch) {\n                        if (needsUpdate)\n                            return 0;\n                        var series = data[d.series];\n                        if (series === undefined)\n                            return;\n                        var point = series.values[d.point];\n                        point['color'] = color(series, d.series);\n                        // standardize attributes for tooltip.\n                        point['x'] = getX(point);\n                        point['y'] = getY(point);\n                        // can't just get box of event node since it's actually a voronoi polygon\n                        var box = container.node().getBoundingClientRect();\n                        var scrollTop = window.pageYOffset || document.documentElement.scrollTop;\n                        var scrollLeft = window.pageXOffset || document.documentElement.scrollLeft;\n                        var pos = {\n                            left: x(getX(point, d.point)) + box.left + scrollLeft + margin.left + 10,\n                            top: y(getY(point, d.point)) + box.top + scrollTop + margin.top + 10\n                        };\n                        mDispatch({\n                            point: point,\n                            series: series,\n                            pos: pos,\n                            relativePos: [x(getX(point, d.point)) + margin.left, y(getY(point, d.point)) + margin.top],\n                            seriesIndex: d.series,\n                            pointIndex: d.point,\n                            event: d3.event,\n                            element: el\n                        });\n                    };\n                    pointPaths\n                        .on('click', function (d) {\n                        mouseEventCallback(this, d, dispatch.elementClick);\n                    })\n                        .on('dblclick', function (d) {\n                        mouseEventCallback(this, d, dispatch.elementDblClick);\n                    })\n                        .on('mouseover', function (d) {\n                        mouseEventCallback(this, d, dispatch.elementMouseover);\n                    })\n                        .on('mouseout', function (d, i) {\n                        mouseEventCallback(this, d, dispatch.elementMouseout);\n                    });\n                }\n                else {\n                    // add event handlers to points instead voronoi paths\n                    wrap.select('.nv-groups').selectAll('.nv-group')\n                        .selectAll('.nv-point')\n                        //.data(dataWithPoints)\n                        //.style('pointer-events', 'auto') // recativate events, disabled by css\n                        .on('click', function (d, i) {\n                        //nv.log('test', d, i);\n                        if (needsUpdate || !data[d[0].series])\n                            return 0; //check if this is a dummy point\n                        var series = data[d[0].series], point = series.values[i];\n                        var element = this;\n                        dispatch.elementClick({\n                            point: point,\n                            series: series,\n                            pos: [x(getX(point, i)) + margin.left, y(getY(point, i)) + margin.top],\n                            relativePos: [x(getX(point, i)) + margin.left, y(getY(point, i)) + margin.top],\n                            seriesIndex: d[0].series,\n                            pointIndex: i,\n                            event: d3.event,\n                            element: element\n                        });\n                    })\n                        .on('dblclick', function (d, i) {\n                        if (needsUpdate || !data[d[0].series])\n                            return 0; //check if this is a dummy point\n                        var series = data[d[0].series], point = series.values[i];\n                        dispatch.elementDblClick({\n                            point: point,\n                            series: series,\n                            pos: [x(getX(point, i)) + margin.left, y(getY(point, i)) + margin.top],\n                            relativePos: [x(getX(point, i)) + margin.left, y(getY(point, i)) + margin.top],\n                            seriesIndex: d[0].series,\n                            pointIndex: i\n                        });\n                    })\n                        .on('mouseover', function (d, i) {\n                        if (needsUpdate || !data[d[0].series])\n                            return 0; //check if this is a dummy point\n                        var series = data[d[0].series], point = series.values[i];\n                        dispatch.elementMouseover({\n                            point: point,\n                            series: series,\n                            pos: [x(getX(point, i)) + margin.left, y(getY(point, i)) + margin.top],\n                            relativePos: [x(getX(point, i)) + margin.left, y(getY(point, i)) + margin.top],\n                            seriesIndex: d[0].series,\n                            pointIndex: i,\n                            color: color(d[0], i)\n                        });\n                    })\n                        .on('mouseout', function (d, i) {\n                        if (needsUpdate || !data[d[0].series])\n                            return 0; //check if this is a dummy point\n                        var series = data[d[0].series], point = series.values[i];\n                        dispatch.elementMouseout({\n                            point: point,\n                            series: series,\n                            pos: [x(getX(point, i)) + margin.left, y(getY(point, i)) + margin.top],\n                            relativePos: [x(getX(point, i)) + margin.left, y(getY(point, i)) + margin.top],\n                            seriesIndex: d[0].series,\n                            pointIndex: i,\n                            color: color(d[0], i)\n                        });\n                    });\n                }\n            }\n            needsUpdate = true;\n            var groups = wrap.select('.nv-groups').selectAll('.nv-group')\n                .data(function (d) { return d; }, function (d) { return d.key; });\n            groups.enter().append('g')\n                .style('stroke-opacity', 1e-6)\n                .style('fill-opacity', 1e-6);\n            groups.exit()\n                .remove();\n            groups\n                .attr('class', function (d, i) {\n                return (d.classed || '') + ' nv-group nv-series-' + i;\n            })\n                .classed('nv-noninteractive', !interactive)\n                .classed('hover', function (d) { return d.hover; });\n            groups.watchTransition(renderWatch, 'scatter: groups')\n                .style('fill', function (d, i) { return color(d, i); })\n                .style('stroke', function (d, i) { return d.pointBorderColor || pointBorderColor || color(d, i); })\n                .style('stroke-opacity', 1)\n                .style('fill-opacity', .5);\n            // create the points, maintaining their IDs from the original data set\n            var points = groups.selectAll('path.nv-point')\n                .data(function (d) {\n                return d.values.map(function (point, pointIndex) {\n                    return [point, pointIndex];\n                }).filter(function (pointArray, pointIndex) {\n                    return pointActive(pointArray[0], pointIndex);\n                });\n            });\n            points.enter().append('path')\n                .attr('class', function (d) {\n                return 'nv-point nv-point-' + d[1];\n            })\n                .style('fill', function (d) { return d.color; })\n                .style('stroke', function (d) { return d.color; })\n                .attr('transform', function (d) {\n                return 'translate(' + nv.utils.NaNtoZero(x0(getX(d[0], d[1]))) + ',' + nv.utils.NaNtoZero(y0(getY(d[0], d[1]))) + ')';\n            })\n                .attr('d', nv.utils.symbol()\n                .type(function (d) { return getShape(d[0]); })\n                .size(function (d) { return z(getSize(d[0], d[1])); }));\n            points.exit().each(delCache).remove();\n            groups.exit().selectAll('path.nv-point')\n                .watchTransition(renderWatch, 'scatter exit')\n                .attr('transform', function (d) {\n                return 'translate(' + nv.utils.NaNtoZero(x(getX(d[0], d[1]))) + ',' + nv.utils.NaNtoZero(y(getY(d[0], d[1]))) + ')';\n            })\n                .remove();\n            //============================================================\n            // Point Update Optimisation Notes\n            //------------------------------------------------------------\n            // The following update selections are filtered with getDiffs\n            // (defined at the top of this file) this brings a performance\n            // benefit for charts with large data sets that accumulate a\n            // subset of changes or additions over time.\n            //\n            // Uneccesary and expensive DOM calls are avoided by culling\n            // unchanged points from the selection in exchange for the\n            // cheaper overhead of caching and diffing each point first.\n            //\n            // Due to the way D3 and NVD3 work, other global changes need\n            // to be considered in addition to local point properties.\n            // This is a potential source of bugs (if any of the global\n            // changes that possibly affect points are missed).\n            // Update Point Positions [x, y]\n            points.filter(function (d) {\n                // getDiffs must always be called to update cache\n                return getDiffs(d, 'x', getX, 'y', getY) ||\n                    scaleDiff || sizeDiff || domainDiff;\n            })\n                .watchTransition(renderWatch, 'scatter points')\n                .attr('transform', function (d) {\n                return 'translate(' +\n                    nv.utils.NaNtoZero(x(getX(d[0], d[1]))) + ',' +\n                    nv.utils.NaNtoZero(y(getY(d[0], d[1]))) + ')';\n            });\n            // Update Point Appearance [shape, size]\n            points.filter(function (d) {\n                // getDiffs must always be called to update cache\n                return getDiffs(d, 'shape', getShape, 'size', getSize) ||\n                    scaleDiff || sizeDiff || domainDiff;\n            })\n                .watchTransition(renderWatch, 'scatter points')\n                .attr('d', nv.utils.symbol()\n                .type(function (d) { return getShape(d[0]); })\n                .size(function (d) { return z(getSize(d[0], d[1])); }));\n            // add label a label to scatter chart\n            if (showLabels) {\n                var titles = groups.selectAll('.nv-label')\n                    .data(function (d) {\n                    return d.values.map(function (point, pointIndex) {\n                        return [point, pointIndex];\n                    }).filter(function (pointArray, pointIndex) {\n                        return pointActive(pointArray[0], pointIndex);\n                    });\n                });\n                titles.enter().append('text')\n                    .style('fill', function (d, i) {\n                    return d.color;\n                })\n                    .style('stroke-opacity', 0)\n                    .style('fill-opacity', 1)\n                    .attr('transform', function (d) {\n                    var dx = nv.utils.NaNtoZero(x0(getX(d[0], d[1]))) + Math.sqrt(z(getSize(d[0], d[1])) / Math.PI) + 2;\n                    return 'translate(' + dx + ',' + nv.utils.NaNtoZero(y0(getY(d[0], d[1]))) + ')';\n                })\n                    .text(function (d, i) {\n                    return d[0].label;\n                });\n                titles.exit().remove();\n                groups.exit().selectAll('path.nv-label')\n                    .watchTransition(renderWatch, 'scatter exit')\n                    .attr('transform', function (d) {\n                    var dx = nv.utils.NaNtoZero(x(getX(d[0], d[1]))) + Math.sqrt(z(getSize(d[0], d[1])) / Math.PI) + 2;\n                    return 'translate(' + dx + ',' + nv.utils.NaNtoZero(y(getY(d[0], d[1]))) + ')';\n                })\n                    .remove();\n                titles.each(function (d) {\n                    d3.select(this)\n                        .classed('nv-label', true)\n                        .classed('nv-label-' + d[1], false)\n                        .classed('hover', false);\n                });\n                titles.watchTransition(renderWatch, 'scatter labels')\n                    .text(function (d, i) {\n                    return d[0].label;\n                })\n                    .attr('transform', function (d) {\n                    var dx = nv.utils.NaNtoZero(x(getX(d[0], d[1]))) + Math.sqrt(z(getSize(d[0], d[1])) / Math.PI) + 2;\n                    return 'translate(' + dx + ',' + nv.utils.NaNtoZero(y(getY(d[0], d[1]))) + ')';\n                });\n            }\n            // Delay updating the invisible interactive layer for smoother animation\n            if (interactiveUpdateDelay) {\n                clearTimeout(timeoutID); // stop repeat calls to updateInteractiveLayer\n                timeoutID = setTimeout(updateInteractiveLayer, interactiveUpdateDelay);\n            }\n            else {\n                updateInteractiveLayer();\n            }\n            //store old scales for use in transitions on update\n            x0 = x.copy();\n            y0 = y.copy();\n            z0 = z.copy();\n            width0 = width;\n            height0 = height;\n        });\n        renderWatch.renderEnd('scatter immediate');\n        return chart;\n    }\n    //============================================================\n    // Expose Public Variables\n    //------------------------------------------------------------\n    chart.dispatch = dispatch;\n    chart.options = nv.utils.optionsFunc.bind(chart);\n    // utility function calls provided by this chart\n    chart._calls = new function () {\n        this.clearHighlights = function () {\n            nv.dom.write(function () {\n                container.selectAll(\".nv-point.hover\").classed(\"hover\", false);\n            });\n            return null;\n        };\n        this.highlightPoint = function (seriesIndex, pointIndex, isHoverOver) {\n            nv.dom.write(function () {\n                container.select('.nv-groups')\n                    .selectAll(\".nv-series-\" + seriesIndex)\n                    .selectAll(\".nv-point-\" + pointIndex)\n                    .classed(\"hover\", isHoverOver);\n            });\n        };\n    };\n    // trigger calls from events too\n    dispatch.on('elementMouseover.point', function (d) {\n        if (interactive)\n            chart._calls.highlightPoint(d.seriesIndex, d.pointIndex, true);\n    });\n    dispatch.on('elementMouseout.point', function (d) {\n        if (interactive)\n            chart._calls.highlightPoint(d.seriesIndex, d.pointIndex, false);\n    });\n    chart._options = Object.create({}, {\n        // simple options, just get/set the necessary values\n        width: { get: function () { return width; }, set: function (_) { width = _; } },\n        height: { get: function () { return height; }, set: function (_) { height = _; } },\n        xScale: { get: function () { return x; }, set: function (_) { x = _; } },\n        yScale: { get: function () { return y; }, set: function (_) { y = _; } },\n        pointScale: { get: function () { return z; }, set: function (_) { z = _; } },\n        xDomain: { get: function () { return xDomain; }, set: function (_) { xDomain = _; } },\n        yDomain: { get: function () { return yDomain; }, set: function (_) { yDomain = _; } },\n        pointDomain: { get: function () { return sizeDomain; }, set: function (_) { sizeDomain = _; } },\n        xRange: { get: function () { return xRange; }, set: function (_) { xRange = _; } },\n        yRange: { get: function () { return yRange; }, set: function (_) { yRange = _; } },\n        pointRange: { get: function () { return sizeRange; }, set: function (_) { sizeRange = _; } },\n        forceX: { get: function () { return forceX; }, set: function (_) { forceX = _; } },\n        forceY: { get: function () { return forceY; }, set: function (_) { forceY = _; } },\n        forcePoint: { get: function () { return forceSize; }, set: function (_) { forceSize = _; } },\n        interactive: { get: function () { return interactive; }, set: function (_) { interactive = _; } },\n        pointActive: { get: function () { return pointActive; }, set: function (_) { pointActive = _; } },\n        padDataOuter: { get: function () { return padDataOuter; }, set: function (_) { padDataOuter = _; } },\n        padData: { get: function () { return padData; }, set: function (_) { padData = _; } },\n        clipEdge: { get: function () { return clipEdge; }, set: function (_) { clipEdge = _; } },\n        clipVoronoi: { get: function () { return clipVoronoi; }, set: function (_) { clipVoronoi = _; } },\n        clipRadius: { get: function () { return clipRadius; }, set: function (_) { clipRadius = _; } },\n        showVoronoi: { get: function () { return showVoronoi; }, set: function (_) { showVoronoi = _; } },\n        id: { get: function () { return id; }, set: function (_) { id = _; } },\n        interactiveUpdateDelay: { get: function () { return interactiveUpdateDelay; }, set: function (_) { interactiveUpdateDelay = _; } },\n        showLabels: { get: function () { return showLabels; }, set: function (_) { showLabels = _; } },\n        pointBorderColor: { get: function () { return pointBorderColor; }, set: function (_) { pointBorderColor = _; } },\n        // simple functor options\n        x: { get: function () { return getX; }, set: function (_) { getX = d3.functor(_); } },\n        y: { get: function () { return getY; }, set: function (_) { getY = d3.functor(_); } },\n        pointSize: { get: function () { return getSize; }, set: function (_) { getSize = d3.functor(_); } },\n        pointShape: { get: function () { return getShape; }, set: function (_) { getShape = d3.functor(_); } },\n        // options that require extra logic in the setter\n        margin: { get: function () { return margin; }, set: function (_) {\n                margin.top = _.top !== undefined ? _.top : margin.top;\n                margin.right = _.right !== undefined ? _.right : margin.right;\n                margin.bottom = _.bottom !== undefined ? _.bottom : margin.bottom;\n                margin.left = _.left !== undefined ? _.left : margin.left;\n            } },\n        duration: { get: function () { return duration; }, set: function (_) {\n                duration = _;\n                renderWatch.reset(duration);\n            } },\n        color: { get: function () { return color; }, set: function (_) {\n                color = nv.utils.getColor(_);\n            } },\n        useVoronoi: { get: function () { return useVoronoi; }, set: function (_) {\n                useVoronoi = _;\n                if (useVoronoi === false) {\n                    clipVoronoi = false;\n                }\n            } }\n    });\n    nv.utils.initOptions(chart);\n    return chart;\n};\n","nv.models.scatterChart = function () {\n    \"use strict\";\n    //============================================================\n    // Public Variables with Default Settings\n    //------------------------------------------------------------\n    var scatter = nv.models.scatter(), xAxis = nv.models.axis(), yAxis = nv.models.axis(), legend = nv.models.legend(), distX = nv.models.distribution(), distY = nv.models.distribution(), tooltip = nv.models.tooltip();\n    var margin = { top: 30, right: 20, bottom: 50, left: 75 }, marginTop = null, width = null, height = null, container = null, color = nv.utils.defaultColor(), x = scatter.xScale(), y = scatter.yScale(), showDistX = false, showDistY = false, showLegend = true, showXAxis = true, showYAxis = true, rightAlignYAxis = false, state = nv.utils.state(), defaultState = null, dispatch = d3.dispatch('stateChange', 'changeState', 'renderEnd'), noData = null, duration = 250, showLabels = false;\n    scatter.xScale(x).yScale(y);\n    xAxis.orient('bottom').tickPadding(10);\n    yAxis\n        .orient((rightAlignYAxis) ? 'right' : 'left')\n        .tickPadding(10);\n    distX.axis('x');\n    distY.axis('y');\n    tooltip\n        .headerFormatter(function (d, i) {\n        return xAxis.tickFormat()(d, i);\n    })\n        .valueFormatter(function (d, i) {\n        return yAxis.tickFormat()(d, i);\n    });\n    //============================================================\n    // Private Variables\n    //------------------------------------------------------------\n    var x0, y0, renderWatch = nv.utils.renderWatch(dispatch, duration);\n    var stateGetter = function (data) {\n        return function () {\n            return {\n                active: data.map(function (d) { return !d.disabled; })\n            };\n        };\n    };\n    var stateSetter = function (data) {\n        return function (state) {\n            if (state.active !== undefined)\n                data.forEach(function (series, i) {\n                    series.disabled = !state.active[i];\n                });\n        };\n    };\n    function chart(selection) {\n        renderWatch.reset();\n        renderWatch.models(scatter);\n        if (showXAxis)\n            renderWatch.models(xAxis);\n        if (showYAxis)\n            renderWatch.models(yAxis);\n        if (showDistX)\n            renderWatch.models(distX);\n        if (showDistY)\n            renderWatch.models(distY);\n        selection.each(function (data) {\n            var that = this;\n            container = d3.select(this);\n            nv.utils.initSVG(container);\n            var availableWidth = nv.utils.availableWidth(width, container, margin), availableHeight = nv.utils.availableHeight(height, container, margin);\n            chart.update = function () {\n                if (duration === 0)\n                    container.call(chart);\n                else\n                    container.transition().duration(duration).call(chart);\n            };\n            chart.container = this;\n            state\n                .setter(stateSetter(data), chart.update)\n                .getter(stateGetter(data))\n                .update();\n            // DEPRECATED set state.disableddisabled\n            state.disabled = data.map(function (d) { return !!d.disabled; });\n            if (!defaultState) {\n                var key;\n                defaultState = {};\n                for (key in state) {\n                    if (state[key] instanceof Array)\n                        defaultState[key] = state[key].slice(0);\n                    else\n                        defaultState[key] = state[key];\n                }\n            }\n            // Display noData message if there's nothing to show.\n            if (!data || !data.length || !data.filter(function (d) { return d.values.length; }).length) {\n                nv.utils.noData(chart, container);\n                renderWatch.renderEnd('scatter immediate');\n                return chart;\n            }\n            else {\n                container.selectAll('.nv-noData').remove();\n            }\n            // Setup Scales\n            x = scatter.xScale();\n            y = scatter.yScale();\n            // Setup containers and skeleton of chart\n            var wrap = container.selectAll('g.nv-wrap.nv-scatterChart').data([data]);\n            var wrapEnter = wrap.enter().append('g').attr('class', 'nvd3 nv-wrap nv-scatterChart nv-chart-' + scatter.id());\n            var gEnter = wrapEnter.append('g');\n            var g = wrap.select('g');\n            // background for pointer events\n            gEnter.append('rect').attr('class', 'nvd3 nv-background').style(\"pointer-events\", \"none\");\n            gEnter.append('g').attr('class', 'nv-x nv-axis');\n            gEnter.append('g').attr('class', 'nv-y nv-axis');\n            gEnter.append('g').attr('class', 'nv-scatterWrap');\n            gEnter.append('g').attr('class', 'nv-regressionLinesWrap');\n            gEnter.append('g').attr('class', 'nv-distWrap');\n            gEnter.append('g').attr('class', 'nv-legendWrap');\n            if (rightAlignYAxis) {\n                g.select(\".nv-y.nv-axis\")\n                    .attr(\"transform\", \"translate(\" + availableWidth + \",0)\");\n            }\n            // Legend\n            if (!showLegend) {\n                g.select('.nv-legendWrap').selectAll('*').remove();\n            }\n            else {\n                var legendWidth = availableWidth;\n                legend.width(legendWidth);\n                wrap.select('.nv-legendWrap')\n                    .datum(data)\n                    .call(legend);\n                if (!marginTop && legend.height() !== margin.top) {\n                    margin.top = legend.height();\n                    availableHeight = nv.utils.availableHeight(height, container, margin);\n                }\n                wrap.select('.nv-legendWrap')\n                    .attr('transform', 'translate(0' + ',' + (-margin.top) + ')');\n            }\n            wrap.attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');\n            // Main Chart Component(s)\n            scatter\n                .width(availableWidth)\n                .height(availableHeight)\n                .color(data.map(function (d, i) {\n                d.color = d.color || color(d, i);\n                return d.color;\n            }).filter(function (d, i) { return !data[i].disabled; }))\n                .showLabels(showLabels);\n            wrap.select('.nv-scatterWrap')\n                .datum(data.filter(function (d) { return !d.disabled; }))\n                .call(scatter);\n            wrap.select('.nv-regressionLinesWrap')\n                .attr('clip-path', 'url(#nv-edge-clip-' + scatter.id() + ')');\n            var regWrap = wrap.select('.nv-regressionLinesWrap').selectAll('.nv-regLines')\n                .data(function (d) {\n                return d;\n            });\n            regWrap.enter().append('g').attr('class', 'nv-regLines');\n            var regLine = regWrap.selectAll('.nv-regLine')\n                .data(function (d) {\n                return [d];\n            });\n            regLine.enter()\n                .append('line').attr('class', 'nv-regLine')\n                .style('stroke-opacity', 0);\n            // don't add lines unless we have slope and intercept to use\n            regLine.filter(function (d) {\n                return d.intercept && d.slope;\n            })\n                .watchTransition(renderWatch, 'scatterPlusLineChart: regline')\n                .attr('x1', x.range()[0])\n                .attr('x2', x.range()[1])\n                .attr('y1', function (d, i) {\n                return y(x.domain()[0] * d.slope + d.intercept);\n            })\n                .attr('y2', function (d, i) {\n                return y(x.domain()[1] * d.slope + d.intercept);\n            })\n                .style('stroke', function (d, i, j) {\n                return color(d, j);\n            })\n                .style('stroke-opacity', function (d, i) {\n                return (d.disabled || typeof d.slope === 'undefined' || typeof d.intercept === 'undefined') ? 0 : 1;\n            });\n            // Setup Axes\n            if (showXAxis) {\n                xAxis\n                    .scale(x)\n                    ._ticks(nv.utils.calcTicksX(availableWidth / 100, data))\n                    .tickSize(-availableHeight, 0);\n                g.select('.nv-x.nv-axis')\n                    .attr('transform', 'translate(0,' + y.range()[0] + ')')\n                    .call(xAxis);\n            }\n            if (showYAxis) {\n                yAxis\n                    .scale(y)\n                    ._ticks(nv.utils.calcTicksY(availableHeight / 36, data))\n                    .tickSize(-availableWidth, 0);\n                g.select('.nv-y.nv-axis')\n                    .call(yAxis);\n            }\n            // Setup Distribution\n            distX\n                .getData(scatter.x())\n                .scale(x)\n                .width(availableWidth)\n                .color(data.map(function (d, i) {\n                return d.color || color(d, i);\n            }).filter(function (d, i) { return !data[i].disabled; }));\n            gEnter.select('.nv-distWrap').append('g')\n                .attr('class', 'nv-distributionX');\n            g.select('.nv-distributionX')\n                .attr('transform', 'translate(0,' + y.range()[0] + ')')\n                .datum(data.filter(function (d) { return !d.disabled; }))\n                .call(distX)\n                .style('opacity', function () { return showDistX ? '1' : '1e-6'; })\n                .watchTransition(renderWatch, 'scatterPlusLineChart')\n                .style('opacity', function () { return showDistX ? '1' : '1e-6'; });\n            distY\n                .getData(scatter.y())\n                .scale(y)\n                .width(availableHeight)\n                .color(data.map(function (d, i) {\n                return d.color || color(d, i);\n            }).filter(function (d, i) { return !data[i].disabled; }));\n            gEnter.select('.nv-distWrap').append('g')\n                .attr('class', 'nv-distributionY');\n            g.select('.nv-distributionY')\n                .attr('transform', 'translate(' + (rightAlignYAxis ? availableWidth : -distY.size()) + ',0)')\n                .datum(data.filter(function (d) { return !d.disabled; }))\n                .call(distY)\n                .style('opacity', function () { return showDistY ? '1' : '1e-6'; })\n                .watchTransition(renderWatch, 'scatterPlusLineChart')\n                .style('opacity', function () { return showDistY ? '1' : '1e-6'; });\n            //============================================================\n            // Event Handling/Dispatching (in chart's scope)\n            //------------------------------------------------------------\n            legend.dispatch.on('stateChange', function (newState) {\n                for (var key in newState)\n                    state[key] = newState[key];\n                dispatch.stateChange(state);\n                chart.update();\n            });\n            // Update chart from a state object passed to event handler\n            dispatch.on('changeState', function (e) {\n                if (typeof e.disabled !== 'undefined') {\n                    data.forEach(function (series, i) {\n                        series.disabled = e.disabled[i];\n                    });\n                    state.disabled = e.disabled;\n                }\n                chart.update();\n            });\n            // mouseover needs availableHeight so we just keep scatter mouse events inside the chart block\n            scatter.dispatch.on('elementMouseout.tooltip', function (evt) {\n                tooltip.hidden(true);\n                container.select('.nv-chart-' + scatter.id() + ' .nv-series-' + evt.seriesIndex + ' .nv-distx-' + evt.pointIndex)\n                    .attr('y1', 0);\n                container.select('.nv-chart-' + scatter.id() + ' .nv-series-' + evt.seriesIndex + ' .nv-disty-' + evt.pointIndex)\n                    .attr('x2', distY.size());\n            });\n            scatter.dispatch.on('elementMouseover.tooltip', function (evt) {\n                container.select('.nv-series-' + evt.seriesIndex + ' .nv-distx-' + evt.pointIndex)\n                    .attr('y1', evt.relativePos[1] - availableHeight);\n                container.select('.nv-series-' + evt.seriesIndex + ' .nv-disty-' + evt.pointIndex)\n                    .attr('x2', evt.relativePos[0] + distX.size());\n                tooltip.data(evt).hidden(false);\n            });\n            //store old scales for use in transitions on update\n            x0 = x.copy();\n            y0 = y.copy();\n        });\n        renderWatch.renderEnd('scatter with line immediate');\n        return chart;\n    }\n    //============================================================\n    // Expose Public Variables\n    //------------------------------------------------------------\n    // expose chart's sub-components\n    chart.dispatch = dispatch;\n    chart.scatter = scatter;\n    chart.legend = legend;\n    chart.xAxis = xAxis;\n    chart.yAxis = yAxis;\n    chart.distX = distX;\n    chart.distY = distY;\n    chart.tooltip = tooltip;\n    chart.options = nv.utils.optionsFunc.bind(chart);\n    chart._options = Object.create({}, {\n        // simple options, just get/set the necessary values\n        width: { get: function () { return width; }, set: function (_) { width = _; } },\n        height: { get: function () { return height; }, set: function (_) { height = _; } },\n        container: { get: function () { return container; }, set: function (_) { container = _; } },\n        showDistX: { get: function () { return showDistX; }, set: function (_) { showDistX = _; } },\n        showDistY: { get: function () { return showDistY; }, set: function (_) { showDistY = _; } },\n        showLegend: { get: function () { return showLegend; }, set: function (_) { showLegend = _; } },\n        showXAxis: { get: function () { return showXAxis; }, set: function (_) { showXAxis = _; } },\n        showYAxis: { get: function () { return showYAxis; }, set: function (_) { showYAxis = _; } },\n        defaultState: { get: function () { return defaultState; }, set: function (_) { defaultState = _; } },\n        noData: { get: function () { return noData; }, set: function (_) { noData = _; } },\n        duration: { get: function () { return duration; }, set: function (_) { duration = _; } },\n        showLabels: { get: function () { return showLabels; }, set: function (_) { showLabels = _; } },\n        // options that require extra logic in the setter\n        margin: { get: function () { return margin; }, set: function (_) {\n                if (_.top !== undefined) {\n                    margin.top = _.top;\n                    marginTop = _.top;\n                }\n                margin.right = _.right !== undefined ? _.right : margin.right;\n                margin.bottom = _.bottom !== undefined ? _.bottom : margin.bottom;\n                margin.left = _.left !== undefined ? _.left : margin.left;\n            } },\n        rightAlignYAxis: { get: function () { return rightAlignYAxis; }, set: function (_) {\n                rightAlignYAxis = _;\n                yAxis.orient((_) ? 'right' : 'left');\n            } },\n        color: { get: function () { return color; }, set: function (_) {\n                color = nv.utils.getColor(_);\n                legend.color(color);\n                distX.color(color);\n                distY.color(color);\n            } }\n    });\n    nv.utils.inheritOptions(chart, scatter);\n    nv.utils.initOptions(chart);\n    return chart;\n};\n","nv.models.sparkline = function () {\n    \"use strict\";\n    //============================================================\n    // Public Variables with Default Settings\n    //------------------------------------------------------------\n    var margin = { top: 2, right: 0, bottom: 2, left: 0 }, width = 400, height = 32, container = null, animate = true, x = d3.scale.linear(), y = d3.scale.linear(), getX = function (d) { return d.x; }, getY = function (d) { return d.y; }, color = nv.utils.getColor(['#000']), xDomain, yDomain, xRange, yRange, showMinMaxPoints = true, showCurrentPoint = true, dispatch = d3.dispatch('renderEnd');\n    //============================================================\n    // Private Variables\n    //------------------------------------------------------------\n    var renderWatch = nv.utils.renderWatch(dispatch);\n    function chart(selection) {\n        renderWatch.reset();\n        selection.each(function (data) {\n            var availableWidth = width - margin.left - margin.right, availableHeight = height - margin.top - margin.bottom;\n            container = d3.select(this);\n            nv.utils.initSVG(container);\n            // Setup Scales\n            x.domain(xDomain || d3.extent(data, getX))\n                .range(xRange || [0, availableWidth]);\n            y.domain(yDomain || d3.extent(data, getY))\n                .range(yRange || [availableHeight, 0]);\n            // Setup containers and skeleton of chart\n            var wrap = container.selectAll('g.nv-wrap.nv-sparkline').data([data]);\n            var wrapEnter = wrap.enter().append('g').attr('class', 'nvd3 nv-wrap nv-sparkline');\n            var gEnter = wrapEnter.append('g');\n            var g = wrap.select('g');\n            wrap.attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');\n            var paths = wrap.selectAll('path')\n                .data(function (d) { return [d]; });\n            paths.enter().append('path');\n            paths.exit().remove();\n            paths\n                .style('stroke', function (d, i) { return d.color || color(d, i); })\n                .attr('d', d3.svg.line()\n                .x(function (d, i) { return x(getX(d, i)); })\n                .y(function (d, i) { return y(getY(d, i)); }));\n            // TODO: Add CURRENT data point (Need Min, Mac, Current / Most recent)\n            var points = wrap.selectAll('circle.nv-point')\n                .data(function (data) {\n                var yValues = data.map(function (d, i) { return getY(d, i); });\n                function pointIndex(index) {\n                    if (index != -1) {\n                        var result = data[index];\n                        result.pointIndex = index;\n                        return result;\n                    }\n                    else {\n                        return null;\n                    }\n                }\n                var maxPoint = pointIndex(yValues.lastIndexOf(y.domain()[1])), minPoint = pointIndex(yValues.indexOf(y.domain()[0])), currentPoint = pointIndex(yValues.length - 1);\n                return [(showMinMaxPoints ? minPoint : null), (showMinMaxPoints ? maxPoint : null), (showCurrentPoint ? currentPoint : null)].filter(function (d) { return d != null; });\n            });\n            points.enter().append('circle');\n            points.exit().remove();\n            points\n                .attr('cx', function (d, i) { return x(getX(d, d.pointIndex)); })\n                .attr('cy', function (d, i) { return y(getY(d, d.pointIndex)); })\n                .attr('r', 2)\n                .attr('class', function (d, i) {\n                return getX(d, d.pointIndex) == x.domain()[1] ? 'nv-point nv-currentValue' :\n                    getY(d, d.pointIndex) == y.domain()[0] ? 'nv-point nv-minValue' : 'nv-point nv-maxValue';\n            });\n        });\n        renderWatch.renderEnd('sparkline immediate');\n        return chart;\n    }\n    //============================================================\n    // Expose Public Variables\n    //------------------------------------------------------------\n    chart.options = nv.utils.optionsFunc.bind(chart);\n    chart._options = Object.create({}, {\n        // simple options, just get/set the necessary values\n        width: { get: function () { return width; }, set: function (_) { width = _; } },\n        height: { get: function () { return height; }, set: function (_) { height = _; } },\n        xDomain: { get: function () { return xDomain; }, set: function (_) { xDomain = _; } },\n        yDomain: { get: function () { return yDomain; }, set: function (_) { yDomain = _; } },\n        xRange: { get: function () { return xRange; }, set: function (_) { xRange = _; } },\n        yRange: { get: function () { return yRange; }, set: function (_) { yRange = _; } },\n        xScale: { get: function () { return x; }, set: function (_) { x = _; } },\n        yScale: { get: function () { return y; }, set: function (_) { y = _; } },\n        animate: { get: function () { return animate; }, set: function (_) { animate = _; } },\n        showMinMaxPoints: { get: function () { return showMinMaxPoints; }, set: function (_) { showMinMaxPoints = _; } },\n        showCurrentPoint: { get: function () { return showCurrentPoint; }, set: function (_) { showCurrentPoint = _; } },\n        //functor options\n        x: { get: function () { return getX; }, set: function (_) { getX = d3.functor(_); } },\n        y: { get: function () { return getY; }, set: function (_) { getY = d3.functor(_); } },\n        // options that require extra logic in the setter\n        margin: { get: function () { return margin; }, set: function (_) {\n                margin.top = _.top !== undefined ? _.top : margin.top;\n                margin.right = _.right !== undefined ? _.right : margin.right;\n                margin.bottom = _.bottom !== undefined ? _.bottom : margin.bottom;\n                margin.left = _.left !== undefined ? _.left : margin.left;\n            } },\n        color: { get: function () { return color; }, set: function (_) {\n                color = nv.utils.getColor(_);\n            } }\n    });\n    chart.dispatch = dispatch;\n    nv.utils.initOptions(chart);\n    return chart;\n};\n","nv.models.sparklinePlus = function () {\n    \"use strict\";\n    //============================================================\n    // Public Variables with Default Settings\n    //------------------------------------------------------------\n    var sparkline = nv.models.sparkline();\n    var margin = { top: 15, right: 100, bottom: 10, left: 50 }, width = null, height = null, x, y, index = [], paused = false, xTickFormat = d3.format(',r'), yTickFormat = d3.format(',.2f'), showLastValue = true, alignValue = true, rightAlignValue = false, noData = null, dispatch = d3.dispatch('renderEnd');\n    //============================================================\n    // Private Variables\n    //------------------------------------------------------------\n    var renderWatch = nv.utils.renderWatch(dispatch);\n    function chart(selection) {\n        renderWatch.reset();\n        renderWatch.models(sparkline);\n        selection.each(function (data) {\n            var container = d3.select(this);\n            nv.utils.initSVG(container);\n            var availableWidth = nv.utils.availableWidth(width, container, margin), availableHeight = nv.utils.availableHeight(height, container, margin);\n            chart.update = function () { container.call(chart); };\n            chart.container = this;\n            // Display No Data message if there's nothing to show.\n            if (!data || !data.length) {\n                nv.utils.noData(chart, container);\n                return chart;\n            }\n            else {\n                container.selectAll('.nv-noData').remove();\n            }\n            var currentValue = sparkline.y()(data[data.length - 1], data.length - 1);\n            // Setup Scales\n            x = sparkline.xScale();\n            y = sparkline.yScale();\n            // Setup containers and skeleton of chart\n            var wrap = container.selectAll('g.nv-wrap.nv-sparklineplus').data([data]);\n            var wrapEnter = wrap.enter().append('g').attr('class', 'nvd3 nv-wrap nv-sparklineplus');\n            var gEnter = wrapEnter.append('g');\n            var g = wrap.select('g');\n            gEnter.append('g').attr('class', 'nv-sparklineWrap');\n            gEnter.append('g').attr('class', 'nv-valueWrap');\n            gEnter.append('g').attr('class', 'nv-hoverArea');\n            wrap.attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');\n            // Main Chart Component(s)\n            var sparklineWrap = g.select('.nv-sparklineWrap');\n            sparkline.width(availableWidth).height(availableHeight);\n            sparklineWrap.call(sparkline);\n            if (showLastValue) {\n                var valueWrap = g.select('.nv-valueWrap');\n                var value = valueWrap.selectAll('.nv-currentValue')\n                    .data([currentValue]);\n                value.enter().append('text').attr('class', 'nv-currentValue')\n                    .attr('dx', rightAlignValue ? -8 : 8)\n                    .attr('dy', '.9em')\n                    .style('text-anchor', rightAlignValue ? 'end' : 'start');\n                value\n                    .attr('x', availableWidth + (rightAlignValue ? margin.right : 0))\n                    .attr('y', alignValue ? function (d) {\n                    return y(d);\n                } : 0)\n                    .style('fill', sparkline.color()(data[data.length - 1], data.length - 1))\n                    .text(yTickFormat(currentValue));\n            }\n            gEnter.select('.nv-hoverArea').append('rect')\n                .on('mousemove', sparklineHover)\n                .on('click', function () { paused = !paused; })\n                .on('mouseout', function () { index = []; updateValueLine(); });\n            g.select('.nv-hoverArea rect')\n                .attr('transform', function (d) { return 'translate(' + -margin.left + ',' + -margin.top + ')'; })\n                .attr('width', availableWidth + margin.left + margin.right)\n                .attr('height', availableHeight + margin.top);\n            //index is currently global (within the chart), may or may not keep it that way\n            function updateValueLine() {\n                if (paused)\n                    return;\n                var hoverValue = g.selectAll('.nv-hoverValue').data(index);\n                var hoverEnter = hoverValue.enter()\n                    .append('g').attr('class', 'nv-hoverValue')\n                    .style('stroke-opacity', 0)\n                    .style('fill-opacity', 0);\n                hoverValue.exit()\n                    .transition().duration(250)\n                    .style('stroke-opacity', 0)\n                    .style('fill-opacity', 0)\n                    .remove();\n                hoverValue\n                    .attr('transform', function (d) { return 'translate(' + x(sparkline.x()(data[d], d)) + ',0)'; })\n                    .transition().duration(250)\n                    .style('stroke-opacity', 1)\n                    .style('fill-opacity', 1);\n                if (!index.length)\n                    return;\n                hoverEnter.append('line')\n                    .attr('x1', 0)\n                    .attr('y1', -margin.top)\n                    .attr('x2', 0)\n                    .attr('y2', availableHeight);\n                hoverEnter.append('text').attr('class', 'nv-xValue')\n                    .attr('x', -6)\n                    .attr('y', -margin.top)\n                    .attr('text-anchor', 'end')\n                    .attr('dy', '.9em');\n                g.select('.nv-hoverValue .nv-xValue')\n                    .text(xTickFormat(sparkline.x()(data[index[0]], index[0])));\n                hoverEnter.append('text').attr('class', 'nv-yValue')\n                    .attr('x', 6)\n                    .attr('y', -margin.top)\n                    .attr('text-anchor', 'start')\n                    .attr('dy', '.9em');\n                g.select('.nv-hoverValue .nv-yValue')\n                    .text(yTickFormat(sparkline.y()(data[index[0]], index[0])));\n            }\n            function sparklineHover() {\n                if (paused)\n                    return;\n                var pos = d3.mouse(this)[0] - margin.left;\n                function getClosestIndex(data, x) {\n                    var distance = Math.abs(sparkline.x()(data[0], 0) - x);\n                    var closestIndex = 0;\n                    for (var i = 0; i < data.length; i++) {\n                        if (Math.abs(sparkline.x()(data[i], i) - x) < distance) {\n                            distance = Math.abs(sparkline.x()(data[i], i) - x);\n                            closestIndex = i;\n                        }\n                    }\n                    return closestIndex;\n                }\n                index = [getClosestIndex(data, Math.round(x.invert(pos)))];\n                updateValueLine();\n            }\n        });\n        renderWatch.renderEnd('sparklinePlus immediate');\n        return chart;\n    }\n    //============================================================\n    // Expose Public Variables\n    //------------------------------------------------------------\n    // expose chart's sub-components\n    chart.dispatch = dispatch;\n    chart.sparkline = sparkline;\n    chart.options = nv.utils.optionsFunc.bind(chart);\n    chart._options = Object.create({}, {\n        // simple options, just get/set the necessary values\n        width: { get: function () { return width; }, set: function (_) { width = _; } },\n        height: { get: function () { return height; }, set: function (_) { height = _; } },\n        xTickFormat: { get: function () { return xTickFormat; }, set: function (_) { xTickFormat = _; } },\n        yTickFormat: { get: function () { return yTickFormat; }, set: function (_) { yTickFormat = _; } },\n        showLastValue: { get: function () { return showLastValue; }, set: function (_) { showLastValue = _; } },\n        alignValue: { get: function () { return alignValue; }, set: function (_) { alignValue = _; } },\n        rightAlignValue: { get: function () { return rightAlignValue; }, set: function (_) { rightAlignValue = _; } },\n        noData: { get: function () { return noData; }, set: function (_) { noData = _; } },\n        // options that require extra logic in the setter\n        margin: { get: function () { return margin; }, set: function (_) {\n                margin.top = _.top !== undefined ? _.top : margin.top;\n                margin.right = _.right !== undefined ? _.right : margin.right;\n                margin.bottom = _.bottom !== undefined ? _.bottom : margin.bottom;\n                margin.left = _.left !== undefined ? _.left : margin.left;\n            } }\n    });\n    nv.utils.inheritOptions(chart, sparkline);\n    nv.utils.initOptions(chart);\n    return chart;\n};\n","nv.models.stackedArea = function () {\n    \"use strict\";\n    //============================================================\n    // Public Variables with Default Settings\n    //------------------------------------------------------------\n    var margin = { top: 0, right: 0, bottom: 0, left: 0 }, width = 960, height = 500, color = nv.utils.defaultColor() // a function that computes the color\n    , id = Math.floor(Math.random() * 100000) //Create semi-unique ID incase user doesn't selet one\n    , container = null, getX = function (d) { return d.x; } // accessor to get the x value from a data point\n    , getY = function (d) { return d.y; } // accessor to get the y value from a data point\n    , defined = function (d, i) { return !isNaN(getY(d, i)) && getY(d, i) !== null; } // allows a line to be not continuous when it is not defined\n    , style = 'stack', offset = 'zero', order = 'default', interpolate = 'linear' // controls the line interpolation\n    , clipEdge = false // if true, masks lines within x and y scale\n    , x //can be accessed via chart.xScale()\n    , y //can be accessed via chart.yScale()\n    , scatter = nv.models.scatter(), duration = 250, transformData = function (d, y0, y) { d.display = { y: y, y0: y0 }; }, areaY1 = function (d) { return y(d.display.y + d.display.y0); }, dispatch = d3.dispatch('areaClick', 'areaMouseover', 'areaMouseout', 'renderEnd', 'elementClick', 'elementMouseover', 'elementMouseout');\n    scatter\n        .pointSize(2.2) // default size\n        .pointDomain([2.2, 2.2]) // all the same size by default\n    ;\n    /************************************\n     * offset:\n     *   'wiggle' (stream)\n     *   'zero' (stacked)\n     *   'expand' (normalize to 100%)\n     *   'silhouette' (simple centered)\n     *\n     * order:\n     *   'inside-out' (stream)\n     *   'default' (input order)\n     ************************************/\n    var renderWatch = nv.utils.renderWatch(dispatch, duration);\n    function chart(selection) {\n        renderWatch.reset();\n        renderWatch.models(scatter);\n        selection.each(function (data) {\n            var availableWidth = width - margin.left - margin.right, availableHeight = height - margin.top - margin.bottom;\n            container = d3.select(this);\n            nv.utils.initSVG(container);\n            // Setup Scales\n            x = scatter.xScale();\n            y = scatter.yScale();\n            var dataRaw = data;\n            // Injecting point index into each point because d3.layout.stack().out does not give index\n            data.forEach(function (aseries, i) {\n                aseries.seriesIndex = i;\n                aseries.values = aseries.values.map(function (d, j) {\n                    d.index = j;\n                    d.seriesIndex = i;\n                    return d;\n                });\n            });\n            var dataFiltered = data.filter(function (series) {\n                return !series.disabled;\n            });\n            data = d3.layout.stack()\n                .order(order)\n                .offset(offset)\n                .values(function (d) { return d.values; }) //TODO: make values customizeable in EVERY model in this fashion\n                .x(getX)\n                .y(getY)\n                .out(transformData)(dataFiltered);\n            // Setup containers and skeleton of chart\n            var wrap = container.selectAll('g.nv-wrap.nv-stackedarea').data([data]);\n            var wrapEnter = wrap.enter().append('g').attr('class', 'nvd3 nv-wrap nv-stackedarea');\n            var defsEnter = wrapEnter.append('defs');\n            var gEnter = wrapEnter.append('g');\n            var g = wrap.select('g');\n            gEnter.append('g').attr('class', 'nv-areaWrap');\n            gEnter.append('g').attr('class', 'nv-scatterWrap');\n            wrap.attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');\n            // If the user has not specified forceY, make sure 0 is included in the domain\n            // Otherwise, use user-specified values for forceY\n            if (scatter.forceY().length == 0) {\n                scatter.forceY().push(0);\n            }\n            scatter\n                .width(availableWidth)\n                .height(availableHeight)\n                .x(getX)\n                .y(function (d) {\n                if (d.display !== undefined) {\n                    return d.display.y + d.display.y0;\n                }\n            })\n                .color(data.map(function (d, i) {\n                d.color = d.color || color(d, d.seriesIndex);\n                return d.color;\n            }));\n            var scatterWrap = g.select('.nv-scatterWrap')\n                .datum(data);\n            scatterWrap.call(scatter);\n            defsEnter.append('clipPath')\n                .attr('id', 'nv-edge-clip-' + id)\n                .append('rect');\n            wrap.select('#nv-edge-clip-' + id + ' rect')\n                .attr('width', availableWidth)\n                .attr('height', availableHeight);\n            g.attr('clip-path', clipEdge ? 'url(#nv-edge-clip-' + id + ')' : '');\n            var area = d3.svg.area()\n                .defined(defined)\n                .x(function (d, i) { return x(getX(d, i)); })\n                .y0(function (d) {\n                return y(d.display.y0);\n            })\n                .y1(areaY1)\n                .interpolate(interpolate);\n            var zeroArea = d3.svg.area()\n                .defined(defined)\n                .x(function (d, i) { return x(getX(d, i)); })\n                .y0(function (d) { return y(d.display.y0); })\n                .y1(function (d) { return y(d.display.y0); });\n            var path = g.select('.nv-areaWrap').selectAll('path.nv-area')\n                .data(function (d) { return d; });\n            path.enter().append('path').attr('class', function (d, i) { return 'nv-area nv-area-' + i; })\n                .attr('d', function (d, i) {\n                return zeroArea(d.values, d.seriesIndex);\n            })\n                .on('mouseover', function (d, i) {\n                d3.select(this).classed('hover', true);\n                dispatch.areaMouseover({\n                    point: d,\n                    series: d.key,\n                    pos: [d3.event.pageX, d3.event.pageY],\n                    seriesIndex: d.seriesIndex\n                });\n            })\n                .on('mouseout', function (d, i) {\n                d3.select(this).classed('hover', false);\n                dispatch.areaMouseout({\n                    point: d,\n                    series: d.key,\n                    pos: [d3.event.pageX, d3.event.pageY],\n                    seriesIndex: d.seriesIndex\n                });\n            })\n                .on('click', function (d, i) {\n                d3.select(this).classed('hover', false);\n                dispatch.areaClick({\n                    point: d,\n                    series: d.key,\n                    pos: [d3.event.pageX, d3.event.pageY],\n                    seriesIndex: d.seriesIndex\n                });\n            });\n            path.exit().remove();\n            path.style('fill', function (d, i) {\n                return d.color || color(d, d.seriesIndex);\n            })\n                .style('stroke', function (d, i) { return d.color || color(d, d.seriesIndex); });\n            path.watchTransition(renderWatch, 'stackedArea path')\n                .attr('d', function (d, i) {\n                return area(d.values, i);\n            });\n            //============================================================\n            // Event Handling/Dispatching (in chart's scope)\n            //------------------------------------------------------------\n            scatter.dispatch.on('elementMouseover.area', function (e) {\n                g.select('.nv-chart-' + id + ' .nv-area-' + e.seriesIndex).classed('hover', true);\n            });\n            scatter.dispatch.on('elementMouseout.area', function (e) {\n                g.select('.nv-chart-' + id + ' .nv-area-' + e.seriesIndex).classed('hover', false);\n            });\n            //Special offset functions\n            chart.d3_stackedOffset_stackPercent = function (stackData) {\n                var n = stackData.length, //How many series\n                m = stackData[0].length, //how many points per series\n                i, j, o, y0 = [];\n                for (j = 0; j < m; ++j) { //Looping through all points\n                    for (i = 0, o = 0; i < dataRaw.length; i++) { //looping through all series\n                        o += getY(dataRaw[i].values[j]); //total y value of all series at a certian point in time.\n                    }\n                    if (o)\n                        for (i = 0; i < n; i++) { //(total y value of all series at point in time i) != 0\n                            stackData[i][j][1] /= o;\n                        }\n                    else { //(total y value of all series at point in time i) == 0\n                        for (i = 0; i < n; i++) {\n                            stackData[i][j][1] = 0;\n                        }\n                    }\n                }\n                for (j = 0; j < m; ++j)\n                    y0[j] = 0;\n                return y0;\n            };\n        });\n        renderWatch.renderEnd('stackedArea immediate');\n        return chart;\n    }\n    //============================================================\n    // Global getters and setters\n    //------------------------------------------------------------\n    chart.dispatch = dispatch;\n    chart.scatter = scatter;\n    scatter.dispatch.on('elementClick', function () { dispatch.elementClick.apply(this, arguments); });\n    scatter.dispatch.on('elementMouseover', function () { dispatch.elementMouseover.apply(this, arguments); });\n    scatter.dispatch.on('elementMouseout', function () { dispatch.elementMouseout.apply(this, arguments); });\n    chart.interpolate = function (_) {\n        if (!arguments.length)\n            return interpolate;\n        interpolate = _;\n        return chart;\n    };\n    chart.duration = function (_) {\n        if (!arguments.length)\n            return duration;\n        duration = _;\n        renderWatch.reset(duration);\n        scatter.duration(duration);\n        return chart;\n    };\n    chart.dispatch = dispatch;\n    chart.scatter = scatter;\n    chart.options = nv.utils.optionsFunc.bind(chart);\n    chart._options = Object.create({}, {\n        // simple options, just get/set the necessary values\n        width: { get: function () { return width; }, set: function (_) { width = _; } },\n        height: { get: function () { return height; }, set: function (_) { height = _; } },\n        defined: { get: function () { return defined; }, set: function (_) { defined = _; } },\n        clipEdge: { get: function () { return clipEdge; }, set: function (_) { clipEdge = _; } },\n        offset: { get: function () { return offset; }, set: function (_) { offset = _; } },\n        order: { get: function () { return order; }, set: function (_) { order = _; } },\n        interpolate: { get: function () { return interpolate; }, set: function (_) { interpolate = _; } },\n        // simple functor options\n        x: { get: function () { return getX; }, set: function (_) { getX = d3.functor(_); } },\n        y: { get: function () { return getY; }, set: function (_) { getY = d3.functor(_); } },\n        areaY1: { get: function () { return areaY1; }, set: function (_) { areaY1 = d3.functor(_); } },\n        transformData: { get: function () { return transformData; }, set: function (_) { transformData = d3.functor(_); } },\n        // options that require extra logic in the setter\n        margin: { get: function () { return margin; }, set: function (_) {\n                margin.top = _.top !== undefined ? _.top : margin.top;\n                margin.right = _.right !== undefined ? _.right : margin.right;\n                margin.bottom = _.bottom !== undefined ? _.bottom : margin.bottom;\n                margin.left = _.left !== undefined ? _.left : margin.left;\n            } },\n        color: { get: function () { return color; }, set: function (_) {\n                color = nv.utils.getColor(_);\n            } },\n        style: { get: function () { return style; }, set: function (_) {\n                style = _;\n                switch (style) {\n                    case 'stack':\n                        chart.offset('zero');\n                        chart.order('default');\n                        break;\n                    case 'stream':\n                        chart.offset('wiggle');\n                        chart.order('inside-out');\n                        break;\n                    case 'stream-center':\n                        chart.offset('silhouette');\n                        chart.order('inside-out');\n                        break;\n                    case 'expand':\n                        chart.offset('expand');\n                        chart.order('default');\n                        break;\n                    case 'stack_percent':\n                        chart.offset(chart.d3_stackedOffset_stackPercent);\n                        chart.order('default');\n                        break;\n                }\n            } },\n        duration: { get: function () { return duration; }, set: function (_) {\n                duration = _;\n                renderWatch.reset(duration);\n                scatter.duration(duration);\n            } }\n    });\n    nv.utils.inheritOptions(chart, scatter);\n    nv.utils.initOptions(chart);\n    return chart;\n};\n","nv.models.stackedAreaChart = function () {\n    \"use strict\";\n    //============================================================\n    // Public Variables with Default Settings\n    //------------------------------------------------------------\n    var stacked = nv.models.stackedArea(), xAxis = nv.models.axis(), yAxis = nv.models.axis(), legend = nv.models.legend(), controls = nv.models.legend(), interactiveLayer = nv.interactiveGuideline(), tooltip = nv.models.tooltip(), focus = nv.models.focus(nv.models.stackedArea());\n    var margin = { top: 10, right: 25, bottom: 50, left: 60 }, marginTop = null, width = null, height = null, color = nv.utils.defaultColor(), showControls = true, showLegend = true, legendPosition = 'top', showXAxis = true, showYAxis = true, rightAlignYAxis = false, focusEnable = false, useInteractiveGuideline = false, showTotalInTooltip = true, totalLabel = 'TOTAL', x //can be accessed via chart.xScale()\n    , y //can be accessed via chart.yScale()\n    , state = nv.utils.state(), defaultState = null, noData = null, dispatch = d3.dispatch('stateChange', 'changeState', 'renderEnd'), controlWidth = 250, controlOptions = ['Stacked', 'Stream', 'Expanded'], controlLabels = {}, duration = 250;\n    state.style = stacked.style();\n    xAxis.orient('bottom').tickPadding(7);\n    yAxis.orient((rightAlignYAxis) ? 'right' : 'left');\n    tooltip\n        .headerFormatter(function (d, i) {\n        return xAxis.tickFormat()(d, i);\n    })\n        .valueFormatter(function (d, i) {\n        return yAxis.tickFormat()(d, i);\n    });\n    interactiveLayer.tooltip\n        .headerFormatter(function (d, i) {\n        return xAxis.tickFormat()(d, i);\n    })\n        .valueFormatter(function (d, i) {\n        return d == null ? \"N/A\" : yAxis.tickFormat()(d, i);\n    });\n    var oldYTickFormat = null, oldValueFormatter = null;\n    controls.updateState(false);\n    //============================================================\n    // Private Variables\n    //------------------------------------------------------------\n    var renderWatch = nv.utils.renderWatch(dispatch);\n    var style = stacked.style();\n    var stateGetter = function (data) {\n        return function () {\n            return {\n                active: data.map(function (d) { return !d.disabled; }),\n                style: stacked.style()\n            };\n        };\n    };\n    var stateSetter = function (data) {\n        return function (state) {\n            if (state.style !== undefined)\n                style = state.style;\n            if (state.active !== undefined)\n                data.forEach(function (series, i) {\n                    series.disabled = !state.active[i];\n                });\n        };\n    };\n    var percentFormatter = d3.format('%');\n    function chart(selection) {\n        renderWatch.reset();\n        renderWatch.models(stacked);\n        if (showXAxis)\n            renderWatch.models(xAxis);\n        if (showYAxis)\n            renderWatch.models(yAxis);\n        selection.each(function (data) {\n            var container = d3.select(this), that = this;\n            nv.utils.initSVG(container);\n            var availableWidth = nv.utils.availableWidth(width, container, margin), availableHeight = nv.utils.availableHeight(height, container, margin) - (focusEnable ? focus.height() : 0);\n            chart.update = function () { container.transition().duration(duration).call(chart); };\n            chart.container = this;\n            state\n                .setter(stateSetter(data), chart.update)\n                .getter(stateGetter(data))\n                .update();\n            // DEPRECATED set state.disabled\n            state.disabled = data.map(function (d) { return !!d.disabled; });\n            if (!defaultState) {\n                var key;\n                defaultState = {};\n                for (key in state) {\n                    if (state[key] instanceof Array)\n                        defaultState[key] = state[key].slice(0);\n                    else\n                        defaultState[key] = state[key];\n                }\n            }\n            // Display No Data message if there's nothing to show.\n            if (!data || !data.length || !data.filter(function (d) { return d.values.length; }).length) {\n                nv.utils.noData(chart, container);\n                return chart;\n            }\n            else {\n                container.selectAll('.nv-noData').remove();\n            }\n            // Setup Scales\n            x = stacked.xScale();\n            y = stacked.yScale();\n            // Setup containers and skeleton of chart\n            var wrap = container.selectAll('g.nv-wrap.nv-stackedAreaChart').data([data]);\n            var gEnter = wrap.enter().append('g').attr('class', 'nvd3 nv-wrap nv-stackedAreaChart').append('g');\n            var g = wrap.select('g');\n            gEnter.append('g').attr('class', 'nv-legendWrap');\n            gEnter.append('g').attr('class', 'nv-controlsWrap');\n            var focusEnter = gEnter.append('g').attr('class', 'nv-focus');\n            focusEnter.append('g').attr('class', 'nv-background').append('rect');\n            focusEnter.append('g').attr('class', 'nv-x nv-axis');\n            focusEnter.append('g').attr('class', 'nv-y nv-axis');\n            focusEnter.append('g').attr('class', 'nv-stackedWrap');\n            focusEnter.append('g').attr('class', 'nv-interactive');\n            // g.select(\"rect\").attr(\"width\",availableWidth).attr(\"height\",availableHeight);\n            var contextEnter = gEnter.append('g').attr('class', 'nv-focusWrap');\n            // Legend\n            if (!showLegend) {\n                g.select('.nv-legendWrap').selectAll('*').remove();\n            }\n            else {\n                var legendWidth = (showControls && legendPosition === 'top') ? availableWidth - controlWidth : availableWidth;\n                legend.width(legendWidth);\n                g.select('.nv-legendWrap').datum(data).call(legend);\n                if (legendPosition === 'bottom') {\n                    var xAxisHeight = xAxis.height();\n                    margin.bottom = Math.max(legend.height() + xAxisHeight, margin.bottom);\n                    availableHeight = nv.utils.availableHeight(height, container, margin) - (focusEnable ? focus.height() : 0);\n                    var legendTop = availableHeight + xAxisHeight;\n                    g.select('.nv-legendWrap')\n                        .attr('transform', 'translate(0,' + legendTop + ')');\n                }\n                else if (legendPosition === 'top') {\n                    if (!marginTop && margin.top != legend.height()) {\n                        margin.top = legend.height();\n                        availableHeight = nv.utils.availableHeight(height, container, margin) - (focusEnable ? focus.height() : 0);\n                    }\n                    g.select('.nv-legendWrap')\n                        .attr('transform', 'translate(' + (availableWidth - legendWidth) + ',' + (-margin.top) + ')');\n                }\n            }\n            // Controls\n            if (!showControls) {\n                g.select('.nv-controlsWrap').selectAll('*').remove();\n            }\n            else {\n                var controlsData = [\n                    {\n                        key: controlLabels.stacked || 'Stacked',\n                        metaKey: 'Stacked',\n                        disabled: stacked.style() != 'stack',\n                        style: 'stack'\n                    },\n                    {\n                        key: controlLabels.stream || 'Stream',\n                        metaKey: 'Stream',\n                        disabled: stacked.style() != 'stream',\n                        style: 'stream'\n                    },\n                    {\n                        key: controlLabels.stream_center || 'Stream Center',\n                        metaKey: 'Stream_Center',\n                        disabled: stacked.style() != 'stream_center',\n                        style: 'stream-center'\n                    },\n                    {\n                        key: controlLabels.expanded || 'Expanded',\n                        metaKey: 'Expanded',\n                        disabled: stacked.style() != 'expand',\n                        style: 'expand'\n                    },\n                    {\n                        key: controlLabels.stack_percent || 'Stack %',\n                        metaKey: 'Stack_Percent',\n                        disabled: stacked.style() != 'stack_percent',\n                        style: 'stack_percent'\n                    }\n                ];\n                controlWidth = (controlOptions.length / 3) * 260;\n                controlsData = controlsData.filter(function (d) {\n                    return controlOptions.indexOf(d.metaKey) !== -1;\n                });\n                controls\n                    .width(controlWidth)\n                    .color(['#444', '#444', '#444']);\n                g.select('.nv-controlsWrap')\n                    .datum(controlsData)\n                    .call(controls);\n                var requiredTop = Math.max(controls.height(), showLegend && (legendPosition === 'top') ? legend.height() : 0);\n                if (margin.top != requiredTop) {\n                    margin.top = requiredTop;\n                    availableHeight = nv.utils.availableHeight(height, container, margin) - (focusEnable ? focus.height() : 0);\n                }\n                g.select('.nv-controlsWrap')\n                    .attr('transform', 'translate(0,' + (-margin.top) + ')');\n            }\n            wrap.attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');\n            if (rightAlignYAxis) {\n                g.select(\".nv-y.nv-axis\")\n                    .attr(\"transform\", \"translate(\" + availableWidth + \",0)\");\n            }\n            //Set up interactive layer\n            if (useInteractiveGuideline) {\n                interactiveLayer\n                    .width(availableWidth)\n                    .height(availableHeight)\n                    .margin({ left: margin.left, top: margin.top })\n                    .svgContainer(container)\n                    .xScale(x);\n                wrap.select(\".nv-interactive\").call(interactiveLayer);\n            }\n            g.select('.nv-focus .nv-background rect')\n                .attr('width', availableWidth)\n                .attr('height', availableHeight);\n            stacked\n                .width(availableWidth)\n                .height(availableHeight)\n                .color(data.map(function (d, i) {\n                return d.color || color(d, i);\n            }).filter(function (d, i) { return !data[i].disabled; }));\n            var stackedWrap = g.select('.nv-focus .nv-stackedWrap')\n                .datum(data.filter(function (d) { return !d.disabled; }));\n            // Setup Axes\n            if (showXAxis) {\n                xAxis.scale(x)\n                    ._ticks(nv.utils.calcTicksX(availableWidth / 100, data))\n                    .tickSize(-availableHeight, 0);\n            }\n            if (showYAxis) {\n                var ticks;\n                if (stacked.offset() === 'wiggle') {\n                    ticks = 0;\n                }\n                else {\n                    ticks = nv.utils.calcTicksY(availableHeight / 36, data);\n                }\n                yAxis.scale(y)\n                    ._ticks(ticks)\n                    .tickSize(-availableWidth, 0);\n            }\n            //============================================================\n            // Update Axes\n            //============================================================\n            function updateXAxis() {\n                if (showXAxis) {\n                    g.select('.nv-focus .nv-x.nv-axis')\n                        .attr('transform', 'translate(0,' + availableHeight + ')')\n                        .transition()\n                        .duration(duration)\n                        .call(xAxis);\n                }\n            }\n            function updateYAxis() {\n                if (showYAxis) {\n                    if (stacked.style() === 'expand' || stacked.style() === 'stack_percent') {\n                        var currentFormat = yAxis.tickFormat();\n                        if (!oldYTickFormat || currentFormat !== percentFormatter)\n                            oldYTickFormat = currentFormat;\n                        //Forces the yAxis to use percentage in 'expand' mode.\n                        yAxis.tickFormat(percentFormatter);\n                    }\n                    else {\n                        if (oldYTickFormat) {\n                            yAxis.tickFormat(oldYTickFormat);\n                            oldYTickFormat = null;\n                        }\n                    }\n                    g.select('.nv-focus .nv-y.nv-axis')\n                        .transition().duration(0)\n                        .call(yAxis);\n                }\n            }\n            //============================================================\n            // Update Focus\n            //============================================================\n            if (!focusEnable) {\n                stackedWrap.transition().call(stacked);\n                updateXAxis();\n                updateYAxis();\n            }\n            else {\n                focus.width(availableWidth);\n                g.select('.nv-focusWrap')\n                    .attr('transform', 'translate(0,' + (availableHeight + margin.bottom + focus.margin().top) + ')')\n                    .datum(data.filter(function (d) { return !d.disabled; }))\n                    .call(focus);\n                var extent = focus.brush.empty() ? focus.xDomain() : focus.brush.extent();\n                if (extent !== null) {\n                    onBrush(extent);\n                }\n            }\n            //============================================================\n            // Event Handling/Dispatching (in chart's scope)\n            //------------------------------------------------------------\n            stacked.dispatch.on('areaClick.toggle', function (e) {\n                if (data.filter(function (d) { return !d.disabled; }).length === 1)\n                    data.forEach(function (d) {\n                        d.disabled = false;\n                    });\n                else\n                    data.forEach(function (d, i) {\n                        d.disabled = (i != e.seriesIndex);\n                    });\n                state.disabled = data.map(function (d) { return !!d.disabled; });\n                dispatch.stateChange(state);\n                chart.update();\n            });\n            legend.dispatch.on('stateChange', function (newState) {\n                for (var key in newState)\n                    state[key] = newState[key];\n                dispatch.stateChange(state);\n                chart.update();\n            });\n            controls.dispatch.on('legendClick', function (d, i) {\n                if (!d.disabled)\n                    return;\n                controlsData = controlsData.map(function (s) {\n                    s.disabled = true;\n                    return s;\n                });\n                d.disabled = false;\n                stacked.style(d.style);\n                state.style = stacked.style();\n                dispatch.stateChange(state);\n                chart.update();\n            });\n            interactiveLayer.dispatch.on('elementMousemove', function (e) {\n                stacked.clearHighlights();\n                var singlePoint, pointIndex, pointXLocation, allData = [], valueSum = 0, allNullValues = true, atleastOnePoint = false;\n                data\n                    .filter(function (series, i) {\n                    series.seriesIndex = i;\n                    return !series.disabled;\n                })\n                    .forEach(function (series, i) {\n                    pointIndex = nv.interactiveBisect(series.values, e.pointXValue, chart.x());\n                    var point = series.values[pointIndex];\n                    var pointYValue = chart.y()(point, pointIndex);\n                    if (pointYValue != null && pointYValue > 0) {\n                        stacked.highlightPoint(i, pointIndex, true);\n                        atleastOnePoint = true;\n                    }\n                    // Draw at least one point if all values are zero.\n                    if (i === (data.length - 1) && !atleastOnePoint) {\n                        stacked.highlightPoint(i, pointIndex, true);\n                    }\n                    if (typeof point === 'undefined')\n                        return;\n                    if (typeof singlePoint === 'undefined')\n                        singlePoint = point;\n                    if (typeof pointXLocation === 'undefined')\n                        pointXLocation = chart.xScale()(chart.x()(point, pointIndex));\n                    //If we are in 'expand' mode, use the stacked percent value instead of raw value.\n                    var tooltipValue = (stacked.style() == 'expand') ? point.display.y : chart.y()(point, pointIndex);\n                    allData.push({\n                        key: series.key,\n                        value: tooltipValue,\n                        color: color(series, series.seriesIndex),\n                        point: point\n                    });\n                    if (showTotalInTooltip && stacked.style() != 'expand' && tooltipValue != null) {\n                        valueSum += tooltipValue;\n                        allNullValues = false;\n                    }\n                    ;\n                });\n                allData.reverse();\n                //Highlight the tooltip entry based on which stack the mouse is closest to.\n                if (allData.length > 2) {\n                    var yValue = chart.yScale().invert(e.mouseY);\n                    var yDistMax = Infinity, indexToHighlight = null;\n                    allData.forEach(function (series, i) {\n                        //To handle situation where the stacked area chart is negative, we need to use absolute values\n                        //when checking if the mouse Y value is within the stack area.\n                        yValue = Math.abs(yValue);\n                        var stackedY0 = Math.abs(series.point.display.y0);\n                        var stackedY = Math.abs(series.point.display.y);\n                        if (yValue >= stackedY0 && yValue <= (stackedY + stackedY0)) {\n                            indexToHighlight = i;\n                            return;\n                        }\n                    });\n                    if (indexToHighlight != null)\n                        allData[indexToHighlight].highlight = true;\n                }\n                //If we are not in 'expand' mode, add a 'Total' row to the tooltip.\n                if (showTotalInTooltip && stacked.style() != 'expand' && allData.length >= 2 && !allNullValues) {\n                    allData.push({\n                        key: totalLabel,\n                        value: valueSum,\n                        total: true\n                    });\n                }\n                var xValue = chart.x()(singlePoint, pointIndex);\n                var valueFormatter = interactiveLayer.tooltip.valueFormatter();\n                // Keeps track of the tooltip valueFormatter if the chart changes to expanded view\n                if (stacked.style() === 'expand' || stacked.style() === 'stack_percent') {\n                    if (!oldValueFormatter) {\n                        oldValueFormatter = valueFormatter;\n                    }\n                    //Forces the tooltip to use percentage in 'expand' mode.\n                    valueFormatter = d3.format(\".1%\");\n                }\n                else {\n                    if (oldValueFormatter) {\n                        valueFormatter = oldValueFormatter;\n                        oldValueFormatter = null;\n                    }\n                }\n                interactiveLayer.tooltip\n                    .valueFormatter(valueFormatter)\n                    .data({\n                    value: xValue,\n                    series: allData\n                })();\n                interactiveLayer.renderGuideLine(pointXLocation);\n            });\n            interactiveLayer.dispatch.on(\"elementMouseout\", function (e) {\n                stacked.clearHighlights();\n            });\n            /* Update `main' graph on brush update. */\n            focus.dispatch.on(\"onBrush\", function (extent) {\n                onBrush(extent);\n            });\n            // Update chart from a state object passed to event handler\n            dispatch.on('changeState', function (e) {\n                if (typeof e.disabled !== 'undefined' && data.length === e.disabled.length) {\n                    data.forEach(function (series, i) {\n                        series.disabled = e.disabled[i];\n                    });\n                    state.disabled = e.disabled;\n                }\n                if (typeof e.style !== 'undefined') {\n                    stacked.style(e.style);\n                    style = e.style;\n                }\n                chart.update();\n            });\n            //============================================================\n            // Functions\n            //------------------------------------------------------------\n            function onBrush(extent) {\n                // Update Main (Focus)\n                var stackedWrap = g.select('.nv-focus .nv-stackedWrap')\n                    .datum(data.filter(function (d) { return !d.disabled; })\n                    .map(function (d, i) {\n                    return {\n                        key: d.key,\n                        area: d.area,\n                        classed: d.classed,\n                        values: d.values.filter(function (d, i) {\n                            return stacked.x()(d, i) >= extent[0] && stacked.x()(d, i) <= extent[1];\n                        }),\n                        disableTooltip: d.disableTooltip\n                    };\n                }));\n                stackedWrap.transition().duration(duration).call(stacked);\n                // Update Main (Focus) Axes\n                updateXAxis();\n                updateYAxis();\n            }\n        });\n        renderWatch.renderEnd('stacked Area chart immediate');\n        return chart;\n    }\n    //============================================================\n    // Event Handling/Dispatching (out of chart's scope)\n    //------------------------------------------------------------\n    stacked.dispatch.on('elementMouseover.tooltip', function (evt) {\n        evt.point['x'] = stacked.x()(evt.point);\n        evt.point['y'] = stacked.y()(evt.point);\n        tooltip.data(evt).hidden(false);\n    });\n    stacked.dispatch.on('elementMouseout.tooltip', function (evt) {\n        tooltip.hidden(true);\n    });\n    //============================================================\n    // Expose Public Variables\n    //------------------------------------------------------------\n    // expose chart's sub-components\n    chart.dispatch = dispatch;\n    chart.stacked = stacked;\n    chart.legend = legend;\n    chart.controls = controls;\n    chart.xAxis = xAxis;\n    chart.x2Axis = focus.xAxis;\n    chart.yAxis = yAxis;\n    chart.y2Axis = focus.yAxis;\n    chart.interactiveLayer = interactiveLayer;\n    chart.tooltip = tooltip;\n    chart.focus = focus;\n    chart.dispatch = dispatch;\n    chart.options = nv.utils.optionsFunc.bind(chart);\n    chart._options = Object.create({}, {\n        // simple options, just get/set the necessary values\n        width: { get: function () { return width; }, set: function (_) { width = _; } },\n        height: { get: function () { return height; }, set: function (_) { height = _; } },\n        showLegend: { get: function () { return showLegend; }, set: function (_) { showLegend = _; } },\n        legendPosition: { get: function () { return legendPosition; }, set: function (_) { legendPosition = _; } },\n        showXAxis: { get: function () { return showXAxis; }, set: function (_) { showXAxis = _; } },\n        showYAxis: { get: function () { return showYAxis; }, set: function (_) { showYAxis = _; } },\n        defaultState: { get: function () { return defaultState; }, set: function (_) { defaultState = _; } },\n        noData: { get: function () { return noData; }, set: function (_) { noData = _; } },\n        showControls: { get: function () { return showControls; }, set: function (_) { showControls = _; } },\n        controlLabels: { get: function () { return controlLabels; }, set: function (_) { controlLabels = _; } },\n        controlOptions: { get: function () { return controlOptions; }, set: function (_) { controlOptions = _; } },\n        showTotalInTooltip: { get: function () { return showTotalInTooltip; }, set: function (_) { showTotalInTooltip = _; } },\n        totalLabel: { get: function () { return totalLabel; }, set: function (_) { totalLabel = _; } },\n        focusEnable: { get: function () { return focusEnable; }, set: function (_) { focusEnable = _; } },\n        focusHeight: { get: function () { return focus.height(); }, set: function (_) { focus.height(_); } },\n        brushExtent: { get: function () { return focus.brushExtent(); }, set: function (_) { focus.brushExtent(_); } },\n        // options that require extra logic in the setter\n        margin: { get: function () { return margin; }, set: function (_) {\n                if (_.top !== undefined) {\n                    margin.top = _.top;\n                    marginTop = _.top;\n                }\n                margin.right = _.right !== undefined ? _.right : margin.right;\n                margin.bottom = _.bottom !== undefined ? _.bottom : margin.bottom;\n                margin.left = _.left !== undefined ? _.left : margin.left;\n            } },\n        focusMargin: { get: function () { return focus.margin; }, set: function (_) {\n                focus.margin.top = _.top !== undefined ? _.top : focus.margin.top;\n                focus.margin.right = _.right !== undefined ? _.right : focus.margin.right;\n                focus.margin.bottom = _.bottom !== undefined ? _.bottom : focus.margin.bottom;\n                focus.margin.left = _.left !== undefined ? _.left : focus.margin.left;\n            } },\n        duration: { get: function () { return duration; }, set: function (_) {\n                duration = _;\n                renderWatch.reset(duration);\n                stacked.duration(duration);\n                xAxis.duration(duration);\n                yAxis.duration(duration);\n            } },\n        color: { get: function () { return color; }, set: function (_) {\n                color = nv.utils.getColor(_);\n                legend.color(color);\n                stacked.color(color);\n                focus.color(color);\n            } },\n        x: { get: function () { return stacked.x(); }, set: function (_) {\n                stacked.x(_);\n                focus.x(_);\n            } },\n        y: { get: function () { return stacked.y(); }, set: function (_) {\n                stacked.y(_);\n                focus.y(_);\n            } },\n        rightAlignYAxis: { get: function () { return rightAlignYAxis; }, set: function (_) {\n                rightAlignYAxis = _;\n                yAxis.orient(rightAlignYAxis ? 'right' : 'left');\n            } },\n        useInteractiveGuideline: { get: function () { return useInteractiveGuideline; }, set: function (_) {\n                useInteractiveGuideline = !!_;\n                chart.interactive(!_);\n                chart.useVoronoi(!_);\n                stacked.scatter.interactive(!_);\n            } }\n    });\n    nv.utils.inheritOptions(chart, stacked);\n    nv.utils.initOptions(chart);\n    return chart;\n};\nnv.models.stackedAreaWithFocusChart = function () {\n    return nv.models.stackedAreaChart()\n        .margin({ bottom: 30 })\n        .focusEnable(true);\n};\n","// based on http://bl.ocks.org/kerryrodden/477c1bfb081b783f80ad\nnv.models.sunburst = function () {\n    \"use strict\";\n    //============================================================\n    // Public Variables with Default Settings\n    //------------------------------------------------------------\n    var margin = { top: 0, right: 0, bottom: 0, left: 0 }, width = 600, height = 600, mode = \"count\", modes = { count: function (d) { return 1; }, value: function (d) { return d.value || d.size; }, size: function (d) { return d.value || d.size; } }, id = Math.floor(Math.random() * 10000) //Create semi-unique ID in case user doesn't select one\n    , container = null, color = nv.utils.defaultColor(), showLabels = false, labelFormat = function (d) { if (mode === 'count') {\n        return d.name + ' #' + d.value;\n    }\n    else {\n        return d.name + ' ' + (d.value || d.size);\n    } }, labelThreshold = 0.02, sort = function (d1, d2) { return d1.name > d2.name; }, key = function (d, i) {\n        if (d.parent !== undefined) {\n            return d.name + '-' + d.parent.name + '-' + i;\n        }\n        else {\n            return d.name;\n        }\n    }, groupColorByParent = true, duration = 500, dispatch = d3.dispatch('chartClick', 'elementClick', 'elementDblClick', 'elementMousemove', 'elementMouseover', 'elementMouseout', 'renderEnd');\n    //============================================================\n    // aux functions and setup\n    //------------------------------------------------------------\n    var x = d3.scale.linear().range([0, 2 * Math.PI]);\n    var y = d3.scale.sqrt();\n    var partition = d3.layout.partition().sort(sort);\n    var node, availableWidth, availableHeight, radius;\n    var prevPositions = {};\n    var arc = d3.svg.arc()\n        .startAngle(function (d) { return Math.max(0, Math.min(2 * Math.PI, x(d.x))); })\n        .endAngle(function (d) { return Math.max(0, Math.min(2 * Math.PI, x(d.x + d.dx))); })\n        .innerRadius(function (d) { return Math.max(0, y(d.y)); })\n        .outerRadius(function (d) { return Math.max(0, y(d.y + d.dy)); });\n    function rotationToAvoidUpsideDown(d) {\n        var centerAngle = computeCenterAngle(d);\n        if (centerAngle > 90) {\n            return 180;\n        }\n        else {\n            return 0;\n        }\n    }\n    function computeCenterAngle(d) {\n        var startAngle = Math.max(0, Math.min(2 * Math.PI, x(d.x)));\n        var endAngle = Math.max(0, Math.min(2 * Math.PI, x(d.x + d.dx)));\n        var centerAngle = (((startAngle + endAngle) / 2) * (180 / Math.PI)) - 90;\n        return centerAngle;\n    }\n    function computeNodePercentage(d) {\n        var startAngle = Math.max(0, Math.min(2 * Math.PI, x(d.x)));\n        var endAngle = Math.max(0, Math.min(2 * Math.PI, x(d.x + d.dx)));\n        return (endAngle - startAngle) / (2 * Math.PI);\n    }\n    function labelThresholdMatched(d) {\n        var startAngle = Math.max(0, Math.min(2 * Math.PI, x(d.x)));\n        var endAngle = Math.max(0, Math.min(2 * Math.PI, x(d.x + d.dx)));\n        var size = endAngle - startAngle;\n        return size > labelThreshold;\n    }\n    // When zooming: interpolate the scales.\n    function arcTweenZoom(e, i) {\n        var xd = d3.interpolate(x.domain(), [node.x, node.x + node.dx]), yd = d3.interpolate(y.domain(), [node.y, 1]), yr = d3.interpolate(y.range(), [node.y ? 20 : 0, radius]);\n        if (i === 0) {\n            return function () { return arc(e); };\n        }\n        else {\n            return function (t) {\n                x.domain(xd(t));\n                y.domain(yd(t)).range(yr(t));\n                return arc(e);\n            };\n        }\n        ;\n    }\n    function arcTweenUpdate(d) {\n        var ipo = d3.interpolate({ x: d.x0, dx: d.dx0, y: d.y0, dy: d.dy0 }, d);\n        return function (t) {\n            var b = ipo(t);\n            d.x0 = b.x;\n            d.dx0 = b.dx;\n            d.y0 = b.y;\n            d.dy0 = b.dy;\n            return arc(b);\n        };\n    }\n    function updatePrevPosition(node) {\n        var k = key(node);\n        if (!prevPositions[k])\n            prevPositions[k] = {};\n        var pP = prevPositions[k];\n        pP.dx = node.dx;\n        pP.x = node.x;\n        pP.dy = node.dy;\n        pP.y = node.y;\n    }\n    function storeRetrievePrevPositions(nodes) {\n        nodes.forEach(function (n) {\n            var k = key(n);\n            var pP = prevPositions[k];\n            //console.log(k,n,pP);\n            if (pP) {\n                n.dx0 = pP.dx;\n                n.x0 = pP.x;\n                n.dy0 = pP.dy;\n                n.y0 = pP.y;\n            }\n            else {\n                n.dx0 = n.dx;\n                n.x0 = n.x;\n                n.dy0 = n.dy;\n                n.y0 = n.y;\n            }\n            updatePrevPosition(n);\n        });\n    }\n    function zoomClick(d) {\n        var labels = container.selectAll('text');\n        var path = container.selectAll('path');\n        // fade out all text elements\n        labels.transition().attr(\"opacity\", 0);\n        // to allow reference to the new center node\n        node = d;\n        path.transition()\n            .duration(duration)\n            .attrTween(\"d\", arcTweenZoom)\n            .each('end', function (e) {\n            // partially taken from here: http://bl.ocks.org/metmajer/5480307\n            // check if the animated element's data e lies within the visible angle span given in d\n            if (e.x >= d.x && e.x < (d.x + d.dx)) {\n                if (e.depth >= d.depth) {\n                    // get a selection of the associated text element\n                    var parentNode = d3.select(this.parentNode);\n                    var arcText = parentNode.select('text');\n                    // fade in the text element and recalculate positions\n                    arcText.transition().duration(duration)\n                        .text(function (e) { return labelFormat(e); })\n                        .attr(\"opacity\", function (d) {\n                        if (labelThresholdMatched(d)) {\n                            return 1;\n                        }\n                        else {\n                            return 0;\n                        }\n                    })\n                        .attr(\"transform\", function () {\n                        var width = this.getBBox().width;\n                        if (e.depth === 0)\n                            return \"translate(\" + (width / 2 * -1) + \",0)\";\n                        else if (e.depth === d.depth) {\n                            return \"translate(\" + (y(e.y) + 5) + \",0)\";\n                        }\n                        else {\n                            var centerAngle = computeCenterAngle(e);\n                            var rotation = rotationToAvoidUpsideDown(e);\n                            if (rotation === 0) {\n                                return 'rotate(' + centerAngle + ')translate(' + (y(e.y) + 5) + ',0)';\n                            }\n                            else {\n                                return 'rotate(' + centerAngle + ')translate(' + (y(e.y) + width + 5) + ',0)rotate(' + rotation + ')';\n                            }\n                        }\n                    });\n                }\n            }\n        });\n    }\n    //============================================================\n    // chart function\n    //------------------------------------------------------------\n    var renderWatch = nv.utils.renderWatch(dispatch);\n    function chart(selection) {\n        renderWatch.reset();\n        selection.each(function (data) {\n            container = d3.select(this);\n            availableWidth = nv.utils.availableWidth(width, container, margin);\n            availableHeight = nv.utils.availableHeight(height, container, margin);\n            radius = Math.min(availableWidth, availableHeight) / 2;\n            y.range([0, radius]);\n            // Setup containers and skeleton of chart\n            var wrap = container.select('g.nvd3.nv-wrap.nv-sunburst');\n            if (!wrap[0][0]) {\n                wrap = container.append('g')\n                    .attr('class', 'nvd3 nv-wrap nv-sunburst nv-chart-' + id)\n                    .attr('transform', 'translate(' + ((availableWidth / 2) + margin.left + margin.right) + ',' + ((availableHeight / 2) + margin.top + margin.bottom) + ')');\n            }\n            else {\n                wrap.attr('transform', 'translate(' + ((availableWidth / 2) + margin.left + margin.right) + ',' + ((availableHeight / 2) + margin.top + margin.bottom) + ')');\n            }\n            container.on('click', function (d, i) {\n                dispatch.chartClick({\n                    data: d,\n                    index: i,\n                    pos: d3.event,\n                    id: id\n                });\n            });\n            partition.value(modes[mode] || modes[\"count\"]);\n            //reverse the drawing order so that the labels of inner\n            //arcs are drawn on top of the outer arcs.\n            var nodes = partition.nodes(data[0]).reverse();\n            storeRetrievePrevPositions(nodes);\n            var cG = wrap.selectAll('.arc-container').data(nodes, key);\n            //handle new datapoints\n            var cGE = cG.enter()\n                .append(\"g\")\n                .attr(\"class\", 'arc-container');\n            cGE.append(\"path\")\n                .attr(\"d\", arc)\n                .style(\"fill\", function (d) {\n                if (d.color) {\n                    return d.color;\n                }\n                else if (groupColorByParent) {\n                    return color((d.children ? d : d.parent).name);\n                }\n                else {\n                    return color(d.name);\n                }\n            })\n                .style(\"stroke\", \"#FFF\")\n                .on(\"click\", function (d, i) {\n                zoomClick(d);\n                dispatch.elementClick({\n                    data: d,\n                    index: i\n                });\n            })\n                .on('mouseover', function (d, i) {\n                d3.select(this).classed('hover', true).style('opacity', 0.8);\n                dispatch.elementMouseover({\n                    data: d,\n                    color: d3.select(this).style(\"fill\"),\n                    percent: computeNodePercentage(d)\n                });\n            })\n                .on('mouseout', function (d, i) {\n                d3.select(this).classed('hover', false).style('opacity', 1);\n                dispatch.elementMouseout({\n                    data: d\n                });\n            })\n                .on('mousemove', function (d, i) {\n                dispatch.elementMousemove({\n                    data: d\n                });\n            });\n            ///Iterating via each and selecting based on the this\n            ///makes it work ... a cG.selectAll('path') doesn't.\n            ///Without iteration the data (in the element) didn't update.\n            cG.each(function (d) {\n                d3.select(this).select('path')\n                    .transition()\n                    .duration(duration)\n                    .attrTween('d', arcTweenUpdate);\n            });\n            if (showLabels) {\n                //remove labels first and add them back\n                cG.selectAll('text').remove();\n                //this way labels are on top of newly added arcs\n                cG.append('text')\n                    .text(function (e) { return labelFormat(e); })\n                    .transition()\n                    .duration(duration)\n                    .attr(\"opacity\", function (d) {\n                    if (labelThresholdMatched(d)) {\n                        return 1;\n                    }\n                    else {\n                        return 0;\n                    }\n                })\n                    .attr(\"transform\", function (d) {\n                    var width = this.getBBox().width;\n                    if (d.depth === 0) {\n                        return \"rotate(0)translate(\" + (width / 2 * -1) + \",0)\";\n                    }\n                    else {\n                        var centerAngle = computeCenterAngle(d);\n                        var rotation = rotationToAvoidUpsideDown(d);\n                        if (rotation === 0) {\n                            return 'rotate(' + centerAngle + ')translate(' + (y(d.y) + 5) + ',0)';\n                        }\n                        else {\n                            return 'rotate(' + centerAngle + ')translate(' + (y(d.y) + width + 5) + ',0)rotate(' + rotation + ')';\n                        }\n                    }\n                });\n            }\n            //zoom out to the center when the data is updated.\n            zoomClick(nodes[nodes.length - 1]);\n            //remove unmatched elements ...\n            cG.exit()\n                .transition()\n                .duration(duration)\n                .attr('opacity', 0)\n                .each('end', function (d) {\n                var k = key(d);\n                prevPositions[k] = undefined;\n            })\n                .remove();\n        });\n        renderWatch.renderEnd('sunburst immediate');\n        return chart;\n    }\n    //============================================================\n    // Expose Public Variables\n    //------------------------------------------------------------\n    chart.dispatch = dispatch;\n    chart.options = nv.utils.optionsFunc.bind(chart);\n    chart._options = Object.create({}, {\n        // simple options, just get/set the necessary values\n        width: { get: function () { return width; }, set: function (_) { width = _; } },\n        height: { get: function () { return height; }, set: function (_) { height = _; } },\n        mode: { get: function () { return mode; }, set: function (_) { mode = _; } },\n        id: { get: function () { return id; }, set: function (_) { id = _; } },\n        duration: { get: function () { return duration; }, set: function (_) { duration = _; } },\n        groupColorByParent: { get: function () { return groupColorByParent; }, set: function (_) { groupColorByParent = !!_; } },\n        showLabels: { get: function () { return showLabels; }, set: function (_) { showLabels = !!_; } },\n        labelFormat: { get: function () { return labelFormat; }, set: function (_) { labelFormat = _; } },\n        labelThreshold: { get: function () { return labelThreshold; }, set: function (_) { labelThreshold = _; } },\n        sort: { get: function () { return sort; }, set: function (_) { sort = _; } },\n        key: { get: function () { return key; }, set: function (_) { key = _; } },\n        // options that require extra logic in the setter\n        margin: { get: function () { return margin; }, set: function (_) {\n                margin.top = _.top != undefined ? _.top : margin.top;\n                margin.right = _.right != undefined ? _.right : margin.right;\n                margin.bottom = _.bottom != undefined ? _.bottom : margin.bottom;\n                margin.left = _.left != undefined ? _.left : margin.left;\n            } },\n        color: { get: function () { return color; }, set: function (_) {\n                color = nv.utils.getColor(_);\n            } }\n    });\n    nv.utils.initOptions(chart);\n    return chart;\n};\n","nv.models.sunburstChart = function () {\n    \"use strict\";\n    //============================================================\n    // Public Variables with Default Settings\n    //------------------------------------------------------------\n    var sunburst = nv.models.sunburst();\n    var tooltip = nv.models.tooltip();\n    var margin = { top: 30, right: 20, bottom: 20, left: 20 }, width = null, height = null, color = nv.utils.defaultColor(), showTooltipPercent = false, id = Math.round(Math.random() * 100000), defaultState = null, noData = null, duration = 250, dispatch = d3.dispatch('stateChange', 'changeState', 'renderEnd');\n    //============================================================\n    // Private Variables\n    //------------------------------------------------------------\n    var renderWatch = nv.utils.renderWatch(dispatch);\n    tooltip\n        .duration(0)\n        .headerEnabled(false)\n        .valueFormatter(function (d) { return d; });\n    //============================================================\n    // Chart function\n    //------------------------------------------------------------\n    function chart(selection) {\n        renderWatch.reset();\n        renderWatch.models(sunburst);\n        selection.each(function (data) {\n            var container = d3.select(this);\n            nv.utils.initSVG(container);\n            var availableWidth = nv.utils.availableWidth(width, container, margin);\n            var availableHeight = nv.utils.availableHeight(height, container, margin);\n            chart.update = function () {\n                if (duration === 0) {\n                    container.call(chart);\n                }\n                else {\n                    container.transition().duration(duration).call(chart);\n                }\n            };\n            chart.container = container;\n            // Display No Data message if there's nothing to show.\n            if (!data || !data.length) {\n                nv.utils.noData(chart, container);\n                return chart;\n            }\n            else {\n                container.selectAll('.nv-noData').remove();\n            }\n            sunburst.width(availableWidth).height(availableHeight).margin(margin);\n            container.call(sunburst);\n        });\n        renderWatch.renderEnd('sunburstChart immediate');\n        return chart;\n    }\n    //============================================================\n    // Event Handling/Dispatching (out of chart's scope)\n    //------------------------------------------------------------\n    sunburst.dispatch.on('elementMouseover.tooltip', function (evt) {\n        evt.series = {\n            key: evt.data.name,\n            value: (evt.data.value || evt.data.size),\n            color: evt.color,\n            percent: evt.percent\n        };\n        if (!showTooltipPercent) {\n            delete evt.percent;\n            delete evt.series.percent;\n        }\n        tooltip.data(evt).hidden(false);\n    });\n    sunburst.dispatch.on('elementMouseout.tooltip', function (evt) {\n        tooltip.hidden(true);\n    });\n    sunburst.dispatch.on('elementMousemove.tooltip', function (evt) {\n        tooltip();\n    });\n    //============================================================\n    // Expose Public Variables\n    //------------------------------------------------------------\n    // expose chart's sub-components\n    chart.dispatch = dispatch;\n    chart.sunburst = sunburst;\n    chart.tooltip = tooltip;\n    chart.options = nv.utils.optionsFunc.bind(chart);\n    // use Object get/set functionality to map between vars and chart functions\n    chart._options = Object.create({}, {\n        // simple options, just get/set the necessary values\n        noData: { get: function () { return noData; }, set: function (_) { noData = _; } },\n        defaultState: { get: function () { return defaultState; }, set: function (_) { defaultState = _; } },\n        showTooltipPercent: { get: function () { return showTooltipPercent; }, set: function (_) { showTooltipPercent = _; } },\n        // options that require extra logic in the setter\n        color: { get: function () { return color; }, set: function (_) {\n                color = _;\n                sunburst.color(color);\n            } },\n        duration: { get: function () { return duration; }, set: function (_) {\n                duration = _;\n                renderWatch.reset(duration);\n                sunburst.duration(duration);\n            } },\n        margin: { get: function () { return margin; }, set: function (_) {\n                margin.top = _.top !== undefined ? _.top : margin.top;\n                margin.right = _.right !== undefined ? _.right : margin.right;\n                margin.bottom = _.bottom !== undefined ? _.bottom : margin.bottom;\n                margin.left = _.left !== undefined ? _.left : margin.left;\n                sunburst.margin(margin);\n            } }\n    });\n    nv.utils.inheritOptions(chart, sunburst);\n    nv.utils.initOptions(chart);\n    return chart;\n};\n"]}