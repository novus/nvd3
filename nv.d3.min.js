(function(){var c=window.nv||{};c.version="0.0.1a";c.dev=true;window.nv=c;c.tooltip={};c.utils={};c.models={};c.charts={};c.graphs=[];c.logs={};c.dispatch=d3.dispatch("render_start","render_end");if(c.dev){c.dispatch.on("render_start",function(f){c.logs.startTime=+new Date()});c.dispatch.on("render_end",function(f){c.logs.endTime=+new Date();c.logs.totalTime=c.logs.endTime-c.logs.startTime;c.log("total",c.logs.totalTime)})}c.log=function(){if(c.dev&&console.log&&console.log.apply){console.log.apply(console,arguments)}else{if(c.dev&&console.log&&Function.prototype.bind){var e=Function.prototype.bind.call(console.log,console);e.apply(console,arguments)}}return arguments[arguments.length-1]};c.render=function d(e){e=e||1;c.render.active=true;c.dispatch.render_start();setTimeout(function(){var g,h;for(var f=0;f<e&&(h=c.render.queue[f]);f++){g=h.generate();if(typeof h.callback==typeof(Function)){h.callback(g)}c.graphs.push(g)}c.render.queue.splice(0,f);if(c.render.queue.length){setTimeout(arguments.callee,0)}else{c.render.active=false;c.dispatch.render_end()}},0)};c.render.active=false;c.render.queue=[];c.addGraph=function(e){if(typeof arguments[0]===typeof(Function)){e={generate:arguments[0],callback:arguments[1]}}c.render.queue.push(e);if(!c.render.active){c.render()}};c.identity=function(e){return e};c.strip=function(e){return e.replace(/(\s|&)/g,"")};function b(f,e){return(new Date(e,f+1,0)).getDate()}function a(g,f,e){return function(m,l,i){var n=g(m),o=[];if(n<m){f(n)}if(i>1){while(n<l){var h=new Date(+n);if((e(h)%i===0)){o.push(h)}f(n)}}else{while(n<l){o.push(new Date(+n));f(n)}}return o}}d3.time.monthEnd=function(e){return new Date(e.getFullYear(),e.getMonth(),0)};d3.time.monthEnds=a(d3.time.monthEnd,function(e){e.setUTCDate(e.getUTCDate()+1);e.setDate(b(e.getMonth()+1,e.getFullYear()))},function(e){return e.getMonth()});(function(){var e=window.nv.tooltip={};e.show=function(m,w,l,u,q,z){var r=document.createElement("div");r.className="nvtooltip "+(z?z:"xy-tooltip");l=l||"s";u=u||20;var p=q?q:document.getElementsByTagName("body")[0];r.innerHTML=w;r.style.left=0;r.style.top=0;r.style.opacity=0;p.appendChild(r);var t=parseInt(r.offsetHeight),v=parseInt(r.offsetWidth),A=c.utils.windowSize().width,o=c.utils.windowSize().height,g=window.scrollY,x=window.scrollX,i,s;o=window.innerWidth>=document.body.scrollWidth?o:o-16;A=window.innerHeight>=document.body.scrollHeight?A:A-16;var n=function(B){var C=s;do{if(!isNaN(B.offsetTop)){C+=(B.offsetTop)}}while(B=B.offsetParent);return C};var y=function(B){var C=i;do{if(!isNaN(B.offsetLeft)){C+=(B.offsetLeft)}}while(B=B.offsetParent);return C};switch(l){case"e":i=m[0]-v-u;s=m[1]-(t/2);var f=y(r);var h=n(r);if(f<x){i=m[0]+u>x?m[0]+u:x-f+i}if(h<g){s=g-h+s}if(h+t>g+o){s=g+o-h+s-t}break;case"w":i=m[0]+u;s=m[1]-(t/2);if(f+v>A){i=m[0]-v-u}if(h<g){s=g+5}if(h+t>g+o){s=g-t-5}break;case"n":i=m[0]-(v/2)-5;s=m[1]+u;var f=y(r);var h=n(r);if(f<x){i=x+5}if(f+v>A){i=i-v/2+5}if(h+t>g+o){s=g+o-h+s-t}break;case"s":i=m[0]-(v/2);s=m[1]-t-u;var f=y(r);var h=n(r);if(f<x){i=x+5}if(f+v>A){i=i-v/2+5}if(g>h){s=g}break}r.style.left=i+"px";r.style.top=s+"px";r.style.opacity=1;r.style.position="absolute";r.style.pointerEvents="none";return r};e.cleanup=function(){var f=document.getElementsByClassName("nvtooltip");var g=[];while(f.length){g.push(f[0]);f[0].style.transitionDelay="0 !important";f[0].style.opacity=0;f[0].className="nvtooltip-pending-removal"}setTimeout(function(){while(g.length){var h=g.pop();h.parentNode.removeChild(h)}},500)}})();c.utils.windowSize=function(){var e={width:640,height:480};if(document.body&&document.body.offsetWidth){e.width=document.body.offsetWidth;e.height=document.body.offsetHeight}if(document.compatMode=="CSS1Compat"&&document.documentElement&&document.documentElement.offsetWidth){e.width=document.documentElement.offsetWidth;e.height=document.documentElement.offsetHeight}if(window.innerWidth&&window.innerHeight){e.width=window.innerWidth;e.height=window.innerHeight}return(e)};c.utils.windowResize=function(e){var f=window.onresize;window.onresize=function(g){if(typeof f=="function"){f(g)}e(g)}};c.utils.getColor=function(e){if(!arguments.length){return c.utils.defaultColor()}if(Object.prototype.toString.call(e)==="[object Array]"){return function(g,f){return g.color||e[f%e.length]}}else{return e}};c.utils.defaultColor=function(){var e=d3.scale.category20().range();return function(g,f){return g.color||e[f%e.length]}};c.utils.customTheme=function(h,f,g){f=f||function(i){return i.key};g=g||d3.scale.category20().range();var e=g.length;return function(m,i){var l=f(m);if(!e){e=g.length}if(typeof h[l]!=="undefined"){return(typeof h[l]==="function")?h[l]():h[l]}else{return g[--e]}}};c.utils.pjax=function(e,f){d3.selectAll(e).on("click",function(){history.pushState(this.href,this.textContent,this.href);g(this.href);d3.event.preventDefault()});function g(h){d3.html(h,function(i){var l=d3.select(f).node();l.parentNode.replaceChild(d3.select(i).select(f).node(),l);c.utils.pjax(e,f)})}d3.select(window).on("popstate",function(){if(d3.event.state){g(d3.event.state)}})};c.models.axis=function(){var l=d3.svg.axis();var o={top:0,right:0,bottom:0,left:0},g=75,u=60,n=d3.scale.linear(),p=null,i=true,m=true,f=0,h=true,q=false,e=false,t=null;l.scale(n).orient("bottom").tickFormat(function(v){return v});var r;function s(v){v.each(function(H){var y=d3.select(this);var A=y.selectAll("g.nv-wrap.nv-axis").data([H]);var D=A.enter().append("g").attr("class","nvd3 nv-wrap nv-axis");var x=D.append("g");var J=A.select("g");if(t!==null){l.ticks(t)}else{if(l.orient()=="top"||l.orient()=="bottom"){l.ticks(Math.abs(n.range()[1]-n.range()[0])/100)}}d3.transition(J).call(l);r=r||l.scale();var C=l.tickFormat();if(C==null){C=r.tickFormat()}var B=J.selectAll("text.nv-axislabel").data([p||null]);B.exit().remove();switch(l.orient()){case"top":B.enter().append("text").attr("class","nv-axislabel");var L=(n.range().length==2)?n.range()[1]:(n.range()[n.range().length-1]+(n.range()[1]-n.range()[0]));B.attr("text-anchor","middle").attr("y",0).attr("x",L/2);if(i){var I=A.selectAll("g.nv-axisMaxMin").data(n.domain());I.enter().append("g").attr("class","nv-axisMaxMin").append("text");I.exit().remove();I.attr("transform",function(M,w){return"translate("+n(M)+",0)"}).select("text").attr("dy","0em").attr("y",-l.tickPadding()).attr("text-anchor","middle").text(function(N,M){var w=C(N);return(""+w).match("NaN")?"":w});d3.transition(I).attr("transform",function(M,w){return"translate("+n.range()[w]+",0)"})}break;case"bottom":var G=36;var z=30;var E=J.selectAll("g").select("text");if(f%360){E.each(function(N,w){var M=this.getBBox().width;if(M>z){z=M}});var K=Math.abs(Math.sin(f*Math.PI/180));var G=(K?K*z:z)+30;E.attr("transform",function(N,M,w){return"rotate("+f+" 0,0)"}).attr("text-anchor",f%360>0?"start":"end")}B.enter().append("text").attr("class","nv-axislabel");var L=(n.range().length==2)?n.range()[1]:(n.range()[n.range().length-1]+(n.range()[1]-n.range()[0]));B.attr("text-anchor","middle").attr("y",G).attr("x",L/2);if(i){var I=A.selectAll("g.nv-axisMaxMin").data([n.domain()[0],n.domain()[n.domain().length-1]]);I.enter().append("g").attr("class","nv-axisMaxMin").append("text");I.exit().remove();I.attr("transform",function(M,w){return"translate("+(n(M)+(e?n.rangeBand()/2:0))+",0)"}).select("text").attr("dy",".71em").attr("y",l.tickPadding()).attr("transform",function(N,M,w){return"rotate("+f+" 0,0)"}).attr("text-anchor",f?(f%360>0?"start":"end"):"middle").text(function(N,M){var w=C(N);return(""+w).match("NaN")?"":w});d3.transition(I).attr("transform",function(M,w){return"translate("+(n(M)+(e?n.rangeBand()/2:0))+",0)"})}if(q){E.attr("transform",function(M,w){return"translate(0,"+(w%2==0?"0":"12")+")"})}break;case"right":B.enter().append("text").attr("class","nv-axislabel");B.attr("text-anchor",h?"middle":"begin").attr("transform",h?"rotate(90)":"").attr("y",h?(-Math.max(o.right,g)+12):-10).attr("x",h?(n.range()[0]/2):l.tickPadding());if(i){var I=A.selectAll("g.nv-axisMaxMin").data(n.domain());I.enter().append("g").attr("class","nv-axisMaxMin").append("text").style("opacity",0);I.exit().remove();I.attr("transform",function(M,w){return"translate(0,"+n(M)+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",l.tickPadding()).attr("text-anchor","start").text(function(N,M){var w=C(N);return(""+w).match("NaN")?"":w});d3.transition(I).attr("transform",function(M,w){return"translate(0,"+n.range()[w]+")"}).select("text").style("opacity",1)}break;case"left":B.enter().append("text").attr("class","nv-axislabel");B.attr("text-anchor",h?"middle":"end").attr("transform",h?"rotate(-90)":"").attr("y",h?(-Math.max(o.left,g)+12):-10).attr("x",h?(-n.range()[0]/2):-l.tickPadding());if(i){var I=A.selectAll("g.nv-axisMaxMin").data(n.domain());I.enter().append("g").attr("class","nv-axisMaxMin").append("text").style("opacity",0);I.exit().remove();I.attr("transform",function(M,w){return"translate(0,"+r(M)+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",-l.tickPadding()).attr("text-anchor","end").text(function(N,M){var w=C(N);return(""+w).match("NaN")?"":w});d3.transition(I).attr("transform",function(M,w){return"translate(0,"+n.range()[w]+")"}).select("text").style("opacity",1)}break}B.text(function(w){return w});if(i&&(l.orient()==="left"||l.orient()==="right")){J.selectAll("g").each(function(M,w){d3.select(this).select("text").attr("opacity",1);if(n(M)<n.range()[1]+10||n(M)>n.range()[0]-10){if(M>1e-10||M<-1e-10){d3.select(this).attr("opacity",0)}d3.select(this).select("text").attr("opacity",0)}});if(n.domain()[0]==n.domain()[1]&&n.domain()[0]==0){A.selectAll("g.nv-axisMaxMin").style("opacity",function(M,w){return !w?1:0})}}if(i&&(l.orient()==="top"||l.orient()==="bottom")){var F=[];A.selectAll("g.nv-axisMaxMin").each(function(N,w){try{if(w){F.push(n(N)-this.getBBox().width-4)}else{F.push(n(N)+this.getBBox().width+4)}}catch(M){if(w){F.push(n(N)-4)}else{F.push(n(N)+4)}}});J.selectAll("g").each(function(M,w){if(n(M)<F[0]||n(M)>F[1]){if(M>1e-10||M<-1e-10){d3.select(this).remove()}else{d3.select(this).select("text").remove()}}})}if(m){J.selectAll("line.tick").filter(function(w){return !parseFloat(Math.round(w*100000)/1000000)}).classed("zero",true)}r=n.copy()});return s}s.axis=l;d3.rebind(s,l,"orient","tickValues","tickSubdivide","tickSize","tickPadding","tickFormat");d3.rebind(s,n,"domain","range","rangeBand","rangeBands");s.margin=function(v){if(!arguments.length){return o}o.top=typeof v.top!="undefined"?v.top:o.top;o.right=typeof v.right!="undefined"?v.right:o.right;o.bottom=typeof v.bottom!="undefined"?v.bottom:o.bottom;o.left=typeof v.left!="undefined"?v.left:o.left;return s};s.width=function(v){if(!arguments.length){return g}g=v;return s};s.ticks=function(v){if(!arguments.length){return t}t=v;return s};s.height=function(v){if(!arguments.length){return u}u=v;return s};s.axisLabel=function(v){if(!arguments.length){return p}p=v;return s};s.showMaxMin=function(v){if(!arguments.length){return i}i=v;return s};s.highlightZero=function(v){if(!arguments.length){return m}m=v;return s};s.scale=function(v){if(!arguments.length){return n}n=v;l.scale(n);e=typeof n.rangeBands==="function";d3.rebind(s,n,"domain","range","rangeBand","rangeBands");return s};s.rotateYLabel=function(v){if(!arguments.length){return h}h=v;return s};s.rotateLabels=function(v){if(!arguments.length){return f}f=v;return s};s.staggerLabels=function(v){if(!arguments.length){return q}q=v;return s};return s};c.models.bullet=function(){var l={top:0,right:0,bottom:0,left:0},n="left",q=false,f=function(t){return t.ranges},m=function(t){return t.markers},e=function(t){return t.measures},o=[0],g=380,s=30,h=null,i=c.utils.getColor(["#1f77b4"]),p=d3.dispatch("elementMouseover","elementMouseout");function r(t){t.each(function(O,K){var u=g-l.left-l.right,v=s-l.top-l.bottom,H=d3.select(this);var P=f.call(this,O,K).slice().sort(d3.descending),I=m.call(this,O,K).slice().sort(d3.descending),G=e.call(this,O,K).slice().sort(d3.descending);var M=d3.scale.linear().domain(d3.extent(d3.merge([o,P]))).range(q?[u,0]:[0,u]);var N=this.__chart__||d3.scale.linear().domain([0,Infinity]).range(M.range());this.__chart__=M;var x=d3.min(P),z=d3.max(P),w=P[1];var B=H.selectAll("g.nv-wrap.nv-bullet").data([O]);var y=B.enter().append("g").attr("class","nvd3 nv-wrap nv-bullet");var J=y.append("g");var L=B.select("g");J.append("rect").attr("class","nv-range nv-rangeMax");J.append("rect").attr("class","nv-range nv-rangeAvg");J.append("rect").attr("class","nv-range nv-rangeMin");J.append("rect").attr("class","nv-measure");J.append("path").attr("class","nv-markerTriangle");B.attr("transform","translate("+l.left+","+l.top+")");var F=function(Q){return Math.abs(N(Q)-N(0))},D=function(Q){return Math.abs(M(Q)-M(0))};var E=function(Q){return Q<0?N(Q):N(0)},C=function(Q){return Q<0?M(Q):M(0)};L.select("rect.nv-rangeMax").attr("height",v).attr("width",D(z>0?z:x)).attr("x",C(z>0?z:x)).datum(z>0?z:x);L.select("rect.nv-rangeAvg").attr("height",v).attr("width",D(w)).attr("x",C(w)).datum(w);L.select("rect.nv-rangeMin").attr("height",v).attr("width",D(z)).attr("x",C(z)).attr("width",D(z>0?x:z)).attr("x",C(z>0?x:z)).datum(z>0?x:z);L.select("rect.nv-measure").style("fill",i).attr("height",v/3).attr("y",v/3).attr("width",G<0?M(0)-M(G[0]):M(G[0])-M(0)).attr("x",C(G)).on("mouseover",function(){p.elementMouseover({value:G[0],label:"Current",pos:[M(G[0]),v/2]})}).on("mouseout",function(){p.elementMouseout({value:G[0],label:"Current"})});var A=v/6;if(I[0]){L.selectAll("path.nv-markerTriangle").attr("transform",function(Q){return"translate("+M(I[0])+","+(v/2)+")"}).attr("d","M0,"+A+"L"+A+","+(-A)+" "+(-A)+","+(-A)+"Z").on("mouseover",function(){p.elementMouseover({value:I[0],label:"Previous",pos:[M(I[0]),v/2]})}).on("mouseout",function(){p.elementMouseout({value:I[0],label:"Previous"})})}else{L.selectAll("path.nv-markerTriangle").remove()}B.selectAll(".nv-range").on("mouseover",function(S,R){var Q=!R?"Maximum":R==1?"Mean":"Minimum";p.elementMouseover({value:S,label:Q,pos:[M(S),v/2]})}).on("mouseout",function(S,R){var Q=!R?"Maximum":R==1?"Mean":"Minimum";p.elementMouseout({value:S,label:Q})})});return r}r.dispatch=p;r.orient=function(t){if(!arguments.length){return n}n=t;q=n=="right"||n=="bottom";return r};r.ranges=function(t){if(!arguments.length){return f}f=t;return r};r.markers=function(t){if(!arguments.length){return m}m=t;return r};r.measures=function(t){if(!arguments.length){return e}e=t;return r};r.forceX=function(t){if(!arguments.length){return o}o=t;return r};r.width=function(t){if(!arguments.length){return g}g=t;return r};r.height=function(t){if(!arguments.length){return s}s=t;return r};r.margin=function(t){if(!arguments.length){return l}l.top=typeof t.top!="undefined"?t.top:l.top;l.right=typeof t.right!="undefined"?t.right:l.right;l.bottom=typeof t.bottom!="undefined"?t.bottom:l.bottom;l.left=typeof t.left!="undefined"?t.left:l.left;return r};r.tickFormat=function(t){if(!arguments.length){return h}h=t;return r};r.color=function(t){if(!arguments.length){return i}i=c.utils.getColor(t);return r};return r};c.models.bulletChart=function(){var e=c.models.bullet();var n="left",p=false,l={top:5,right:40,bottom:20,left:120},g=function(w){return w.ranges},m=function(w){return w.markers},f=function(w){return w.measures},h=null,u=55,i=null,r=true,v=function(z,w,C,B,A){return"<h3>"+w+"</h3><p>"+C+"</p>"},t="No Data Available.",o=d3.dispatch("tooltipShow","tooltipHide");var s=function(A,w){var z=A.pos[0]+(w.offsetLeft||0)+l.left,y=A.pos[1]+(w.offsetTop||0)+l.top,x=v(A.key,A.label,A.value,A,q);c.tooltip.show([z,y],x,A.value<0?"e":"w",null,w)};function q(w){w.each(function(R,L){var H=d3.select(this);var x=(h||parseInt(H.style("width"))||960)-l.left-l.right,y=u-l.top-l.bottom,B=this;q.update=function(){q(w)};q.container=this;if(!R||!g.call(this,R,L)){var D=H.selectAll(".nv-noData").data([t]);D.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");D.attr("x",l.left+x/2).attr("y",18+l.top+y/2).text(function(V){return V});return q}else{H.selectAll(".nv-noData").remove()}var U=g.call(this,R,L).slice().sort(d3.descending),J=m.call(this,R,L).slice().sort(d3.descending),F=f.call(this,R,L).slice().sort(d3.descending);var C=H.selectAll("g.nv-wrap.nv-bulletChart").data([R]);var z=C.enter().append("g").attr("class","nvd3 nv-wrap nv-bulletChart");var K=z.append("g");var O=C.select("g");K.append("g").attr("class","nv-bulletWrap");K.append("g").attr("class","nv-titles");C.attr("transform","translate("+l.left+","+l.top+")");var P=d3.scale.linear().domain([0,Math.max(U[0],J[0],F[0])]).range(p?[x,0]:[0,x]);var Q=this.__chart__||d3.scale.linear().domain([0,Infinity]).range(P.range());this.__chart__=P;var G=function(V){return Math.abs(Q(V)-Q(0))},E=function(V){return Math.abs(P(V)-P(0))};var T=K.select(".nv-titles").append("g").attr("text-anchor","end").attr("transform","translate(-6,"+(u-l.top-l.bottom)/2+")");T.append("text").attr("class","nv-title").text(function(V){return V.title});T.append("text").attr("class","nv-subtitle").attr("dy","1em").text(function(V){return V.subtitle});e.width(x).height(y);var S=O.select(".nv-bulletWrap");d3.transition(S).call(e);var N=i||P.tickFormat(x/100);var M=O.selectAll("g.nv-tick").data(P.ticks(x/50),function(V){return this.textContent||N(V)});var I=M.enter().append("g").attr("class","nv-tick").attr("transform",function(V){return"translate("+Q(V)+",0)"}).style("opacity",0.000001);I.append("line").attr("y1",y).attr("y2",y*7/6);I.append("text").attr("text-anchor","middle").attr("dy","1em").attr("y",y*7/6).text(N);var A=d3.transition(M).attr("transform",function(V){return"translate("+P(V)+",0)"}).style("opacity",1);A.select("line").attr("y1",y).attr("y2",y*7/6);A.select("text").attr("y",y*7/6);d3.transition(M.exit()).attr("transform",function(V){return"translate("+P(V)+",0)"}).style("opacity",0.000001).remove();o.on("tooltipShow",function(V){V.key=data[0].title;if(r){s(V,B.parentNode)}})});d3.timer.flush();return q}e.dispatch.on("elementMouseover.tooltip",function(w){o.tooltipShow(w)});e.dispatch.on("elementMouseout.tooltip",function(w){o.tooltipHide(w)});o.on("tooltipHide",function(){if(r){c.tooltip.cleanup()}});q.dispatch=o;q.bullet=e;d3.rebind(q,e,"color");q.orient=function(w){if(!arguments.length){return n}n=w;p=n=="right"||n=="bottom";return q};q.ranges=function(w){if(!arguments.length){return g}g=w;return q};q.markers=function(w){if(!arguments.length){return m}m=w;return q};q.measures=function(w){if(!arguments.length){return f}f=w;return q};q.width=function(w){if(!arguments.length){return h}h=w;return q};q.height=function(w){if(!arguments.length){return u}u=w;return q};q.margin=function(w){if(!arguments.length){return l}l.top=typeof w.top!="undefined"?w.top:l.top;l.right=typeof w.right!="undefined"?w.right:l.right;l.bottom=typeof w.bottom!="undefined"?w.bottom:l.bottom;l.left=typeof w.left!="undefined"?w.left:l.left;return q};q.tickFormat=function(w){if(!arguments.length){return i}i=w;return q};q.tooltips=function(w){if(!arguments.length){return r}r=w;return q};q.tooltipContent=function(w){if(!arguments.length){return v}v=w;return q};q.noData=function(w){if(!arguments.length){return t}t=w;return q};return q};c.models.cumulativeLineChart=function(){var f=c.models.line(),q=c.models.axis(),e=c.models.axis(),h=c.models.legend(),u=c.models.legend();var w={top:30,right:30,bottom:50,left:60},C=c.utils.defaultColor(),B=null,z=null,D=true,g=true,E=true,p=true,n=function(I,H,L,K,J){return"<h3>"+I+"</h3><p>"+L+" at "+H+"</p>"},s,r,A=f.id(),m={index:0,rescaleY:p},l="No Data Available.",G=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState");q.orient("bottom").tickPadding(7);e.orient("left");var t=d3.scale.linear(),o={i:0,x:0};var i=function(M,I){var L=M.pos[0]+(I.offsetLeft||0),K=M.pos[1]+(I.offsetTop||0),H=q.tickFormat()(f.x()(M.point,M.pointIndex)),N=e.tickFormat()(f.y()(M.point,M.pointIndex)),J=n(M.series.key,H,N,M,v);c.tooltip.show([L,K],J,null,null,I)};function v(x){x.each(function(Z){var P=d3.select(this).classed("nv-chart-"+A,true),M=this;var H=(B||parseInt(P.style("width"))||960)-w.left-w.right,J=(z||parseInt(P.style("height"))||400)-w.top-w.bottom;v.update=function(){v(x)};v.container=this;var Y=d3.behavior.drag().on("dragstart",W).on("drag",X).on("dragend",U);function W(ab,aa){d3.select(v.container).style("cursor","ew-resize")}function X(ab,aa){o.x=d3.event.x;o.i=Math.round(t.invert(o.x));S()}function U(ab,aa){d3.select(v.container).style("cursor","auto");m.index=o.i;G.stateChange(m)}if(!Z||!Z.length||!Z.filter(function(aa){return aa.values.length}).length){var O=P.selectAll(".nv-noData").data([l]);O.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");O.attr("x",w.left+H/2).attr("y",w.top+J/2).text(function(aa){return aa});return v}else{P.selectAll(".nv-noData").remove()}s=f.xScale();r=f.yScale();if(!p){var I=Z.filter(function(aa){return !aa.disabled}).map(function(ac,ab){var aa=d3.extent(ac.values,f.y());if(aa[0]<-0.95){aa[0]=-0.95}return[(aa[0]-aa[1])/(1+aa[1]),(aa[1]-aa[0])/(1+aa[0])]});var K=[d3.min(I,function(aa){return aa[0]}),d3.max(I,function(aa){return aa[1]})];f.yDomain(K)}else{f.yDomain(null)}t.domain([0,Z[0].values.length-1]).range([0,H]).clamp(true);var Z=F(o.i,Z);var N=P.selectAll("g.nv-wrap.nv-cumulativeLine").data([Z]);var R=N.enter().append("g").attr("class","nvd3 nv-wrap nv-cumulativeLine").append("g");var V=N.select("g");R.append("g").attr("class","nv-x nv-axis");R.append("g").attr("class","nv-y nv-axis");R.append("g").attr("class","nv-background");R.append("g").attr("class","nv-linesWrap");R.append("g").attr("class","nv-legendWrap");R.append("g").attr("class","nv-controlsWrap");if(D){h.width(H);V.select(".nv-legendWrap").datum(Z).call(h);if(w.top!=h.height()){w.top=h.height();J=(z||parseInt(P.style("height"))||400)-w.top-w.bottom}V.select(".nv-legendWrap").attr("transform","translate(0,"+(-w.top)+")")}if(E){var L=[{key:"Re-scale y-axis",disabled:!p}];u.width(140).color(["#444","#444","#444"]);V.select(".nv-controlsWrap").datum(L).attr("transform","translate(0,"+(-w.top)+")").call(u)}N.attr("transform","translate("+w.left+","+w.top+")");var y=Z.filter(function(aa){return aa.tempDisabled});N.select(".tempDisabled").remove();if(y.length){N.append("text").attr("class","tempDisabled").attr("x",H/2).attr("y","-.71em").style("text-anchor","end").text(y.map(function(aa){return aa.key}).join(", ")+" values cannot be calculated for this time period.")}R.select(".nv-background").append("rect");V.select(".nv-background rect").attr("width",H).attr("height",J);f.y(function(aa){return aa.display.y}).width(H).height(J).color(Z.map(function(ab,aa){return ab.color||C(ab,aa)}).filter(function(ab,aa){return !Z[aa].disabled&&!Z[aa].tempDisabled}));var T=V.select(".nv-linesWrap").datum(Z.filter(function(aa){return !aa.disabled&&!aa.tempDisabled}));T.call(f);var Q=T.selectAll(".nv-indexLine").data([o]);Q.enter().append("rect").attr("class","nv-indexLine").attr("width",3).attr("x",-2).attr("fill","red").attr("fill-opacity",0.5).call(Y);Q.attr("transform",function(aa){return"translate("+t(aa.i)+",0)"}).attr("height",J);q.scale(s).ticks(Math.min(Z[0].values.length,H/70)).tickSize(-J,0);V.select(".nv-x.nv-axis").attr("transform","translate(0,"+r.range()[0]+")");d3.transition(V.select(".nv-x.nv-axis")).call(q);e.scale(r).ticks(J/36).tickSize(-H,0);d3.transition(V.select(".nv-y.nv-axis")).call(e);function S(){Q.data([o]);v.update()}V.select(".nv-background rect").on("click",function(){o.x=d3.mouse(this)[0];o.i=Math.round(t.invert(o.x));m.index=o.i;G.stateChange(m);S()});f.dispatch.on("elementClick",function(aa){o.i=aa.pointIndex;o.x=t(o.i);m.index=o.i;G.stateChange(m);S()});u.dispatch.on("legendClick",function(ab,aa){ab.disabled=!ab.disabled;p=!ab.disabled;m.rescaleY=p;G.stateChange(m);x.call(v)});h.dispatch.on("legendClick",function(ab,aa){ab.disabled=!ab.disabled;if(!Z.filter(function(ac){return !ac.disabled}).length){Z.map(function(ac){ac.disabled=false;N.selectAll(".nv-series").classed("disabled",false);return ac})}m.disabled=Z.map(function(ac){return !!ac.disabled});G.stateChange(m);x.call(v)});G.on("tooltipShow",function(aa){if(g){i(aa,M.parentNode)}});G.on("changeState",function(aa){if(typeof aa.disabled!=="undefined"){Z.forEach(function(ac,ab){ac.disabled=aa.disabled[ab]});m.disabled=aa.disabled}if(typeof aa.index!=="undefined"){o.i=aa.index;o.x=t(o.i);m.index=aa.index;Q.data([o])}if(typeof aa.rescaleY!=="undefined"){p=aa.rescaleY}x.call(v)})});return v}f.dispatch.on("elementMouseover.tooltip",function(x){x.pos=[x.pos[0]+w.left,x.pos[1]+w.top];G.tooltipShow(x)});f.dispatch.on("elementMouseout.tooltip",function(x){G.tooltipHide(x)});G.on("tooltipHide",function(){if(g){c.tooltip.cleanup()}});v.dispatch=G;v.lines=f;v.legend=h;v.xAxis=q;v.yAxis=e;d3.rebind(v,f,"defined","isArea","x","y","size","xDomain","yDomain","forceX","forceY","interactive","clipEdge","clipVoronoi","id");v.margin=function(x){if(!arguments.length){return w}w.top=typeof x.top!="undefined"?x.top:w.top;w.right=typeof x.right!="undefined"?x.right:w.right;w.bottom=typeof x.bottom!="undefined"?x.bottom:w.bottom;w.left=typeof x.left!="undefined"?x.left:w.left;return v};v.width=function(x){if(!arguments.length){return B}B=x;return v};v.height=function(x){if(!arguments.length){return z}z=x;return v};v.color=function(x){if(!arguments.length){return C}C=c.utils.getColor(x);h.color(C);return v};v.rescaleY=function(x){if(!arguments.length){return p}p=x;return p};v.showControls=function(x){if(!arguments.length){return E}E=x;return v};v.showLegend=function(x){if(!arguments.length){return D}D=x;return v};v.tooltips=function(x){if(!arguments.length){return g}g=x;return v};v.tooltipContent=function(x){if(!arguments.length){return n}n=x;return v};v.state=function(x){if(!arguments.length){return m}m=x;return v};v.noData=function(x){if(!arguments.length){return l}l=x;return v};function F(x,y){return y.map(function(H,J){var I=f.y()(H.values[x],x);if(I<-0.95){H.tempDisabled=true;return H}H.tempDisabled=false;H.values=H.values.map(function(K,L){K.display={y:(f.y()(K,L)-I)/(1+I)};return K});return H})}return v};c.models.discreteBar=function(){var m={top:0,right:0,bottom:0,left:0},p=960,n=500,o=Math.floor(Math.random()*10000),i=d3.scale.ordinal(),h=d3.scale.linear(),u=function(x){return x.x},t=function(x){return x.y},f=[0],s=c.utils.defaultColor(),w=false,g=d3.format(",.2f"),r,q,A=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout"),z="discreteBar";var v,e;function l(x){x.each(function(I){var L=p-m.left-m.right,E=n-m.top-m.bottom,B=d3.select(this);I=I.map(function(N,M){N.values=N.values.map(function(O){O.series=M;return O});return N});var D=(r&&q)?[]:I.map(function(M){return M.values.map(function(O,N){return{x:u(O,N),y:t(O,N),y0:O.y0}})});i.domain(r||d3.merge(D).map(function(M){return M.x})).rangeBands([0,L],0.1);h.domain(q||d3.extent(d3.merge(D).map(function(M){return M.y}).concat(f)));if(w){h.range([E-(h.domain()[0]<0?12:0),h.domain()[1]>0?12:0])}else{h.range([E,0])}v=v||i;e=e||h.copy().range([h(0),h(0)]);var C=B.selectAll("g.nv-wrap.nv-discretebar").data([I]);var G=C.enter().append("g").attr("class","nvd3 nv-wrap nv-discretebar");var y=G.append("g");var J=C.select("g");y.append("g").attr("class","nv-groups");C.attr("transform","translate("+m.left+","+m.top+")");var F=C.select(".nv-groups").selectAll(".nv-group").data(function(M){return M},function(M){return M.key});F.enter().append("g").style("stroke-opacity",0.000001).style("fill-opacity",0.000001);d3.transition(F.exit()).style("stroke-opacity",0.000001).style("fill-opacity",0.000001).remove();F.attr("class",function(N,M){return"nv-group nv-series-"+M}).classed("hover",function(M){return M.hover});d3.transition(F).style("stroke-opacity",1).style("fill-opacity",0.75);var K=F.selectAll("g.nv-bar").data(function(M){return M.values});K.exit().remove();var H=K.enter().append("g").attr("transform",function(O,N,M){return"translate("+(i(u(O,N))+i.rangeBand()*0.05)+", "+h(0)+")"}).on("mouseover",function(N,M){d3.select(this).classed("hover",true);A.elementMouseover({value:t(N,M),point:N,series:I[N.series],pos:[i(u(N,M))+(i.rangeBand()*(N.series+0.5)/I.length),h(t(N,M))],pointIndex:M,seriesIndex:N.series,e:d3.event})}).on("mouseout",function(N,M){d3.select(this).classed("hover",false);A.elementMouseout({value:t(N,M),point:N,series:I[N.series],pointIndex:M,seriesIndex:N.series,e:d3.event})}).on("click",function(N,M){A.elementClick({value:t(N,M),point:N,series:I[N.series],pos:[i(u(N,M))+(i.rangeBand()*(N.series+0.5)/I.length),h(t(N,M))],pointIndex:M,seriesIndex:N.series,e:d3.event});d3.event.stopPropagation()}).on("dblclick",function(N,M){A.elementDblClick({value:t(N,M),point:N,series:I[N.series],pos:[i(u(N,M))+(i.rangeBand()*(N.series+0.5)/I.length),h(t(N,M))],pointIndex:M,seriesIndex:N.series,e:d3.event});d3.event.stopPropagation()});H.append("rect").attr("height",0).attr("width",i.rangeBand()*0.9/I.length);if(w){H.append("text").attr("text-anchor","middle");K.select("text").attr("x",i.rangeBand()*0.9/2).attr("y",function(N,M){return t(N,M)<0?h(t(N,M))-h(0)+12:-4}).text(function(N,M){return g(t(N,M))})}else{K.selectAll("text").remove()}K.attr("class",function(N,M){return t(N,M)<0?"nv-bar negative":"nv-bar positive"}).style("fill",function(N,M){return N.color||s(N,M)}).style("stroke",function(N,M){return N.color||s(N,M)}).select("rect").attr("class",z).attr("width",i.rangeBand()*0.9/I.length);d3.transition(K).attr("transform",function(P,M){var O=i(u(P,M))+i.rangeBand()*0.05,N=t(P,M)<0?h(0):h(0)-h(t(P,M))<1?h(0)-1:h(t(P,M));return"translate("+O+", "+N+")"}).select("rect").attr("height",function(N,M){return Math.max(Math.abs(h(t(N,M))-h(0))||1)});v=i.copy();e=h.copy()});return l}l.dispatch=A;l.x=function(x){if(!arguments.length){return u}u=x;return l};l.y=function(x){if(!arguments.length){return t}t=x;return l};l.margin=function(x){if(!arguments.length){return m}m.top=typeof x.top!="undefined"?x.top:m.top;m.right=typeof x.right!="undefined"?x.right:m.right;m.bottom=typeof x.bottom!="undefined"?x.bottom:m.bottom;m.left=typeof x.left!="undefined"?x.left:m.left;return l};l.width=function(x){if(!arguments.length){return p}p=x;return l};l.height=function(x){if(!arguments.length){return n}n=x;return l};l.xScale=function(x){if(!arguments.length){return i}i=x;return l};l.yScale=function(x){if(!arguments.length){return h}h=x;return l};l.xDomain=function(x){if(!arguments.length){return r}r=x;return l};l.yDomain=function(x){if(!arguments.length){return q}q=x;return l};l.forceY=function(x){if(!arguments.length){return f}f=x;return l};l.color=function(x){if(!arguments.length){return s}s=c.utils.getColor(x);return l};l.id=function(x){if(!arguments.length){return o}o=x;return l};l.showValues=function(x){if(!arguments.length){return w}w=x;return l};l.valueFormat=function(x){if(!arguments.length){return g}g=x;return l};l.rectClass=function(x){if(!arguments.length){return z}z=x;return l};return l};c.models.discreteBarChart=function(){var t=c.models.discreteBar(),g=c.models.axis(),e=c.models.axis();var h={top:15,right:10,bottom:50,left:60},f=null,u=null,i=c.utils.getColor(),l=false,o=true,v=function(z,w,C,B,A){return"<h3>"+w+"</h3><p>"+C+"</p>"},q,p,s="No Data Available.",m=d3.dispatch("tooltipShow","tooltipHide","beforeUpdate");g.orient("bottom").highlightZero(false).showMaxMin(false).tickFormat(function(w){return w});e.orient("left").tickFormat(d3.format(",.1f"));var r=function(D,z){var C=D.pos[0]+(z.offsetLeft||0),B=D.pos[1]+(z.offsetTop||0),w=g.tickFormat()(t.x()(D.point,D.pointIndex)),E=e.tickFormat()(t.y()(D.point,D.pointIndex)),A=v(D.series.key,w,E,D,n);c.tooltip.show([C,B],A,D.value<0?"n":"s",null,z)};function n(w){w.each(function(E){var y=d3.select(this),H=this;var I=(f||parseInt(y.style("width"))||960)-h.left-h.right,C=(u||parseInt(y.style("height"))||400)-h.top-h.bottom;n.update=function(){m.beforeUpdate();w.transition().call(n)};n.container=this;if(!E||!E.length||!E.filter(function(J){return J.values.length}).length){var z=y.selectAll(".nv-noData").data([s]);z.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");z.attr("x",h.left+I/2).attr("y",h.top+C/2).text(function(J){return J});return n}else{y.selectAll(".nv-noData").remove()}q=t.xScale();p=t.yScale();var A=y.selectAll("g.nv-wrap.nv-discreteBarWithAxes").data([E]);var x=A.enter().append("g").attr("class","nvd3 nv-wrap nv-discreteBarWithAxes").append("g");var B=x.append("defs");var F=A.select("g");x.append("g").attr("class","nv-x nv-axis");x.append("g").attr("class","nv-y nv-axis");x.append("g").attr("class","nv-barsWrap");F.attr("transform","translate("+h.left+","+h.top+")");t.width(I).height(C);var G=F.select(".nv-barsWrap").datum(E.filter(function(J){return !J.disabled
}));d3.transition(G).call(t);B.append("clipPath").attr("id","nv-x-label-clip-"+t.id()).append("rect");F.select("#nv-x-label-clip-"+t.id()+" rect").attr("width",q.rangeBand()*(l?2:1)).attr("height",16).attr("x",-q.rangeBand()/(l?1:2));g.scale(q).ticks(I/100).tickSize(-C,0);F.select(".nv-x.nv-axis").attr("transform","translate(0,"+(p.range()[0]+((t.showValues()&&p.domain()[0]<0)?16:0))+")");F.select(".nv-x.nv-axis").transition().duration(0).call(g);var D=F.select(".nv-x.nv-axis").selectAll("g");if(l){D.selectAll("text").attr("transform",function(L,K,J){return"translate(0,"+(J%2==0?"5":"17")+")"})}e.scale(p).ticks(C/36).tickSize(-I,0);d3.transition(F.select(".nv-y.nv-axis")).call(e);m.on("tooltipShow",function(J){if(o){r(J,H.parentNode)}})});return n}t.dispatch.on("elementMouseover.tooltip",function(w){w.pos=[w.pos[0]+h.left,w.pos[1]+h.top];m.tooltipShow(w)});t.dispatch.on("elementMouseout.tooltip",function(w){m.tooltipHide(w)});m.on("tooltipHide",function(){if(o){c.tooltip.cleanup()}});n.dispatch=m;n.discretebar=t;n.xAxis=g;n.yAxis=e;d3.rebind(n,t,"x","y","xDomain","yDomain","forceX","forceY","id","showValues","valueFormat");n.margin=function(w){if(!arguments.length){return h}h.top=typeof w.top!="undefined"?w.top:h.top;h.right=typeof w.right!="undefined"?w.right:h.right;h.bottom=typeof w.bottom!="undefined"?w.bottom:h.bottom;h.left=typeof w.left!="undefined"?w.left:h.left;return n};n.width=function(w){if(!arguments.length){return f}f=w;return n};n.height=function(w){if(!arguments.length){return u}u=w;return n};n.color=function(w){if(!arguments.length){return i}i=c.utils.getColor(w);t.color(i);return n};n.staggerLabels=function(w){if(!arguments.length){return l}l=w;return n};n.tooltips=function(w){if(!arguments.length){return o}o=w;return n};n.tooltipContent=function(w){if(!arguments.length){return v}v=w;return n};n.noData=function(w){if(!arguments.length){return s}s=w;return n};return n};c.models.distribution=function(){var h={top:0,right:0,bottom:0,left:0},e=400,p=8,f="x",m=function(q){return q[f]},i=c.utils.defaultColor(),g=d3.scale.linear(),l;var n;function o(q){q.each(function(v){var w=e-(f==="x"?h.left+h.right:h.top+h.bottom),z=f=="x"?"y":"x",s=d3.select(this);n=n||g;var t=s.selectAll("g.nv-distribution").data([v]);var u=t.enter().append("g").attr("class","nvd3 nv-distribution");var r=u.append("g");var x=t.select("g");t.attr("transform","translate("+h.left+","+h.top+")");var A=x.selectAll("g.nv-dist").data(function(B){return B},function(B){return B.key});A.enter().append("g");A.attr("class",function(C,B){return"nv-dist nv-series-"+B}).style("stroke",function(C,B){return i(C,B)});var y=A.selectAll("line.nv-dist"+f).data(function(B){return B.values});y.enter().append("line").attr(f+"1",function(C,B){return n(m(C,B))}).attr(f+"2",function(C,B){return n(m(C,B))});d3.transition(A.exit().selectAll("line.nv-dist"+f)).attr(f+"1",function(C,B){return g(m(C,B))}).attr(f+"2",function(C,B){return g(m(C,B))}).style("stroke-opacity",0).remove();y.attr("class",function(C,B){return"nv-dist"+f+" nv-dist"+f+"-"+B}).attr(z+"1",0).attr(z+"2",p);d3.transition(y).attr(f+"1",function(C,B){return g(m(C,B))}).attr(f+"2",function(C,B){return g(m(C,B))});n=g.copy()});return o}o.margin=function(q){if(!arguments.length){return h}h.top=typeof q.top!="undefined"?q.top:h.top;h.right=typeof q.right!="undefined"?q.right:h.right;h.bottom=typeof q.bottom!="undefined"?q.bottom:h.bottom;h.left=typeof q.left!="undefined"?q.left:h.left;return o};o.width=function(q){if(!arguments.length){return e}e=q;return o};o.axis=function(q){if(!arguments.length){return f}f=q;return o};o.size=function(q){if(!arguments.length){return p}p=q;return o};o.getData=function(q){if(!arguments.length){return m}m=d3.functor(q);return o};o.scale=function(q){if(!arguments.length){return g}g=q;return o};o.color=function(q){if(!arguments.length){return i}i=c.utils.getColor(q);return o};return o};c.models.historicalBar=function(){var i={top:0,right:0,bottom:0,left:0},g=960,w=500,f=Math.floor(Math.random()*10000),s=d3.scale.linear(),r=d3.scale.linear(),v=function(x){return x.x},u=function(x){return x.y},m=[],l=[0],n=false,t=true,h=c.utils.defaultColor(),p,e,o=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout");function q(x){x.each(function(F){var I=g-i.left-i.right,B=w-i.top-i.bottom,z=d3.select(this);s.domain(p||d3.extent(F[0].values.map(v).concat(m)));if(n){s.range([I*0.5/F[0].values.length,I*(F[0].values.length-0.5)/F[0].values.length])}else{s.range([0,I])}r.domain(e||d3.extent(F[0].values.map(u).concat(l))).range([B,0]);if(s.domain()[0]===s.domain()[1]||r.domain()[0]===r.domain()[1]){singlePoint=true}if(s.domain()[0]===s.domain()[1]){s.domain()[0]?s.domain([s.domain()[0]-s.domain()[0]*0.01,s.domain()[1]+s.domain()[1]*0.01]):s.domain([-1,1])}if(r.domain()[0]===r.domain()[1]){r.domain()[0]?r.domain([r.domain()[0]+r.domain()[0]*0.01,r.domain()[1]-r.domain()[1]*0.01]):r.domain([-1,1])}var A=z.selectAll("g.nv-wrap.nv-bar").data([F[0].values]);var D=A.enter().append("g").attr("class","nvd3 nv-wrap nv-bar");var C=D.append("defs");var y=D.append("g");var G=A.select("g");y.append("g").attr("class","nv-bars");A.attr("transform","translate("+i.left+","+i.top+")");z.on("click",function(K,J){o.chartClick({data:K,index:J,pos:d3.event,id:f})});C.append("clipPath").attr("id","nv-chart-clip-path-"+f).append("rect");A.select("#nv-chart-clip-path-"+f+" rect").attr("width",I).attr("height",B);G.attr("clip-path",t?"url(#nv-chart-clip-path-"+f+")":"");var H=A.select(".nv-bars").selectAll(".nv-bar").data(function(J){return J});H.exit().remove();var E=H.enter().append("rect").attr("x",0).attr("y",function(K,J){return r(Math.max(0,u(K,J)))}).attr("height",function(K,J){return Math.abs(r(u(K,J))-r(0))}).on("mouseover",function(K,J){d3.select(this).classed("hover",true);o.elementMouseover({point:K,series:F[0],pos:[s(v(K,J)),r(u(K,J))],pointIndex:J,seriesIndex:0,e:d3.event})}).on("mouseout",function(K,J){d3.select(this).classed("hover",false);o.elementMouseout({point:K,series:F[0],pointIndex:J,seriesIndex:0,e:d3.event})}).on("click",function(K,J){o.elementClick({value:u(K,J),data:K,index:J,pos:[s(v(K,J)),r(u(K,J))],e:d3.event,id:f});d3.event.stopPropagation()}).on("dblclick",function(K,J){o.elementDblClick({value:u(K,J),data:K,index:J,pos:[s(v(K,J)),r(u(K,J))],e:d3.event,id:f});d3.event.stopPropagation()});H.attr("fill",function(K,J){return h(K,J)}).attr("class",function(L,K,J){return(u(L,K)<0?"nv-bar negative":"nv-bar positive")+" nv-bar-"+J+"-"+K}).attr("transform",function(K,J){return"translate("+(s(v(K,J))-I/F[0].values.length*0.45)+",0)"}).attr("width",(I/F[0].values.length)*0.9);d3.transition(H).attr("y",function(K,J){return u(K,J)<0?r(0):r(0)-r(u(K,J))<1?r(0)-1:r(u(K,J))}).attr("height",function(K,J){return Math.max(Math.abs(r(u(K,J))-r(0)),1)})});return q}q.dispatch=o;q.x=function(x){if(!arguments.length){return v}v=x;return q};q.y=function(x){if(!arguments.length){return u}u=x;return q};q.margin=function(x){if(!arguments.length){return i}i.top=typeof x.top!="undefined"?x.top:i.top;i.right=typeof x.right!="undefined"?x.right:i.right;i.bottom=typeof x.bottom!="undefined"?x.bottom:i.bottom;i.left=typeof x.left!="undefined"?x.left:i.left;return q};q.width=function(x){if(!arguments.length){return g}g=x;return q};q.height=function(x){if(!arguments.length){return w}w=x;return q};q.xScale=function(x){if(!arguments.length){return s}s=x;return q};q.yScale=function(x){if(!arguments.length){return r}r=x;return q};q.xDomain=function(x){if(!arguments.length){return p}p=x;return q};q.yDomain=function(x){if(!arguments.length){return e}e=x;return q};q.forceX=function(x){if(!arguments.length){return m}m=x;return q};q.forceY=function(x){if(!arguments.length){return l}l=x;return q};q.padData=function(x){if(!arguments.length){return n}n=x;return q};q.clipEdge=function(x){if(!arguments.length){return t}t=x;return q};q.color=function(x){if(!arguments.length){return h}h=c.utils.getColor(x);return q};q.id=function(x){if(!arguments.length){return f}f=x;return q};return q};c.models.indentedTree=function(){var i={top:0,right:0,bottom:0,left:0},g=960,t=500,l=c.utils.defaultColor(),f=Math.floor(Math.random()*10000),n=true,s="No Data Available.",o=20,h=[{key:"key",label:"Name",type:"text"}],r=null,e="images/grey-plus.png",m="images/grey-minus.png",p=d3.dispatch("elementClick","elementDblclick","elementMouseover","elementMouseout");function q(u){u.each(function(K){var F=0,L=1;var z=d3.layout.tree().children(function(N){return N.values}).size([t,o]);q.update=function(){u.transition().call(q)};q.container=this;if(!K[0]){K[0]={key:s}}var B=z.nodes(K[0]);var y=d3.select(this).selectAll("div").data([[B]]);var w=y.enter().append("div").attr("class","nvd3 nv-wrap nv-indentedtree");var M=w.append("table");var H=y.select("table").attr("width","100%").attr("class",r);if(n){var G=M.append("thead");var J=G.append("tr");h.forEach(function(N){J.append("th").attr("width",N.width?N.width:"10%").style("text-align",N.type=="numeric"?"right":"left").append("span").text(N.label)})}var v=H.selectAll("tbody").data(function(N){return N});v.enter().append("tbody");L=d3.max(B,function(N){return N.depth});z.size([t,L*o]);var D=v.selectAll("tr").data(function(N){return N},function(N){return N.id||(N.id==++F)});D.exit().remove();D.select("img.nv-treeicon").attr("src",I).classed("folded",A);var x=D.enter().append("tr");h.forEach(function(O,N){var P=x.append("td").style("padding-left",function(Q){return(N?0:Q.depth*o+12+(I(Q)?0:16))+"px"},"important").style("text-align",O.type=="numeric"?"right":"left");if(N==0){P.append("img").classed("nv-treeicon",true).classed("nv-folded",A).attr("src",I).style("width","14px").style("height","14px").style("padding","0 1px").style("display",function(Q){return I(Q)?"inline-block":"none"}).on("click",C)}P.append("span").attr("class",d3.functor(O.classes)).text(function(Q){return O.format?O.format(Q):(Q[O.key]||"-")});if(O.showCount){P.append("span").attr("class","nv-childrenCount").text(function(Q){return((Q.values&&Q.values.length)||(Q._values&&Q._values.length))?"("+((Q.values&&Q.values.length)||(Q._values&&Q._values.length))+")":""})}if(O.click){P.select("span").on("click",O.click)}});D.order().on("click",function(N){p.elementClick({row:this,data:N,pos:[N.x,N.y]})}).on("dblclick",function(N){p.elementDblclick({row:this,data:N,pos:[N.x,N.y]})}).on("mouseover",function(N){p.elementMouseover({row:this,data:N,pos:[N.x,N.y]})}).on("mouseout",function(N){p.elementMouseout({row:this,data:N,pos:[N.x,N.y]})});function C(P,O,N){d3.event.stopPropagation();if(d3.event.shiftKey&&!N){d3.event.shiftKey=false;P.values&&P.values.forEach(function(Q){if(Q.values||Q._values){C(Q,0,true)}});return true}if(!E(P)){return true}if(P.values){P._values=P.values;P.values=null}else{P.values=P._values;P._values=null}q.update()}function I(N){return(N._values&&N._values.length)?e:(N.values&&N.values.length)?m:""}function A(N){return(N._values&&N._values.length)}function E(O){var N=O.values||O._values;return(N&&N.length)}});return q}q.margin=function(u){if(!arguments.length){return i}i.top=typeof u.top!="undefined"?u.top:i.top;i.right=typeof u.right!="undefined"?u.right:i.right;i.bottom=typeof u.bottom!="undefined"?u.bottom:i.bottom;i.left=typeof u.left!="undefined"?u.left:i.left;return q};q.width=function(u){if(!arguments.length){return g}g=u;return q};q.height=function(u){if(!arguments.length){return t}t=u;return q};q.color=function(u){if(!arguments.length){return l}l=c.utils.getColor(u);scatter.color(l);return q};q.id=function(u){if(!arguments.length){return f}f=u;return q};q.header=function(u){if(!arguments.length){return n}n=u;return q};q.noData=function(u){if(!arguments.length){return s}s=u;return q};q.columns=function(u){if(!arguments.length){return h}h=u;return q};q.tableClass=function(u){if(!arguments.length){return r}r=u;return q};q.iconOpen=function(u){if(!arguments.length){return e}e=u;return q};q.iconClose=function(u){if(!arguments.length){return m}m=u;return q};return q};c.models.legend=function(){var m={top:5,right:0,bottom:5,left:0},l=400,e=20,h=function(o){return o.key},f=c.utils.defaultColor(),n=true,g=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout");function i(o){o.each(function(H){var p=l-m.left-m.right,A=d3.select(this);var y=A.selectAll("g.nv-legend").data([H]);var E=y.enter().append("g").attr("class","nvd3 nv-legend").append("g");var G=y.select("g");y.attr("transform","translate("+m.left+","+m.top+")");var z=G.selectAll(".nv-series").data(function(I){return I});var t=z.enter().append("g").attr("class","nv-series").on("mouseover",function(J,I){g.legendMouseover(J,I)}).on("mouseout",function(J,I){g.legendMouseout(J,I)}).on("click",function(J,I){g.legendClick(J,I)}).on("dblclick",function(J,I){g.legendDblclick(J,I)});t.append("circle").style("stroke-width",2).attr("r",5);t.append("text").attr("text-anchor","start").attr("dy",".32em").attr("dx","8");z.classed("disabled",function(I){return I.disabled});z.exit().remove();z.select("circle").style("fill",function(J,I){return J.color||f(J,I)}).style("stroke",function(J,I){return J.color||f(J,I)});z.select("text").text(h);if(n){var s=[];z.each(function(J,I){s.push(d3.select(this).select("text").node().getComputedTextLength()+28)});var w=0;var D=0;var B=[];while(D<p&&w<s.length){B[w]=s[w];D+=s[w++]}while(D>p&&w>1){B=[];w--;for(k=0;k<s.length;k++){if(s[k]>(B[k%w]||0)){B[k%w]=s[k]}}D=B.reduce(function(J,K,I,L){return J+K})}var q=[];for(var F=0,x=0;F<w;F++){q[F]=x;x+=B[F]}z.attr("transform",function(J,I){return"translate("+q[I%w]+","+(5+Math.floor(I/w)*20)+")"});G.attr("transform","translate("+(l-m.right-D)+","+m.top+")");e=m.top+m.bottom+(Math.ceil(s.length/w)*20)}else{var u=5,v=5,C=0,r;z.attr("transform",function(K,I){var J=d3.select(this).select("text").node().getComputedTextLength()+28;r=v;if(l<m.left+m.right+r+J){v=r=5;u+=20}v+=J;if(v>C){C=v}return"translate("+r+","+u+")"});G.attr("transform","translate("+(l-m.right-C)+","+m.top+")");e=m.top+m.bottom+u+15}});return i}i.dispatch=g;i.margin=function(o){if(!arguments.length){return m}m.top=typeof o.top!="undefined"?o.top:m.top;m.right=typeof o.right!="undefined"?o.right:m.right;m.bottom=typeof o.bottom!="undefined"?o.bottom:m.bottom;m.left=typeof o.left!="undefined"?o.left:m.left;return i};i.width=function(o){if(!arguments.length){return l}l=o;return i};i.height=function(o){if(!arguments.length){return e}e=o;return i};i.key=function(o){if(!arguments.length){return h}h=o;return i};i.color=function(o){if(!arguments.length){return f}f=c.utils.getColor(o);return i};i.align=function(o){if(!arguments.length){return n}n=o;return i};return i};c.models.line=function(){var e=c.models.scatter();var i={top:0,right:0,bottom:0,left:0},f=960,v=500,l=c.utils.defaultColor(),u=function(w){return w.x},t=function(w){return w.y},h=function(x,w){return !isNaN(t(x,w))&&t(x,w)!==null},o=function(w){return w.area},s=false,q,p,m="linear";e.size(16).sizeDomain([16,256]);var g,r;function n(w){w.each(function(G){var J=f-i.left-i.right,B=v-i.top-i.bottom,y=d3.select(this);q=e.xScale();p=e.yScale();g=g||q;r=r||p;var z=y.selectAll("g.nv-wrap.nv-line").data([G]);var E=z.enter().append("g").attr("class","nvd3 nv-wrap nv-line");var C=E.append("defs");var x=E.append("g");var H=z.select("g");x.append("g").attr("class","nv-groups");x.append("g").attr("class","nv-scatterWrap");z.attr("transform","translate("+i.left+","+i.top+")");e.width(J).height(B);var A=z.select(".nv-scatterWrap");d3.transition(A).call(e);C.append("clipPath").attr("id","nv-edge-clip-"+e.id()).append("rect");z.select("#nv-edge-clip-"+e.id()+" rect").attr("width",J).attr("height",B);H.attr("clip-path",s?"url(#nv-edge-clip-"+e.id()+")":"");A.attr("clip-path",s?"url(#nv-edge-clip-"+e.id()+")":"");var D=z.select(".nv-groups").selectAll(".nv-group").data(function(K){return K},function(K){return K.key});D.enter().append("g").style("stroke-opacity",0.000001).style("fill-opacity",0.000001);d3.transition(D.exit()).style("stroke-opacity",0.000001).style("fill-opacity",0.000001).remove();D.attr("class",function(L,K){return"nv-group nv-series-"+K}).classed("hover",function(K){return K.hover}).style("fill",function(L,K){return l(L,K)}).style("stroke",function(L,K){return l(L,K)});d3.transition(D).style("stroke-opacity",1).style("fill-opacity",0.5);var I=D.selectAll("path.nv-area").data(function(K){return o(K)?[K]:[]});I.enter().append("path").attr("class","nv-area").attr("d",function(K){return d3.svg.area().interpolate(m).defined(h).x(function(M,L){return g(u(M,L))}).y0(function(M,L){return r(t(M,L))}).y1(function(M,L){return r(p.domain()[0]<=0?p.domain()[1]>=0?0:p.domain()[1]:p.domain()[0])}).apply(this,[K.values])});d3.transition(D.exit().selectAll("path.nv-area")).attr("d",function(K){return d3.svg.area().interpolate(m).defined(h).x(function(M,L){return g(u(M,L))}).y0(function(M,L){return r(t(M,L))}).y1(function(M,L){return r(p.domain()[0]<=0?p.domain()[1]>=0?0:p.domain()[1]:p.domain()[0])}).apply(this,[K.values])});d3.transition(I).attr("d",function(K){return d3.svg.area().interpolate(m).defined(h).x(function(M,L){return g(u(M,L))}).y0(function(M,L){return r(t(M,L))}).y1(function(M,L){return r(p.domain()[0]<=0?p.domain()[1]>=0?0:p.domain()[1]:p.domain()[0])}).apply(this,[K.values])});var F=D.selectAll("path.nv-line").data(function(K){return[K.values]});F.enter().append("path").attr("class","nv-line").attr("d",d3.svg.line().interpolate(m).defined(h).x(function(L,K){return g(u(L,K))}).y(function(L,K){return r(t(L,K))}));d3.transition(D.exit().selectAll("path.nv-line")).attr("d",d3.svg.line().interpolate(m).defined(h).x(function(L,K){return q(u(L,K))}).y(function(L,K){return p(t(L,K))}));d3.transition(F).attr("d",d3.svg.line().interpolate(m).defined(h).x(function(L,K){return q(u(L,K))}).y(function(L,K){return p(t(L,K))}));g=q.copy();r=p.copy()});return n}n.dispatch=e.dispatch;n.scatter=e;d3.rebind(n,e,"id","interactive","size","xScale","yScale","zScale","xDomain","yDomain","sizeDomain","forceX","forceY","forceSize","useVoronoi","clipVoronoi","clipRadius","padData");n.margin=function(w){if(!arguments.length){return i}i.top=typeof w.top!="undefined"?w.top:i.top;i.right=typeof w.right!="undefined"?w.right:i.right;i.bottom=typeof w.bottom!="undefined"?w.bottom:i.bottom;i.left=typeof w.left!="undefined"?w.left:i.left;return n};n.width=function(w){if(!arguments.length){return f}f=w;return n};n.height=function(w){if(!arguments.length){return v}v=w;return n};n.x=function(w){if(!arguments.length){return u}u=w;e.x(w);return n};n.y=function(w){if(!arguments.length){return t}t=w;e.y(w);return n};n.clipEdge=function(w){if(!arguments.length){return s}s=w;return n};n.color=function(w){if(!arguments.length){return l}l=c.utils.getColor(w);e.color(l);return n};n.interpolate=function(w){if(!arguments.length){return m}m=w;return n};n.defined=function(w){if(!arguments.length){return h}h=w;return n};n.isArea=function(w){if(!arguments.length){return o}o=d3.functor(w);return n};return n};c.models.lineChart=function(){var f=c.models.line(),o=c.models.axis(),e=c.models.axis(),h=c.models.legend();var s={top:30,right:20,bottom:50,left:60},v=c.utils.defaultColor(),u=null,t=null,w=true,g=true,m=function(B,A,E,D,C){return"<h3>"+B+"</h3><p>"+E+" at "+A+"</p>"},q,p,n={},i="No Data Available.",z=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState");o.orient("bottom").tickPadding(7);e.orient("left");var l=function(D,I){if(I){var B=d3.select(I).select("svg");var J=B.attr("viewBox");if(J){J=J.split(" ");var E=parseInt(B.style("width"))/J[2];D.pos[0]=D.pos[0]*E;D.pos[1]=D.pos[1]*E}}var A=D.pos[0]+(I.offsetLeft||0),G=D.pos[1]+(I.offsetTop||0),H=o.tickFormat()(f.x()(D.point,D.pointIndex)),F=e.tickFormat()(f.y()(D.point,D.pointIndex)),C=m(D.series.key,H,F,D,r);c.tooltip.show([A,G],C,null,null,I)};function r(x){x.each(function(F){var B=d3.select(this),H=this;var I=(u||parseInt(B.style("width"))||960)-s.left-s.right,E=(t||parseInt(B.style("height"))||400)-s.top-s.bottom;r.update=function(){r(x)};r.container=this;if(!F||!F.length||!F.filter(function(J){return J.values.length}).length){var C=B.selectAll(".nv-noData").data([i]);C.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");C.attr("x",s.left+I/2).attr("y",s.top+E/2).text(function(J){return J});return r}else{B.selectAll(".nv-noData").remove()}q=f.xScale();p=f.yScale();var D=B.selectAll("g.nv-wrap.nv-lineChart").data([F]);var y=D.enter().append("g").attr("class","nvd3 nv-wrap nv-lineChart").append("g");var G=D.select("g");y.append("g").attr("class","nv-x nv-axis");y.append("g").attr("class","nv-y nv-axis");y.append("g").attr("class","nv-linesWrap");y.append("g").attr("class","nv-legendWrap");if(w){h.width(I);G.select(".nv-legendWrap").datum(F).call(h);if(s.top!=h.height()){s.top=h.height();E=(t||parseInt(B.style("height"))||400)-s.top-s.bottom}D.select(".nv-legendWrap").attr("transform","translate(0,"+(-s.top)+")")}D.attr("transform","translate("+s.left+","+s.top+")");f.width(I).height(E).color(F.map(function(K,J){return K.color||v(K,J)}).filter(function(K,J){return !F[J].disabled}));var A=G.select(".nv-linesWrap").datum(F.filter(function(J){return !J.disabled}));d3.transition(A).call(f);o.scale(q).ticks(I/100).tickSize(-E,0);G.select(".nv-x.nv-axis").attr("transform","translate(0,"+p.range()[0]+")");d3.transition(G.select(".nv-x.nv-axis")).call(o);e.scale(p).ticks(E/36).tickSize(-I,0);d3.transition(G.select(".nv-y.nv-axis")).call(e);h.dispatch.on("legendClick",function(K,J){K.disabled=!K.disabled;if(!F.filter(function(L){return !L.disabled}).length){F.map(function(L){L.disabled=false;D.selectAll(".nv-series").classed("disabled",false);return L})}n.disabled=F.map(function(L){return !!L.disabled});z.stateChange(n);x.transition().call(r)});z.on("tooltipShow",function(J){if(g){l(J,H.parentNode)}});z.on("changeState",function(J){if(typeof J.disabled!=="undefined"){F.forEach(function(L,K){L.disabled=J.disabled[K]});n.disabled=J.disabled}x.call(r)})});return r}f.dispatch.on("elementMouseover.tooltip",function(x){x.pos=[x.pos[0]+s.left,x.pos[1]+s.top];z.tooltipShow(x)});f.dispatch.on("elementMouseout.tooltip",function(x){z.tooltipHide(x)});z.on("tooltipHide",function(){if(g){c.tooltip.cleanup()}});r.dispatch=z;r.lines=f;r.legend=h;r.xAxis=o;r.yAxis=e;d3.rebind(r,f,"defined","isArea","x","y","size","xScale","yScale","xDomain","yDomain","forceX","forceY","interactive","clipEdge","clipVoronoi","id","interpolate");r.margin=function(x){if(!arguments.length){return s}s.top=typeof x.top!="undefined"?x.top:s.top;s.right=typeof x.right!="undefined"?x.right:s.right;s.bottom=typeof x.bottom!="undefined"?x.bottom:s.bottom;s.left=typeof x.left!="undefined"?x.left:s.left;return r};r.width=function(x){if(!arguments.length){return u}u=x;return r};r.height=function(x){if(!arguments.length){return t}t=x;return r};r.color=function(x){if(!arguments.length){return v}v=c.utils.getColor(x);h.color(v);return r};r.showLegend=function(x){if(!arguments.length){return w}w=x;return r};r.tooltips=function(x){if(!arguments.length){return g}g=x;return r};r.tooltipContent=function(x){if(!arguments.length){return m}m=x;return r};r.state=function(x){if(!arguments.length){return n}n=x;return r};r.noData=function(x){if(!arguments.length){return i}i=x;return r};return r};c.models.lineDynTimeSeriesChart=function(){var f=c.models.line(),p=c.models.axis(),e=c.models.axis(),h=c.models.legend();f.xScale(d3.time.scale());var t={top:15,right:10,bottom:20,left:60},w=c.utils.defaultColor(),v=null,u=null,z=true,g=true,m=function(C,B,F,E,D){return"<h3>"+C+"</h3><p>"+F+" at "+B+"</p>"},r,q,l="No Data Available.",A=d3.dispatch("tooltipShow","tooltipHide"),n=null,o=null;p.orient("bottom").tickPadding(7).highlightZero(false).showMaxMin(false);e.orient("left");var i=function(E,J){if(J){var C=d3.select(J).select("svg");var K=C.attr("viewBox");if(K){K=K.split(" ");var F=parseInt(C.style("width"))/K[2];E.pos[0]=E.pos[0]*F;E.pos[1]=E.pos[1]*F}}var B=E.pos[0]+(J.offsetLeft||0),H=E.pos[1]+(J.offsetTop||0),I=d3.time.format("%Y/%m/%d %X")(new Date(f.x()(E.point,E.pointIndex))),G=e.tickFormat()(f.y()(E.point,E.pointIndex)),D=m(E.series.key,I,G,E,s);c.tooltip.show([B,H],D,null,null,J)};function s(x){x.each(function(I){var C=d3.select(this),K=this;var L=(v||parseInt(C.style("width"))||960)-t.left-t.right,H=(u||parseInt(C.style("height"))||400)-t.top-t.bottom;s.update=function(){s(x)};s.container=this;if(!I||!I.length||!I.filter(function(O){return O.values.length}).length){var D=C.selectAll(".nv-noData").data([l]);D.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");D.attr("x",t.left+L/2).attr("y",t.top+H/2).text(function(O){return O});return s}else{C.selectAll(".nv-noData").remove()}r=f.xScale();q=f.yScale();var G=d3.merge(I.map(function(O){return O.values.map(function(Q,P){return{x:Q.x,y:Q.y}})}));var N=d3.extent(G.map(function(O){return O.x}));var F=(new Date).getTime();if(N[1]>F){N[1]=F}if(N[0]>F-10000){N[0]=F-10000}f.xDomain(N);var E=C.selectAll("g.nv-wrap.nv-lineTimeSeriesChart").data([I]);var y=E.enter().append("g").attr("class","nvd3 nv-wrap nv-lineTimeSeriesChart").append("g");var J=E.select("g");y.append("g").attr("class","nv-x nv-axis");y.append("g").attr("class","nv-y nv-axis");y.append("g").attr("class","nv-linesWrap");y.append("g").attr("class","nv-legendWrap");if(z){h.width(L);J.select(".nv-legendWrap").datum(I).call(h);if(t.top!=h.height()){t.top=h.height();H=(u||parseInt(C.style("height"))||400)-t.top-t.bottom}E.select(".nv-legendWrap").attr("transform","translate(0,"+(-t.top)+")")}E.attr("transform","translate("+t.left+","+t.top+")");f.width(L).height(H).clipEdge(true).useVoronoi(false).color(I.map(function(P,O){return P.color||w(P,O)}).filter(function(P,O){return !I[O].disabled}));var B=J.select(".nv-linesWrap").datum(I.filter(function(O){return !O.disabled}));d3.transition(B).call(f);p.scale(r).ticks(L/100).tickSize(-H,0);p.axis.tickFormat(p.axis.scale.tickFormat);J.select(".nv-x.nv-axis").attr("transform","translate(0,"+q.range()[0]+")");d3.transition(J.select(".nv-x.nv-axis")).call(p);e.scale(q).ticks(H/36).tickSize(-L,0);d3.transition(J.select(".nv-y.nv-axis")).call(e);h.dispatch.on("legendClick",function(P,O){P.disabled=!P.disabled;if(!I.filter(function(Q){return !Q.disabled}).length){I.map(function(Q){Q.disabled=false;E.selectAll(".nv-series").classed("disabled",false);return Q})}x.transition().call(s)});A.on("tooltipShow",function(O){if(g){i(O,K.parentNode)}});B.insert("svg:rect",":first-child").attr("class","nv-zoom").attr("width",L).attr("height",H).attr("style","fill: none; pointer-events: all;");var M=d3.behavior.zoom().x(r).on("zoom",function(){var Q=f.xScale().domain().map(function(S){return S.getTime()});var P=d3.extent(G.filter(function(S){return S.x>=Q[0]&&S.x<=Q[1]}).map(function(S){return S.y}));if(P[0]===P[1]){P=P[0]?[P[0]*0.99,P[0]*1.01]:[-1,1]}else{yRange=P[1]-P[0];if(P[0]>=0&&P[0]<yRange*0.25){P[0]=0}else{P[0]=P[0]-yRange*0.05}}P[1]=P[1]+yRange*0.05;f.yDomain(P);var O=(new Date);Q=f.xScale().domain();if(Q[1]>O){var R=Q[1]-O;Q[1]-=R;Q[0]-=R}f.xDomain(Q);p.scale().domain(Q);J.select(".nv-x.nv-axis").call(p);J.select(".nv-y.nv-axis").call(e);J.select(".nv-linesWrap").datum(I.filter(function(S){return !S.disabled})).call(f)});C.selectAll(".nv-linesWrap").call(M)});return s}f.dispatch.on("elementMouseover.tooltip",function(x){x.pos=[x.pos[0]+t.left,x.pos[1]+t.top];A.tooltipShow(x)});f.dispatch.on("elementMouseout.tooltip",function(x){A.tooltipHide(x)});A.on("tooltipHide",function(){if(g){c.tooltip.cleanup()}});s.dispatch=A;s.lines=f;s.legend=h;s.xAxis=p;s.yAxis=e;d3.rebind(s,f,"defined","isArea","x","y","size","xScale","yScale","xDomain","yDomain","forceX","forceY","interactive","clipEdge","clipVoronoi","id","interpolate");s.margin=function(x){if(!arguments.length){return t}t.top=typeof x.top!="undefined"?x.top:t.top;t.right=typeof x.right!="undefined"?x.right:t.right;t.bottom=typeof x.bottom!="undefined"?x.bottom:t.bottom;t.left=typeof x.left!="undefined"?x.left:t.left;return s};s.width=function(x){if(!arguments.length){return v}v=x;return s};s.height=function(x){if(!arguments.length){return u}u=x;return s};s.color=function(x){if(!arguments.length){return w}w=c.utils.getColor(x);h.color(w);return s};s.showLegend=function(x){if(!arguments.length){return z}z=x;return s};s.tooltips=function(x){if(!arguments.length){return g}g=x;return s};s.tooltipContent=function(x){if(!arguments.length){return m}m=x;return s};s.noData=function(x){if(!arguments.length){return l}l=x;return s};return s};c.models.linePlusBarChart=function(){var e=c.models.line(),w=c.models.historicalBar(),q=c.models.axis(),s=c.models.axis(),h=c.models.axis(),g=c.models.legend();var u={top:30,right:60,bottom:50,left:60},y=null,v=null,B=function(x){return x.x},A=function(x){return x.y},z=c.utils.defaultColor(),C=true,f=true,p=function(F,E,I,H,G){return"<h3>"+F+"</h3><p>"+I+" at "+E+"</p>"},r,l,i,n="No Data Available.",D=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState");w.padData(true);e.clipEdge(false).padData(true);q.orient("bottom").tickPadding(7).highlightZero(false);s.orient("left");h.orient("right");var o={},m=function(J,F){var I=J.pos[0]+(F.offsetLeft||0),H=J.pos[1]+(F.offsetTop||0),E=q.tickFormat()(e.x()(J.point,J.pointIndex)),K=(J.series.bar?s:h).tickFormat()(e.y()(J.point,J.pointIndex)),G=p(J.series.key,E,K,J,t);c.tooltip.show([I,H],G,J.value<0?"n":"s",null,F)};function t(x){x.each(function(L){var G=d3.select(this),O=this;var P=(y||parseInt(G.style("width"))||960)-u.left-u.right,J=(v||parseInt(G.style("height"))||400)-u.top-u.bottom;t.update=function(){t(x)};t.container=this;if(!L||!L.length||!L.filter(function(R){return R.values.length}).length){var H=G.selectAll(".nv-noData").data([n]);H.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");H.attr("x",u.left+P/2).attr("y",u.top+J/2).text(function(R){return R});return t}else{G.selectAll(".nv-noData").remove()}var Q=L.filter(function(R){return !R.disabled&&R.bar});var K=L.filter(function(R){return !R.bar});r=K.filter(function(R){return !R.disabled}).length&&K.filter(function(R){return !R.disabled})[0].values.length?e.xScale():w.xScale();l=w.yScale();i=e.yScale();var I=d3.select(this).selectAll("g.nv-wrap.nv-linePlusBar").data([L]);var E=I.enter().append("g").attr("class","nvd3 nv-wrap nv-linePlusBar").append("g");var M=I.select("g");E.append("g").attr("class","nv-x nv-axis");E.append("g").attr("class","nv-y1 nv-axis");E.append("g").attr("class","nv-y2 nv-axis");E.append("g").attr("class","nv-barsWrap");E.append("g").attr("class","nv-linesWrap");E.append("g").attr("class","nv-legendWrap");if(C){g.width(P/2);M.select(".nv-legendWrap").datum(L.map(function(R){R.originalKey=R.originalKey===undefined?R.key:R.originalKey;R.key=R.originalKey+(R.bar?" (left axis)":" (right axis)");return R})).call(g);if(u.top!=g.height()){u.top=g.height();J=(v||parseInt(G.style("height"))||400)-u.top-u.bottom}M.select(".nv-legendWrap").attr("transform","translate("+(P/2)+","+(-u.top)+")")}I.attr("transform","translate("+u.left+","+u.top+")");e.width(P).height(J).color(L.map(function(S,R){return S.color||z(S,R)}).filter(function(S,R){return !L[R].disabled&&!L[R].bar}));w.width(P).height(J).color(L.map(function(S,R){return S.color||z(S,R)}).filter(function(S,R){return !L[R].disabled&&L[R].bar}));var N=M.select(".nv-barsWrap").datum(Q.length?Q:[{values:[]}]);var F=M.select(".nv-linesWrap").datum(!K[0].disabled?K:[{values:[]}]);d3.transition(N).call(w);d3.transition(F).call(e);q.scale(r).ticks(P/100).tickSize(-J,0);M.select(".nv-x.nv-axis").attr("transform","translate(0,"+l.range()[0]+")");d3.transition(M.select(".nv-x.nv-axis")).call(q);s.scale(l).ticks(J/36).tickSize(-P,0);d3.transition(M.select(".nv-y1.nv-axis")).style("opacity",Q.length?1:0).call(s);h.scale(i).ticks(J/36).tickSize(Q.length?0:-P,0);M.select(".nv-y2.nv-axis").style("opacity",K.length?1:0).attr("transform","translate("+P+",0)");d3.transition(M.select(".nv-y2.nv-axis")).call(h);g.dispatch.on("legendClick",function(S,R){S.disabled=!S.disabled;if(!L.filter(function(T){return !T.disabled}).length){L.map(function(T){T.disabled=false;I.selectAll(".nv-series").classed("disabled",false);return T})}o.disabled=L.map(function(T){return !!T.disabled});D.stateChange(o);x.transition().call(t)});D.on("tooltipShow",function(R){if(f){m(R,O.parentNode)}});D.on("changeState",function(R){if(typeof R.disabled!=="undefined"){L.forEach(function(T,S){T.disabled=R.disabled[S]});o.disabled=R.disabled}x.call(t)})});return t}e.dispatch.on("elementMouseover.tooltip",function(x){x.pos=[x.pos[0]+u.left,x.pos[1]+u.top];D.tooltipShow(x)});e.dispatch.on("elementMouseout.tooltip",function(x){D.tooltipHide(x)
});w.dispatch.on("elementMouseover.tooltip",function(x){x.pos=[x.pos[0]+u.left,x.pos[1]+u.top];D.tooltipShow(x)});w.dispatch.on("elementMouseout.tooltip",function(x){D.tooltipHide(x)});D.on("tooltipHide",function(){if(f){c.tooltip.cleanup()}});t.dispatch=D;t.legend=g;t.lines=e;t.bars=w;t.xAxis=q;t.y1Axis=s;t.y2Axis=h;d3.rebind(t,e,"defined","size","clipVoronoi","interpolate");t.x=function(x){if(!arguments.length){return B}B=x;e.x(x);w.x(x);return t};t.y=function(x){if(!arguments.length){return A}A=x;e.y(x);w.y(x);return t};t.margin=function(x){if(!arguments.length){return u}u.top=typeof x.top!="undefined"?x.top:u.top;u.right=typeof x.right!="undefined"?x.right:u.right;u.bottom=typeof x.bottom!="undefined"?x.bottom:u.bottom;u.left=typeof x.left!="undefined"?x.left:u.left;return t};t.width=function(x){if(!arguments.length){return y}y=x;return t};t.height=function(x){if(!arguments.length){return v}v=x;return t};t.color=function(x){if(!arguments.length){return z}z=c.utils.getColor(x);g.color(z);return t};t.showLegend=function(x){if(!arguments.length){return C}C=x;return t};t.tooltips=function(x){if(!arguments.length){return f}f=x;return t};t.tooltipContent=function(x){if(!arguments.length){return p}p=x;return t};t.state=function(x){if(!arguments.length){return o}o=x;return t};t.noData=function(x){if(!arguments.length){return n}n=x;return t};return t};c.models.linePlusBarWithFocusChart=function(){var f=c.models.line(),v=c.models.line(),G=c.models.historicalBar(),g=c.models.historicalBar(),w=c.models.axis(),P=c.models.axis(),B=c.models.axis(),n=c.models.axis(),J=c.models.axis(),u=c.models.axis(),i=c.models.legend(),m=d3.svg.brush();var E={top:30,right:30,bottom:30,left:60},z={top:0,right:30,bottom:20,left:60},H=null,F=null,s=100,N=function(x){return x.x},L=function(x){return x.y},I=c.utils.defaultColor(),M=true,C,A=null,e=true,t=function(R,Q,U,T,S){return"<h3>"+R+"</h3><p>"+U+" at "+Q+"</p>"},y,K,p,o,l,h,r="No Data Available.",O=d3.dispatch("tooltipShow","tooltipHide","brush");f.clipEdge(true);v.interactive(false);w.orient("bottom").tickPadding(5);B.orient("left");n.orient("right");P.orient("bottom").tickPadding(5);J.orient("left");u.orient("right");var q=function(V,R){if(C){V.pointIndex+=Math.ceil(C[0])}var U=V.pos[0]+(R.offsetLeft||0),T=V.pos[1]+(R.offsetTop||0),Q=w.tickFormat()(f.x()(V.point,V.pointIndex)),W=(V.series.bar?B:n).tickFormat()(f.y()(V.point,V.pointIndex)),S=t(V.series.key,Q,W,V,D);c.tooltip.show([U,T],S,V.value<0?"n":"s",null,R)};function D(x){x.each(function(an){var ab=d3.select(this),V=this;var Q=(H||parseInt(ab.style("width"))||960)-E.left-E.right,W=(F||parseInt(ab.style("height"))||400)-E.top-E.bottom-s,U=s-z.top-z.bottom;D.update=function(){D(x)};D.container=this;if(!an||!an.length||!an.filter(function(ao){return ao.values.length}).length){var aa=ab.selectAll(".nv-noData").data([r]);aa.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");aa.attr("x",E.left+Q/2).attr("y",E.top+W/2).text(function(ao){return ao});return D}else{ab.selectAll(".nv-noData").remove()}var R=an.filter(function(ao){return !ao.disabled&&ao.bar});var ah=an.filter(function(ao){return !ao.bar});y=G.xScale();K=P.scale();p=G.yScale();o=f.yScale();l=g.yScale();h=v.yScale();var Y=an.filter(function(ao){return !ao.disabled&&ao.bar}).map(function(ao){return ao.values.map(function(aq,ap){return{x:N(aq,ap),y:L(aq,ap)}})});var X=an.filter(function(ao){return !ao.disabled&&!ao.bar}).map(function(ao){return ao.values.map(function(aq,ap){return{x:N(aq,ap),y:L(aq,ap)}})});y.range([0,Q]);K.domain(d3.extent(d3.merge(Y.concat(X)),function(ao){return ao.x})).range([0,Q]);var Z=ab.selectAll("g.nv-wrap.nv-linePlusBar").data([an]);var ae=Z.enter().append("g").attr("class","nvd3 nv-wrap nv-linePlusBar").append("g");var ai=Z.select("g");ae.append("g").attr("class","nv-legendWrap");var T=ae.append("g").attr("class","nv-focus");T.append("g").attr("class","nv-x nv-axis");T.append("g").attr("class","nv-y1 nv-axis");T.append("g").attr("class","nv-y2 nv-axis");T.append("g").attr("class","nv-barsWrap");T.append("g").attr("class","nv-linesWrap");var S=ae.append("g").attr("class","nv-context");S.append("g").attr("class","nv-x nv-axis");S.append("g").attr("class","nv-y1 nv-axis");S.append("g").attr("class","nv-y2 nv-axis");S.append("g").attr("class","nv-barsWrap");S.append("g").attr("class","nv-linesWrap");S.append("g").attr("class","nv-brushBackground");S.append("g").attr("class","nv-x nv-brush");if(M){i.width(Q/2);ai.select(".nv-legendWrap").datum(an.map(function(ao){ao.originalKey=ao.originalKey===undefined?ao.key:ao.originalKey;ao.key=ao.originalKey+(ao.bar?" (left axis)":" (right axis)");return ao})).call(i);if(E.top!=i.height()){E.top=i.height();W=(F||parseInt(ab.style("height"))||400)-E.top-E.bottom-s}ai.select(".nv-legendWrap").attr("transform","translate("+(Q/2)+","+(-E.top)+")")}Z.attr("transform","translate("+E.left+","+E.top+")");g.width(Q).height(U).color(an.map(function(ap,ao){return ap.color||I(ap,ao)}).filter(function(ap,ao){return !an[ao].disabled&&an[ao].bar}));v.width(Q).height(U).color(an.map(function(ap,ao){return ap.color||I(ap,ao)}).filter(function(ap,ao){return !an[ao].disabled&&!an[ao].bar}));var aj=ai.select(".nv-context .nv-barsWrap").datum(R.length?R:[{values:[]}]);var ag=ai.select(".nv-context .nv-linesWrap").datum(!ah[0].disabled?ah:[{values:[]}]);ai.select(".nv-context").attr("transform","translate(0,"+(W+E.bottom+z.top)+")");d3.transition(aj).call(g);d3.transition(ag).call(v);m.x(K).on("brush",ad);if(A){m.extent(A)}var am=ai.select(".nv-brushBackground").selectAll("g").data([A||m.extent()]);var ak=am.enter().append("g");ak.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",U);ak.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",U);var al=ai.select(".nv-x.nv-brush").call(m);al.selectAll("rect").attr("height",U);al.selectAll(".resize").append("path").attr("d",ac);P.ticks(Q/100).tickSize(-U,0);ai.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+l.range()[0]+")");d3.transition(ai.select(".nv-context .nv-x.nv-axis")).call(P);J.scale(l).ticks(U/36).tickSize(-Q,0);ai.select(".nv-context .nv-y1.nv-axis").style("opacity",R.length?1:0).attr("transform","translate(0,"+K.range()[0]+")");d3.transition(ai.select(".nv-context .nv-y1.nv-axis")).call(J);u.scale(h).ticks(U/36).tickSize(R.length?0:-Q,0);ai.select(".nv-context .nv-y2.nv-axis").style("opacity",ah.length?1:0).attr("transform","translate("+K.range()[1]+",0)");d3.transition(ai.select(".nv-context .nv-y2.nv-axis")).call(u);i.dispatch.on("legendClick",function(ap,ao){ap.disabled=!ap.disabled;if(!an.filter(function(aq){return !aq.disabled}).length){an.map(function(aq){aq.disabled=false;Z.selectAll(".nv-series").classed("disabled",false);return aq})}x.call(D)});O.on("tooltipShow",function(ao){if(e){q(ao,V.parentNode)}});function ac(aq){var ap=+(aq=="e"),ao=ap?1:-1,ar=U/3;return"M"+(0.5*ao)+","+ar+"A6,6 0 0 "+ap+" "+(6.5*ao)+","+(ar+6)+"V"+(2*ar-6)+"A6,6 0 0 "+ap+" "+(0.5*ao)+","+(2*ar)+"ZM"+(2.5*ao)+","+(ar+8)+"V"+(2*ar-8)+"M"+(4.5*ao)+","+(ar+8)+"V"+(2*ar-8)}function af(){if(!m.empty()){m.extent(A)}am.data([m.empty()?K.domain():A]).each(function(ar,ao){var ap=K(ar[0])-K.range()[0],aq=K.range()[1]-K(ar[1]);d3.select(this).select(".left").attr("width",ap<0?0:ap);d3.select(this).select(".right").attr("x",K(ar[1])).attr("width",aq<0?0:aq)})}function ad(){A=m.empty()?null:m.extent();C=m.empty()?K.domain():m.extent();O.brush({extent:C,brush:m});af();G.width(Q).height(W).color(an.map(function(ar,aq){return ar.color||I(ar,aq)}).filter(function(ar,aq){return !an[aq].disabled&&an[aq].bar}));f.width(Q).height(W).color(an.map(function(ar,aq){return ar.color||I(ar,aq)}).filter(function(ar,aq){return !an[aq].disabled&&!an[aq].bar}));var ap=ai.select(".nv-focus .nv-barsWrap").datum(!R.length?[{values:[]}]:R.map(function(ar,aq){return{key:ar.key,values:ar.values.filter(function(au,at){return G.x()(au,at)>=C[0]&&G.x()(au,at)<=C[1]})}}));var ao=ai.select(".nv-focus .nv-linesWrap").datum(ah[0].disabled?[{values:[]}]:ah.map(function(ar,aq){return{key:ar.key,values:ar.values.filter(function(au,at){return f.x()(au,at)>=C[0]&&f.x()(au,at)<=C[1]})}}));if(R.length){y=G.xScale()}else{y=f.xScale()}w.scale(y).ticks(Q/100).tickSize(-W,0);w.domain([Math.ceil(C[0]),Math.floor(C[1])]);d3.transition(ai.select(".nv-x.nv-axis")).call(w);d3.transition(ap).call(G);d3.transition(ao).call(f);ai.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+p.range()[0]+")");B.scale(p).ticks(W/36).tickSize(-Q,0);ai.select(".nv-focus .nv-y1.nv-axis").style("opacity",R.length?1:0);n.scale(o).ticks(W/36).tickSize(R.length?0:-Q,0);ai.select(".nv-focus .nv-y2.nv-axis").style("opacity",ah.length?1:0).attr("transform","translate("+y.range()[1]+",0)");d3.transition(ai.select(".nv-focus .nv-y1.nv-axis")).call(B);d3.transition(ai.select(".nv-focus .nv-y2.nv-axis")).call(n)}ad()});return D}f.dispatch.on("elementMouseover.tooltip",function(x){x.pos=[x.pos[0]+E.left,x.pos[1]+E.top];O.tooltipShow(x)});f.dispatch.on("elementMouseout.tooltip",function(x){O.tooltipHide(x)});G.dispatch.on("elementMouseover.tooltip",function(x){x.pos=[x.pos[0]+E.left,x.pos[1]+E.top];O.tooltipShow(x)});G.dispatch.on("elementMouseout.tooltip",function(x){O.tooltipHide(x)});O.on("tooltipHide",function(){if(e){c.tooltip.cleanup()}});D.dispatch=O;D.legend=i;D.lines=f;D.lines2=v;D.bars=G;D.bars2=g;D.xAxis=w;D.x2Axis=P;D.y1Axis=B;D.y2Axis=n;D.y3Axis=J;D.y4Axis=u;d3.rebind(D,f,"defined","size","clipVoronoi","interpolate");D.x=function(x){if(!arguments.length){return N}N=x;f.x(x);G.x(x);return D};D.y=function(x){if(!arguments.length){return L}L=x;f.y(x);G.y(x);return D};D.margin=function(x){if(!arguments.length){return E}E.top=typeof x.top!="undefined"?x.top:E.top;E.right=typeof x.right!="undefined"?x.right:E.right;E.bottom=typeof x.bottom!="undefined"?x.bottom:E.bottom;E.left=typeof x.left!="undefined"?x.left:E.left;return D};D.width=function(x){if(!arguments.length){return H}H=x;return D};D.height=function(x){if(!arguments.length){return F}F=x;return D};D.color=function(x){if(!arguments.length){return I}I=c.utils.getColor(x);i.color(I);return D};D.showLegend=function(x){if(!arguments.length){return M}M=x;return D};D.tooltips=function(x){if(!arguments.length){return e}e=x;return D};D.tooltipContent=function(x){if(!arguments.length){return t}t=x;return D};D.noData=function(x){if(!arguments.length){return r}r=x;return D};return D};c.models.lineTimeSeriesChart=function(){var w=c.models.line(),g=c.models.axis(),e=c.models.axis(),q=c.models.legend();w.xScale(d3.time.scale());var h={top:15,right:10,bottom:20,left:60},i=c.utils.defaultColor(),f=null,u=null,t=true,n=true,v=function(A,z,D,C,B){return"<h3>"+A+"</h3><p>"+D+" at "+z+"</p>"},p,o,s="No Data Available.",l=d3.dispatch("tooltipShow","tooltipHide");g.orient("bottom").tickPadding(7).highlightZero(false).showMaxMin(false);e.orient("left");var r=function(C,H){if(H){var A=d3.select(H).select("svg");var I=A.attr("viewBox");if(I){I=I.split(" ");var D=parseInt(A.style("width"))/I[2];C.pos[0]=C.pos[0]*D;C.pos[1]=C.pos[1]*D}}var z=C.pos[0]+(H.offsetLeft||0),F=C.pos[1]+(H.offsetTop||0),G=d3.time.format("%Y/%m/%d %X")(new Date(w.x()(C.point,C.pointIndex))),E=e.tickFormat()(w.y()(C.point,C.pointIndex)),B=v(C.series.key,G,E,C,m);c.tooltip.show([z,F],B,null,null,H)};function m(x){x.each(function(E){var A=d3.select(this),G=this;var H=(f||parseInt(A.style("width"))||960)-h.left-h.right,D=(u||parseInt(A.style("height"))||400)-h.top-h.bottom;m.update=function(){m(x)};m.container=this;if(!E||!E.length||!E.filter(function(I){return I.values.length}).length){var B=A.selectAll(".nv-noData").data([s]);B.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");B.attr("x",h.left+H/2).attr("y",h.top+D/2).text(function(I){return I});return m}else{A.selectAll(".nv-noData").remove()}p=w.xScale();o=w.yScale();var C=A.selectAll("g.nv-wrap.nv-lineTimeSeriesChart").data([E]);var y=C.enter().append("g").attr("class","nvd3 nv-wrap nv-lineTimeSeriesChart").append("g");var F=C.select("g");y.append("g").attr("class","nv-x nv-axis");y.append("g").attr("class","nv-y nv-axis");y.append("g").attr("class","nv-linesWrap");y.append("g").attr("class","nv-legendWrap");if(t){q.width(H);F.select(".nv-legendWrap").datum(E).call(q);if(h.top!=q.height()){h.top=q.height();D=(u||parseInt(A.style("height"))||400)-h.top-h.bottom}C.select(".nv-legendWrap").attr("transform","translate(0,"+(-h.top)+")")}C.attr("transform","translate("+h.left+","+h.top+")");w.width(H).height(D).color(E.map(function(J,I){return J.color||i(J,I)}).filter(function(J,I){return !E[I].disabled}));var z=F.select(".nv-linesWrap").datum(E.filter(function(I){return !I.disabled}));d3.transition(z).call(w);g.scale(p).ticks(H/100).tickSize(-D,0);g.axis.tickFormat(g.axis.scale.tickFormat);F.select(".nv-x.nv-axis").attr("transform","translate(0,"+o.range()[0]+")");d3.transition(F.select(".nv-x.nv-axis")).call(g);e.scale(o).ticks(D/36).tickSize(-H,0);d3.transition(F.select(".nv-y.nv-axis")).call(e);q.dispatch.on("legendClick",function(J,I){J.disabled=!J.disabled;if(!E.filter(function(K){return !K.disabled}).length){E.map(function(K){K.disabled=false;C.selectAll(".nv-series").classed("disabled",false);return K})}x.transition().call(m)});l.on("tooltipShow",function(I){if(n){r(I,G.parentNode)}})});return m}w.dispatch.on("elementMouseover.tooltip",function(x){x.pos=[x.pos[0]+h.left,x.pos[1]+h.top];l.tooltipShow(x)});w.dispatch.on("elementMouseout.tooltip",function(x){l.tooltipHide(x)});l.on("tooltipHide",function(){if(n){c.tooltip.cleanup()}});m.dispatch=l;m.lines=w;m.legend=q;m.xAxis=g;m.yAxis=e;d3.rebind(m,w,"defined","isArea","x","y","size","xScale","yScale","xDomain","yDomain","forceX","forceY","interactive","clipEdge","clipVoronoi","id","interpolate");m.margin=function(x){if(!arguments.length){return h}h.top=typeof x.top!="undefined"?x.top:h.top;h.right=typeof x.right!="undefined"?x.right:h.right;h.bottom=typeof x.bottom!="undefined"?x.bottom:h.bottom;h.left=typeof x.left!="undefined"?x.left:h.left;return m};m.width=function(x){if(!arguments.length){return f}f=x;return m};m.height=function(x){if(!arguments.length){return u}u=x;return m};m.color=function(x){if(!arguments.length){return i}i=c.utils.getColor(x);q.color(i);return m};m.showLegend=function(x){if(!arguments.length){return t}t=x;return m};m.tooltips=function(x){if(!arguments.length){return n}n=x;return m};m.tooltipContent=function(x){if(!arguments.length){return v}v=x;return m};m.noData=function(x){if(!arguments.length){return s}s=x;return m};return m};c.models.lineWithFisheye=function(){var l={top:0,right:0,bottom:0,left:0},g=960,v=500,m=c.utils.defaultColor(),f=Math.floor(Math.random()*10000),u=function(w){return w.x},t=function(w){return w.y},s=false,n="linear";var e=c.models.scatter().id(f).size(16).sizeDomain([16,256]),q,p,h,r,i;function o(w){w.each(function(E){var G=g-l.left-l.right,A=v-l.top-l.bottom;q=q||e.xScale();p=p||e.yScale();h=h||q;r=r||p;var y=d3.select(this).selectAll("g.nv-wrap.nv-line").data([E]);var D=y.enter().append("g").attr("class","nvd3 nv-wrap nv-line");var B=D.append("defs");var x=D.append("g");var F=y.select("g");D.append("g").attr("class","nv-scatterWrap");var z=y.select(".nv-scatterWrap").datum(E);x.append("g").attr("class","nv-groups");e.width(G).height(A);d3.transition(z).call(e);y.attr("transform","translate("+l.left+","+l.top+")");B.append("clipPath").attr("id","nv-edge-clip-"+f).append("rect");y.select("#nv-edge-clip-"+f+" rect").attr("width",G).attr("height",A);F.attr("clip-path",s?"url(#nv-edge-clip-"+f+")":"");z.attr("clip-path",s?"url(#nv-edge-clip-"+f+")":"");var C=y.select(".nv-groups").selectAll(".nv-group").data(function(I){return I},function(I){return I.key});C.enter().append("g").style("stroke-opacity",0.000001).style("fill-opacity",0.000001);d3.transition(C.exit()).style("stroke-opacity",0.000001).style("fill-opacity",0.000001).remove();C.attr("class",function(J,I){return"nv-group nv-series-"+I}).classed("hover",function(I){return I.hover}).style("fill",function(J,I){return m(J,I)}).style("stroke",function(J,I){return m(J,I)});d3.transition(C).style("stroke-opacity",1).style("fill-opacity",0.5);var H=C.selectAll("path").data(function(J,I){return[J.values]});H.enter().append("path").attr("class","nv-line").attr("d",d3.svg.line().interpolate(n).x(function(J,I){return h(u(J,I))}).y(function(J,I){return r(t(J,I))}));d3.transition(C.exit().selectAll("path")).attr("d",d3.svg.line().interpolate(n).x(function(J,I){return q(u(J,I))}).y(function(J,I){return p(t(J,I))})).remove();d3.transition(H).attr("d",d3.svg.line().interpolate(n).x(function(J,I){return q(u(J,I))}).y(function(J,I){return p(t(J,I))}));h=q.copy();r=p.copy()});return o}o.dispatch=e.dispatch;d3.rebind(o,e,"interactive","size","xScale","yScale","zScale","xDomain","yDomain","sizeDomain","forceX","forceY","forceSize","clipVoronoi","clipRadius");o.margin=function(w){if(!arguments.length){return l}l=w;return o};o.width=function(w){if(!arguments.length){return g}g=w;return o};o.height=function(w){if(!arguments.length){return v}v=w;return o};o.x=function(w){if(!arguments.length){return u}u=w;e.x(w);return o};o.y=function(w){if(!arguments.length){return t}t=w;e.y(w);return o};o.clipEdge=function(w){if(!arguments.length){return s}s=w;return o};o.color=function(w){if(!arguments.length){return m}m=c.utils.getColor(w);e.color(m);return o};o.id=function(w){if(!arguments.length){return f}f=w;return o};o.interpolate=function(w){if(!arguments.length){return n}n=w;return o};o.defined=function(w){if(!arguments.length){return defined}defined=w;return o};return o};c.models.lineWithFisheyeChart=function(){var t={top:30,right:20,bottom:50,left:60},z=c.utils.defaultColor(),w=null,u=null,B=true,C=true,v=0,A=false,g=true,m=function(F,E,I,H,G){return"<h3>"+F+"</h3><p>"+I+" at "+E+"</p>"},l="No Data Available.";var q=d3.fisheye?d3.fisheye.scale(d3.scale.linear).distortion(0):scatter.xScale();var f=c.models.line().xScale(q),p=f.yScale(),o=c.models.axis().scale(q).orient("bottom").tickPadding(5),e=c.models.axis().scale(p).orient("left"),h=c.models.legend().height(30),r=c.models.legend().height(30),D=d3.dispatch("tooltipShow","tooltipHide");var i=function(J,F){var I=J.pos[0]+(F.offsetLeft||0),H=J.pos[1]+(F.offsetTop||0),E=o.tickFormat()(f.x()(J.point,J.pointIndex)),K=e.tickFormat()(f.y()(J.point,J.pointIndex)),G=m(J.series.key,E,K,J,s);c.tooltip.show([I,H],G,null,null,F)};var n=[{key:"Magnify",disabled:true}];function s(x){x.each(function(J){var G=d3.select(this),L=this;var M=(w||parseInt(G.style("width"))||960)-t.left-t.right,I=(u||parseInt(G.style("height"))||400)-t.top-t.bottom;if(!J||!J.length||!J.filter(function(N){return N.values.length}).length){G.append("text").attr("class","nvd3 nv-noData").attr("x",M/2).attr("y",I/2).attr("dy","-.7em").style("text-anchor","middle").text(l);return s}else{G.select(".nv-noData").remove()}var H=G.selectAll("g.nv-wrap.nv-lineChart").data([J]);var y=H.enter().append("g").attr("class","nvd3 nv-wrap nv-lineChart").append("g");y.append("rect").attr("class","nvd3 nv-background").attr("width",M).attr("height",I);y.append("g").attr("class","nv-x nv-axis");y.append("g").attr("class","nv-y nv-axis");y.append("g").attr("class","nv-linesWrap");y.append("g").attr("class","nv-legendWrap");y.append("g").attr("class","nv-controlsWrap");y.append("g").attr("class","nv-controlsWrap");var K=H.select("g");if(B){h.width(M);K.select(".nv-legendWrap").datum(J).call(h);if(t.top!=h.height()){t.top=h.height();I=(u||parseInt(G.style("height"))||400)-t.top-t.bottom}K.select(".nv-legendWrap").attr("transform","translate(0,"+(-t.top)+")")}if(C){r.width(180).color(["#444"]);K.select(".nv-controlsWrap").datum(n).attr("transform","translate(0,"+(-t.top)+")").call(r)}f.width(M).height(I).color(J.map(function(O,N){return O.color||z(O,N)}).filter(function(O,N){return !J[N].disabled}));K.attr("transform","translate("+t.left+","+t.top+")");var F=K.select(".nv-linesWrap").datum(J.filter(function(N){return !N.disabled}));d3.transition(F).call(f);o.ticks(M/100).tickSize(-I,0);K.select(".nv-x.nv-axis").attr("transform","translate(0,"+p.range()[0]+")");d3.transition(K.select(".nv-x.nv-axis")).call(o);e.ticks(I/36).tickSize(-M,0);d3.transition(K.select(".nv-y.nv-axis")).call(e);K.select(".nv-background").on("mousemove",E);K.select(".nv-background").on("click",function(){A=!A});function E(){if(A){K.select(".nv-point-paths").style("pointer-events","all");return false}K.select(".nv-background").style("pointer-events","all");K.select(".nv-point-paths").style("pointer-events","none");var N=d3.mouse(this);F.call(f);K.select(".nv-x.nv-axis").call(o);q.distortion(v).focus(N[0])}r.dispatch.on("legendClick",function(O,N){O.disabled=!O.disabled;v=O.disabled?0:5;K.select(".nv-background").style("pointer-events",O.disabled?"none":"all");K.select(".nv-point-paths").style("pointer-events",O.disabled?"all":"none");if(O.disabled){q.distortion(v).focus(0);F.call(f);K.select(".nv-x.nv-axis").call(o)}else{A=false}x.transition().call(s)});h.dispatch.on("legendClick",function(O,N){O.disabled=!O.disabled;if(!J.filter(function(P){return !P.disabled}).length){J.map(function(P){P.disabled=false;H.selectAll(".nv-series").classed("disabled",false);return P})}x.transition().call(s)});f.dispatch.on("elementMouseover.tooltip",function(N){N.pos=[N.pos[0]+t.left,N.pos[1]+t.top];D.tooltipShow(N)});if(g){D.on("tooltipShow",function(N){i(N,L.parentNode)})}f.dispatch.on("elementMouseout.tooltip",function(N){D.tooltipHide(N)});if(g){D.on("tooltipHide",c.tooltip.cleanup)}});s.update=function(){s(x)};s.container=this;return s}s.dispatch=D;s.legend=h;s.xAxis=o;s.yAxis=e;d3.rebind(s,f,"defined","x","y","size","xDomain","yDomain","forceX","forceY","interactive","clipEdge","clipVoronoi","id","interpolate");s.margin=function(x){if(!arguments.length){return t}t=x;return s};s.width=function(x){if(!arguments.length){return w}w=x;return s};s.height=function(x){if(!arguments.length){return u}u=x;return s};s.color=function(x){if(!arguments.length){return z}z=c.utils.getColor(x);h.color(z);return s};s.showLegend=function(x){if(!arguments.length){return B}B=x;return s};s.tooltips=function(x){if(!arguments.length){return g}g=x;return s};s.tooltipContent=function(x){if(!arguments.length){return m}m=x;return s};s.noData=function(x){if(!arguments.length){return l}l=x;return s};return s};c.models.lineWithFocusChart=function(){var g=c.models.line(),r=c.models.line(),s=c.models.axis(),e=c.models.axis(),H=c.models.axis(),l=c.models.axis(),h=c.models.legend(),i=d3.svg.brush();var A={top:30,right:30,bottom:30,left:60},v={top:0,right:30,bottom:20,left:60},D=c.utils.defaultColor(),C=null,B=null,p=100,u,t,E,m,F=true,w=null,f=true,q=function(J,I,M,L,K){return"<h3>"+J+"</h3><p>"+M+" at "+I+"</p>"},o="No Data Available.",G=d3.dispatch("tooltipShow","tooltipHide","brush");g.clipEdge(true);r.interactive(false);s.orient("bottom").tickPadding(5);e.orient("left");H.orient("bottom").tickPadding(5);l.orient("left");var n=function(N,J){var M=N.pos[0]+(J.offsetLeft||0),L=N.pos[1]+(J.offsetTop||0),I=s.tickFormat()(g.x()(N.point,N.pointIndex)),O=e.tickFormat()(g.y()(N.point,N.pointIndex)),K=q(N.series.key,I,O,N,z);c.tooltip.show([M,L],K,null,null,J)};function z(x){x.each(function(Y){var Q=d3.select(this),M=this;var y=(C||parseInt(Q.style("width"))||960)-A.left-A.right,N=(B||parseInt(Q.style("height"))||400)-A.top-A.bottom-p,L=p-v.top-v.bottom;z.update=function(){z(x)};z.container=this;if(!Y||!Y.length||!Y.filter(function(Z){return Z.values.length}).length){var P=Q.selectAll(".nv-noData").data([o]);P.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");P.attr("x",A.left+y/2).attr("y",A.top+N/2).text(function(Z){return Z});return z}else{Q.selectAll(".nv-noData").remove()}u=g.xScale();t=g.yScale();E=r.xScale();m=r.yScale();var O=Q.selectAll("g.nv-wrap.nv-lineWithFocusChart").data([Y]);var T=O.enter().append("g").attr("class","nvd3 nv-wrap nv-lineWithFocusChart").append("g");var V=O.select("g");T.append("g").attr("class","nv-legendWrap");var K=T.append("g").attr("class","nv-focus");K.append("g").attr("class","nv-x nv-axis");K.append("g").attr("class","nv-y nv-axis");K.append("g").attr("class","nv-linesWrap");var I=T.append("g").attr("class","nv-context");I.append("g").attr("class","nv-x nv-axis");I.append("g").attr("class","nv-y nv-axis");I.append("g").attr("class","nv-linesWrap");I.append("g").attr("class","nv-brushBackground");I.append("g").attr("class","nv-x nv-brush");if(F){h.width(y);V.select(".nv-legendWrap").datum(Y).call(h);if(A.top!=h.height()){A.top=h.height();N=(B||parseInt(Q.style("height"))||400)-A.top-A.bottom-p}V.select(".nv-legendWrap").attr("transform","translate(0,"+(-A.top)+")")}O.attr("transform","translate("+A.left+","+A.top+")");g.width(y).height(N).color(Y.map(function(aa,Z){return aa.color||D(aa,Z)}).filter(function(aa,Z){return !Y[Z].disabled}));r.defined(g.defined()).width(y).height(L).color(Y.map(function(aa,Z){return aa.color||D(aa,Z)}).filter(function(aa,Z){return !Y[Z].disabled}));V.select(".nv-context").attr("transform","translate(0,"+(N+A.bottom+v.top)+")");var J=V.select(".nv-context .nv-linesWrap").datum(Y.filter(function(Z){return !Z.disabled}));d3.transition(J).call(r);s.scale(u).ticks(y/100).tickSize(-N,0);e.scale(t).ticks(N/36).tickSize(-y,0);V.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+N+")");i.x(E).on("brush",S);if(w){i.extent(w)}var X=V.select(".nv-brushBackground").selectAll("g").data([w||i.extent()]);var W=X.enter().append("g");W.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",L);W.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",L);gBrush=V.select(".nv-x.nv-brush").call(i);gBrush.selectAll("rect").attr("height",L);gBrush.selectAll(".resize").append("path").attr("d",R);S();H.scale(E).ticks(y/100).tickSize(-L,0);V.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+m.range()[0]+")");d3.transition(V.select(".nv-context .nv-x.nv-axis")).call(H);l.scale(m).ticks(L/36).tickSize(-y,0);d3.transition(V.select(".nv-context .nv-y.nv-axis")).call(l);V.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+m.range()[0]+")");h.dispatch.on("legendClick",function(aa,Z){aa.disabled=!aa.disabled;if(!Y.filter(function(ab){return !ab.disabled}).length){Y.map(function(ab){ab.disabled=false;O.selectAll(".nv-series").classed("disabled",false);return ab})}x.transition().call(z)});G.on("tooltipShow",function(Z){if(f){n(Z,M.parentNode)}});function R(ab){var aa=+(ab=="e"),Z=aa?1:-1,ac=L/3;return"M"+(0.5*Z)+","+ac+"A6,6 0 0 "+aa+" "+(6.5*Z)+","+(ac+6)+"V"+(2*ac-6)+"A6,6 0 0 "+aa+" "+(0.5*Z)+","+(2*ac)+"ZM"+(2.5*Z)+","+(ac+8)+"V"+(2*ac-8)+"M"+(4.5*Z)+","+(ac+8)+"V"+(2*ac-8)}function U(){if(!i.empty()){i.extent(w)}X.data([i.empty()?E.domain():w]).each(function(ac,Z){var aa=E(ac[0])-u.range()[0],ab=u.range()[1]-E(ac[1]);d3.select(this).select(".left").attr("width",aa<0?0:aa);d3.select(this).select(".right").attr("x",E(ac[1])).attr("width",ab<0?0:ab)})}function S(){w=i.empty()?null:i.extent();extent=i.empty()?E.domain():i.extent();G.brush({extent:extent,brush:i});U();var Z=V.select(".nv-focus .nv-linesWrap").datum(Y.filter(function(aa){return !aa.disabled}).map(function(ab,aa){return{key:ab.key,values:ab.values.filter(function(ad,ac){return g.x()(ad,ac)>=extent[0]&&g.x()(ad,ac)<=extent[1]})}}));d3.transition(Z).call(g);d3.transition(V.select(".nv-focus .nv-x.nv-axis")).call(s);d3.transition(V.select(".nv-focus .nv-y.nv-axis")).call(e)}});return z}g.dispatch.on("elementMouseover.tooltip",function(x){x.pos=[x.pos[0]+A.left,x.pos[1]+A.top];G.tooltipShow(x)});g.dispatch.on("elementMouseout.tooltip",function(x){G.tooltipHide(x)});G.on("tooltipHide",function(){if(f){c.tooltip.cleanup()}});z.dispatch=G;z.legend=h;z.lines=g;z.lines2=r;z.xAxis=s;z.yAxis=e;z.x2Axis=H;z.y2Axis=l;d3.rebind(z,g,"defined","isArea","size","xDomain","yDomain","forceX","forceY","interactive","clipEdge","clipVoronoi","id");z.x=function(x){if(!arguments.length){return g.x}g.x(x);r.x(x);return z};z.y=function(x){if(!arguments.length){return g.y}g.y(x);r.y(x);return z};z.margin=function(x){if(!arguments.length){return A}A.top=typeof x.top!="undefined"?x.top:A.top;A.right=typeof x.right!="undefined"?x.right:A.right;A.bottom=typeof x.bottom!="undefined"?x.bottom:A.bottom;A.left=typeof x.left!="undefined"?x.left:A.left;return z};z.margin2=function(x){if(!arguments.length){return v}v=x;return z};z.width=function(x){if(!arguments.length){return C}C=x;return z};z.height=function(x){if(!arguments.length){return B}B=x;return z};z.height2=function(x){if(!arguments.length){return p}p=x;return z};z.color=function(x){if(!arguments.length){return D}D=c.utils.getColor(x);h.color(D);return z};z.showLegend=function(x){if(!arguments.length){return F}F=x;return z};z.brushExtent=function(x){if(!arguments.length){return w}w=x;return z};z.tooltips=function(x){if(!arguments.length){return f}f=x;return z};z.tooltipContent=function(x){if(!arguments.length){return q}q=x;return z};z.interpolate=function(x){if(!arguments.length){return g.interpolate()}g.interpolate(x);r.interpolate(x);return z};z.noData=function(x){if(!arguments.length){return o}o=x;return z};z.xTickFormat=function(x){if(!arguments.length){return s.tickFormat()}s.tickFormat(x);H.tickFormat(x);return z};z.yTickFormat=function(x){if(!arguments.length){return e.tickFormat()}e.tickFormat(x);l.tickFormat(x);return z};return z};c.models.multiBar=function(){var l={top:0,right:0,bottom:0,left:0},o=960,m=500,h=d3.scale.ordinal(),g=d3.scale.linear(),n=Math.floor(Math.random()*10000),t=function(x){return x.x},s=function(x){return x.y},f=[0],w=true,v=false,r=c.utils.defaultColor(),z=1200,q,p,A=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout");var u,e;function i(x){x.each(function(J){var M=o-l.left-l.right,E=m-l.top-l.bottom,B=d3.select(this);if(v){J=d3.layout.stack().offset("zero").values(function(N){return N.values}).y(s)(J)}J=J.map(function(O,N){O.values=O.values.map(function(P){P.series=N;return P});return O});if(v){J[0].values.map(function(P,N){var Q=0,O=0;J.map(function(S){var R=S.values[N];R.size=Math.abs(R.y);if(R.y<0){R.y1=O;O=O-R.size}else{R.y1=R.size+Q;Q=Q+R.size}})})}var D=(q&&p)?[]:J.map(function(N){return N.values.map(function(P,O){return{x:t(P,O),y:s(P,O),y0:P.y0,y1:P.y1}})});h.domain(d3.merge(D).map(function(N){return N.x})).rangeBands([0,M],0.1);g.domain(p||d3.extent(d3.merge(D).map(function(N){return N.y+(v?N.y1:0)}).concat(f))).range([E,0]);if(h.domain()[0]===h.domain()[1]||g.domain()[0]===g.domain()[1]){singlePoint=true}if(h.domain()[0]===h.domain()[1]){h.domain()[0]?h.domain([h.domain()[0]-h.domain()[0]*0.01,h.domain()[1]+h.domain()[1]*0.01]):h.domain([-1,1])}if(g.domain()[0]===g.domain()[1]){g.domain()[0]?g.domain([g.domain()[0]+g.domain()[0]*0.01,g.domain()[1]-g.domain()[1]*0.01]):g.domain([-1,1])}u=u||h;e=e||g;var C=B.selectAll("g.nv-wrap.nv-multibar").data([J]);var H=C.enter().append("g").attr("class","nvd3 nv-wrap nv-multibar");var F=H.append("defs");var y=H.append("g");var K=C.select("g");y.append("g").attr("class","nv-groups");C.attr("transform","translate("+l.left+","+l.top+")");F.append("clipPath").attr("id","nv-edge-clip-"+n).append("rect");C.select("#nv-edge-clip-"+n+" rect").attr("width",M).attr("height",E);K.attr("clip-path",w?"url(#nv-edge-clip-"+n+")":"");var G=C.select(".nv-groups").selectAll(".nv-group").data(function(N){return N},function(N){return N.key});G.enter().append("g").style("stroke-opacity",0.000001).style("fill-opacity",0.000001);d3.transition(G.exit()).selectAll("rect.nv-bar").delay(function(O,N){return N*z/J[0].values.length}).attr("y",function(N){return v?e(N.y0):e(0)}).attr("height",0).remove();G.attr("class",function(O,N){return"nv-group nv-series-"+N}).classed("hover",function(N){return N.hover}).style("fill",function(O,N){return r(O,N)}).style("stroke",function(O,N){return r(O,N)});d3.transition(G).style("stroke-opacity",1).style("fill-opacity",0.75);var L=G.selectAll("rect.nv-bar").data(function(N){return N.values});L.exit().remove();var I=L.enter().append("rect").attr("class",function(O,N){return s(O,N)<0?"nv-bar negative":"nv-bar positive"}).attr("x",function(P,O,N){return v?0:(N*h.rangeBand()/J.length)}).attr("y",function(N){return e(v?N.y0:0)}).attr("height",0).attr("width",h.rangeBand()/(v?1:J.length));L.style("fill",function(P,O,N){return r(P,N,O)}).style("stroke",function(P,O,N){return r(P,N,O)}).on("mouseover",function(O,N){d3.select(this).classed("hover",true);A.elementMouseover({value:s(O,N),point:O,series:J[O.series],pos:[h(t(O,N))+(h.rangeBand()*(v?J.length/2:O.series+0.5)/J.length),g(s(O,N)+(v?O.y0:0))],pointIndex:N,seriesIndex:O.series,e:d3.event})
}).on("mouseout",function(O,N){d3.select(this).classed("hover",false);A.elementMouseout({value:s(O,N),point:O,series:J[O.series],pointIndex:N,seriesIndex:O.series,e:d3.event})}).on("click",function(O,N){A.elementClick({value:s(O,N),point:O,series:J[O.series],pos:[h(t(O,N))+(h.rangeBand()*(v?J.length/2:O.series+0.5)/J.length),g(s(O,N)+(v?O.y0:0))],pointIndex:N,seriesIndex:O.series,e:d3.event});d3.event.stopPropagation()}).on("dblclick",function(O,N){A.elementDblClick({value:s(O,N),point:O,series:J[O.series],pos:[h(t(O,N))+(h.rangeBand()*(v?J.length/2:O.series+0.5)/J.length),g(s(O,N)+(v?O.y0:0))],pointIndex:N,seriesIndex:O.series,e:d3.event});d3.event.stopPropagation()});L.attr("class",function(O,N){return s(O,N)<0?"nv-bar negative":"nv-bar positive"}).attr("transform",function(O,N){return"translate("+h(t(O,N))+",0)"});if(v){d3.transition(L).delay(function(O,N){return N*z/J[0].values.length}).attr("y",function(O,N){return g((v?O.y1:0))}).attr("height",function(O,N){return Math.max(Math.abs(g(O.y+(v?O.y0:0))-g((v?O.y0:0))),1)}).each("end",function(){d3.transition(d3.select(this)).attr("x",function(O,N){return v?0:(O.series*h.rangeBand()/J.length)}).attr("width",h.rangeBand()/(v?1:J.length))})}else{d3.transition(L).delay(function(O,N){return N*z/J[0].values.length}).attr("x",function(O,N){return O.series*h.rangeBand()/J.length}).attr("width",h.rangeBand()/J.length).each("end",function(){d3.transition(d3.select(this)).attr("y",function(O,N){return s(O,N)<0?g(0):g(0)-g(s(O,N))<1?g(0)-1:g(s(O,N))}).attr("height",function(O,N){return Math.max(Math.abs(g(s(O,N))-g(0)),1)})})}u=h.copy();e=g.copy()});return i}i.dispatch=A;i.x=function(x){if(!arguments.length){return t}t=x;return i};i.y=function(x){if(!arguments.length){return s}s=x;return i};i.margin=function(x){if(!arguments.length){return l}l.top=typeof x.top!="undefined"?x.top:l.top;l.right=typeof x.right!="undefined"?x.right:l.right;l.bottom=typeof x.bottom!="undefined"?x.bottom:l.bottom;l.left=typeof x.left!="undefined"?x.left:l.left;return i};i.width=function(x){if(!arguments.length){return o}o=x;return i};i.height=function(x){if(!arguments.length){return m}m=x;return i};i.xScale=function(x){if(!arguments.length){return h}h=x;return i};i.yScale=function(x){if(!arguments.length){return g}g=x;return i};i.xDomain=function(x){if(!arguments.length){return q}q=x;return i};i.yDomain=function(x){if(!arguments.length){return p}p=x;return i};i.forceY=function(x){if(!arguments.length){return f}f=x;return i};i.stacked=function(x){if(!arguments.length){return v}v=x;return i};i.clipEdge=function(x){if(!arguments.length){return w}w=x;return i};i.color=function(x){if(!arguments.length){return r}r=c.utils.getColor(x);return i};i.id=function(x){if(!arguments.length){return n}n=x;return i};i.delay=function(x){if(!arguments.length){return z}z=x;return i};return i};c.models.multiBarChart=function(){var h=c.models.multiBar(),p=c.models.axis(),e=c.models.axis(),g=c.models.legend(),t=c.models.legend();var v={top:30,right:20,bottom:30,left:60},z=null,w=null,A=c.utils.defaultColor(),C=true,B=true,s=true,i=0,f=true,o=function(F,E,I,H,G){return"<h3>"+F+"</h3><p>"+I+" on "+E+"</p>"},r,q,n={stacked:false},m="No Data Available.",D=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState");h.stacked(false);p.orient("bottom").tickPadding(7).highlightZero(false).showMaxMin(false).tickFormat(function(x){return x});e.orient("left").tickFormat(d3.format(",.1f"));var l=function(J,F){var I=J.pos[0]+(F.offsetLeft||0),H=J.pos[1]+(F.offsetTop||0),E=p.tickFormat()(h.x()(J.point,J.pointIndex)),K=e.tickFormat()(h.y()(J.point,J.pointIndex)),G=o(J.series.key,E,K,J,u);c.tooltip.show([I,H],G,J.value<0?"n":"s",null,F)};function u(x){x.each(function(J){var E=d3.select(this),M=this;var O=(z||parseInt(E.style("width"))||960)-v.left-v.right,H=(w||parseInt(E.style("height"))||400)-v.top-v.bottom;u.update=function(){x.transition().call(u)};u.container=this;if(!J||!J.length||!J.filter(function(P){return P.values.length}).length){var F=E.selectAll(".nv-noData").data([m]);F.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");F.attr("x",v.left+O/2).attr("y",v.top+H/2).text(function(P){return P});return u}else{E.selectAll(".nv-noData").remove()}r=h.xScale();q=h.yScale();var G=E.selectAll("g.nv-wrap.nv-multiBarWithLegend").data([J]);var y=G.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarWithLegend").append("g");var K=G.select("g");y.append("g").attr("class","nv-x nv-axis");y.append("g").attr("class","nv-y nv-axis");y.append("g").attr("class","nv-barsWrap");y.append("g").attr("class","nv-legendWrap");y.append("g").attr("class","nv-controlsWrap");if(B){g.width(O/2);K.select(".nv-legendWrap").datum(J).call(g);if(v.top!=g.height()){v.top=g.height();H=(w||parseInt(E.style("height"))||400)-v.top-v.bottom}K.select(".nv-legendWrap").attr("transform","translate("+(O/2)+","+(-v.top)+")")}if(C){var N=[{key:"Grouped",disabled:h.stacked()},{key:"Stacked",disabled:!h.stacked()}];t.width(180).color(["#444","#444","#444"]);K.select(".nv-controlsWrap").datum(N).attr("transform","translate(0,"+(-v.top)+")").call(t)}G.attr("transform","translate("+v.left+","+v.top+")");h.width(O).height(H).color(J.map(function(Q,P){return Q.color||A(Q,P)}).filter(function(Q,P){return !J[P].disabled}));var L=K.select(".nv-barsWrap").datum(J.filter(function(P){return !P.disabled}));d3.transition(L).call(h);p.scale(r).ticks(O/100).tickSize(-H,0);K.select(".nv-x.nv-axis").attr("transform","translate(0,"+q.range()[0]+")");d3.transition(K.select(".nv-x.nv-axis")).call(p);var I=K.select(".nv-x.nv-axis > g").selectAll("g");I.selectAll("line, text").style("opacity",1);if(s){I.filter(function(Q,P){return P%Math.ceil(J[0].values.length/(O/100))!==0}).selectAll("text, line").style("opacity",0)}if(i){I.selectAll("text").attr("transform","rotate("+i+" 0,0)").attr("text-anchor",i>0?"start":"end")}K.select(".nv-x.nv-axis").selectAll("g.nv-axisMaxMin text").style("opacity",1);e.scale(q).ticks(H/36).tickSize(-O,0);d3.transition(K.select(".nv-y.nv-axis")).call(e);g.dispatch.on("legendClick",function(Q,P){Q.disabled=!Q.disabled;if(!J.filter(function(R){return !R.disabled}).length){J.map(function(R){R.disabled=false;G.selectAll(".nv-series").classed("disabled",false);return R})}n.disabled=J.map(function(R){return !!R.disabled});D.stateChange(n);x.transition().call(u)});t.dispatch.on("legendClick",function(Q,P){if(!Q.disabled){return}N=N.map(function(R){R.disabled=true;return R});Q.disabled=false;switch(Q.key){case"Grouped":h.stacked(false);break;case"Stacked":h.stacked(true);break}n.stacked=h.stacked();D.stateChange(n);x.transition().call(u)});D.on("tooltipShow",function(P){if(f){l(P,M.parentNode)}});D.on("changeState",function(P){if(typeof P.disabled!=="undefined"){J.forEach(function(R,Q){R.disabled=P.disabled[Q]});n.disabled=P.disabled}if(typeof P.stacked!=="undefined"){h.stacked(P.stacked);n.stacked=P.stacked}x.call(u)})});return u}h.dispatch.on("elementMouseover.tooltip",function(x){x.pos=[x.pos[0]+v.left,x.pos[1]+v.top];D.tooltipShow(x)});h.dispatch.on("elementMouseout.tooltip",function(x){D.tooltipHide(x)});D.on("tooltipHide",function(){if(f){c.tooltip.cleanup()}});u.dispatch=D;u.multibar=h;u.legend=g;u.xAxis=p;u.yAxis=e;d3.rebind(u,h,"x","y","xDomain","yDomain","forceX","forceY","clipEdge","id","stacked","delay");u.margin=function(x){if(!arguments.length){return v}v.top=typeof x.top!="undefined"?x.top:v.top;v.right=typeof x.right!="undefined"?x.right:v.right;v.bottom=typeof x.bottom!="undefined"?x.bottom:v.bottom;v.left=typeof x.left!="undefined"?x.left:v.left;return u};u.width=function(x){if(!arguments.length){return z}z=x;return u};u.height=function(x){if(!arguments.length){return w}w=x;return u};u.color=function(x){if(!arguments.length){return A}A=c.utils.getColor(x);g.color(A);return u};u.showControls=function(x){if(!arguments.length){return C}C=x;return u};u.showLegend=function(x){if(!arguments.length){return B}B=x;return u};u.reduceXTicks=function(x){if(!arguments.length){return s}s=x;return u};u.rotateLabels=function(x){if(!arguments.length){return i}i=x;return u};u.tooltip=function(x){if(!arguments.length){return o}o=x;return u};u.tooltips=function(x){if(!arguments.length){return f}f=x;return u};u.tooltipContent=function(x){if(!arguments.length){return o}o=x;return u};u.state=function(x){if(!arguments.length){return n}n=x;return u};u.noData=function(x){if(!arguments.length){return m}m=x;return u};return u};c.models.multiBarHorizontal=function(){var n={top:0,right:0,bottom:0,left:0},q=960,o=500,p=Math.floor(Math.random()*10000),i=d3.scale.ordinal(),h=d3.scale.linear(),w=function(x){return x.x},u=function(x){return x.y},f=[0],t=c.utils.defaultColor(),A=false,z=false,l=60,g=d3.format(",.2f"),B=1200,s,r,C=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout");var v,e;function m(x){x.each(function(L){var O=q-n.left-n.right,G=o-n.top-n.bottom,D=d3.select(this);if(A){L=d3.layout.stack().offset("zero").values(function(P){return P.values}).y(u)(L)}L=L.map(function(Q,P){Q.values=Q.values.map(function(R){R.series=P;return R});return Q});var F=(s&&r)?[]:L.map(function(P){return P.values.map(function(R,Q){return{x:w(R,Q),y:u(R,Q),y0:R.y0}})});i.domain(s||d3.merge(F).map(function(P){return P.x})).rangeBands([0,G],0.1);h.domain(r||d3.extent(d3.merge(F).map(function(P){return P.y+(A?P.y0:0)}).concat(f)));if(z&&!A){h.range([(h.domain()[0]<0?l:0),O-(h.domain()[1]>0?l:0)])}else{h.range([0,O])}v=v||i;e=e||d3.scale.linear().domain(h.domain()).range([h(0),h(0)]);var E=d3.select(this).selectAll("g.nv-wrap.nv-multibarHorizontal").data([L]);var J=E.enter().append("g").attr("class","nvd3 nv-wrap nv-multibarHorizontal");var H=J.append("defs");var y=J.append("g");var M=E.select("g");y.append("g").attr("class","nv-groups");E.attr("transform","translate("+n.left+","+n.top+")");var I=E.select(".nv-groups").selectAll(".nv-group").data(function(P){return P},function(P){return P.key});I.enter().append("g").style("stroke-opacity",0.000001).style("fill-opacity",0.000001);d3.transition(I.exit()).style("stroke-opacity",0.000001).style("fill-opacity",0.000001).remove();I.attr("class",function(Q,P){return"nv-group nv-series-"+P}).classed("hover",function(P){return P.hover}).style("fill",function(Q,P){return t(Q,P)}).style("stroke",function(Q,P){return t(Q,P)});d3.transition(I).style("stroke-opacity",1).style("fill-opacity",0.75);var N=I.selectAll("g.nv-bar").data(function(P){return P.values});N.exit().remove();var K=N.enter().append("g").attr("transform",function(R,Q,P){return"translate("+e(A?R.y0:0)+","+(A?0:(P*i.rangeBand()/L.length)+i(w(R,Q)))+")"});K.append("rect").attr("width",0).attr("height",i.rangeBand()/(A?1:L.length));N.on("mouseover",function(Q,P){d3.select(this).classed("hover",true);C.elementMouseover({value:u(Q,P),point:Q,series:L[Q.series],pos:[h(u(Q,P)+(A?Q.y0:0)),i(w(Q,P))+(i.rangeBand()*(A?L.length/2:Q.series+0.5)/L.length)],pointIndex:P,seriesIndex:Q.series,e:d3.event})}).on("mouseout",function(Q,P){d3.select(this).classed("hover",false);C.elementMouseout({value:u(Q,P),point:Q,series:L[Q.series],pointIndex:P,seriesIndex:Q.series,e:d3.event})}).on("click",function(Q,P){C.elementClick({value:u(Q,P),point:Q,series:L[Q.series],pos:[i(w(Q,P))+(i.rangeBand()*(A?L.length/2:Q.series+0.5)/L.length),h(u(Q,P)+(A?Q.y0:0))],pointIndex:P,seriesIndex:Q.series,e:d3.event});d3.event.stopPropagation()}).on("dblclick",function(Q,P){C.elementDblClick({value:u(Q,P),point:Q,series:L[Q.series],pos:[i(w(Q,P))+(i.rangeBand()*(A?L.length/2:Q.series+0.5)/L.length),h(u(Q,P)+(A?Q.y0:0))],pointIndex:P,seriesIndex:Q.series,e:d3.event});d3.event.stopPropagation()});if(z&&!A){K.append("text").attr("text-anchor",function(Q,P){return u(Q,P)<0?"end":"start"});N.select("text").attr("y",i.rangeBand()/2).attr("dy","-.32em").text(function(Q,P){return g(u(Q,P))});d3.transition(N).select("text").attr("x",function(Q,P){return u(Q,P)<0?-4:h(u(Q,P))-h(0)+4})}else{N.selectAll("text").remove()}N.attr("class",function(Q,P){return u(Q,P)<0?"nv-bar negative":"nv-bar positive"});if(A){d3.transition(N).attr("transform",function(Q,P){return"translate("+h(Q.y0)+","+i(w(Q,P))+")"}).select("rect").attr("width",function(Q,P){return Math.abs(h(u(Q,P)+Q.y0)-h(Q.y0))}).attr("height",i.rangeBand())}else{d3.transition(N).attr("transform",function(Q,P){return"translate("+(u(Q,P)<0?h(u(Q,P)):h(0))+","+(Q.series*i.rangeBand()/L.length+i(w(Q,P)))+")"}).select("rect").attr("height",i.rangeBand()/L.length).attr("width",function(Q,P){return Math.max(Math.abs(h(u(Q,P))-h(0)),1)})}v=i.copy();e=h.copy()});return m}m.dispatch=C;m.x=function(x){if(!arguments.length){return w}w=x;return m};m.y=function(x){if(!arguments.length){return u}u=x;return m};m.margin=function(x){if(!arguments.length){return n}n.top=typeof x.top!="undefined"?x.top:n.top;n.right=typeof x.right!="undefined"?x.right:n.right;n.bottom=typeof x.bottom!="undefined"?x.bottom:n.bottom;n.left=typeof x.left!="undefined"?x.left:n.left;return m};m.width=function(x){if(!arguments.length){return q}q=x;return m};m.height=function(x){if(!arguments.length){return o}o=x;return m};m.xScale=function(x){if(!arguments.length){return i}i=x;return m};m.yScale=function(x){if(!arguments.length){return h}h=x;return m};m.xDomain=function(x){if(!arguments.length){return s}s=x;return m};m.yDomain=function(x){if(!arguments.length){return r}r=x;return m};m.forceY=function(x){if(!arguments.length){return f}f=x;return m};m.stacked=function(x){if(!arguments.length){return A}A=x;return m};m.color=function(x){if(!arguments.length){return t}t=c.utils.getColor(x);return m};m.id=function(x){if(!arguments.length){return p}p=x;return m};m.delay=function(x){if(!arguments.length){return B}B=x;return m};m.showValues=function(x){if(!arguments.length){return z}z=x;return m};m.valueFormat=function(x){if(!arguments.length){return g}g=x;return m};m.valuePadding=function(x){if(!arguments.length){return l}l=x;return m};return m};c.models.multiBarHorizontalChart=function(){var h=c.models.multiBarHorizontal(),o=c.models.axis(),e=c.models.axis(),g=c.models.legend().height(30),r=c.models.legend().height(30);var t={top:30,right:20,bottom:50,left:60},v=null,u=null,w=c.utils.defaultColor(),B=true,z=true,A=false,f=true,m=function(E,D,H,G,F){return"<h3>"+E+" - "+D+"</h3><p>"+H+"</p>"},q,p,n={stacked:A},l="No Data Available.",C=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState");h.stacked(A);o.orient("left").tickPadding(5).highlightZero(false).showMaxMin(false).tickFormat(function(x){return x});e.orient("bottom").tickFormat(d3.format(",.1f"));var i=function(I,E){var H=I.pos[0]+(E.offsetLeft||0),G=I.pos[1]+(E.offsetTop||0),D=o.tickFormat()(h.x()(I.point,I.pointIndex)),J=e.tickFormat()(h.y()(I.point,I.pointIndex)),F=m(I.series.key,D,J,I,s);c.tooltip.show([H,G],F,I.value<0?"e":"w",null,E)};function s(x){x.each(function(I){var D=d3.select(this),L=this;var N=(v||parseInt(D.style("width"))||960)-t.left-t.right,G=(u||parseInt(D.style("height"))||400)-t.top-t.bottom;s.update=function(){x.transition().call(s)};s.container=this;if(!I||!I.length||!I.filter(function(O){return O.values.length}).length){var E=D.selectAll(".nv-noData").data([l]);E.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");E.attr("x",t.left+N/2).attr("y",t.top+G/2).text(function(O){return O});return s}else{D.selectAll(".nv-noData").remove()}q=h.xScale();p=h.yScale();var F=D.selectAll("g.nv-wrap.nv-multiBarHorizontalChart").data([I]);var y=F.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarHorizontalChart").append("g");var J=F.select("g");y.append("g").attr("class","nv-x nv-axis");y.append("g").attr("class","nv-y nv-axis");y.append("g").attr("class","nv-barsWrap");y.append("g").attr("class","nv-legendWrap");y.append("g").attr("class","nv-controlsWrap");if(z){g.width(N/2);J.select(".nv-legendWrap").datum(I).call(g);if(t.top!=g.height()){t.top=g.height();G=(u||parseInt(D.style("height"))||400)-t.top-t.bottom}J.select(".nv-legendWrap").attr("transform","translate("+(N/2)+","+(-t.top)+")")}if(B){var M=[{key:"Grouped",disabled:h.stacked()},{key:"Stacked",disabled:!h.stacked()}];r.width(180).color(["#444","#444","#444"]);J.select(".nv-controlsWrap").datum(M).attr("transform","translate(0,"+(-t.top)+")").call(r)}F.attr("transform","translate("+t.left+","+t.top+")");h.width(N).height(G).color(I.map(function(P,O){return P.color||w(P,O)}).filter(function(P,O){return !I[O].disabled}));var K=J.select(".nv-barsWrap").datum(I.filter(function(O){return !O.disabled}));d3.transition(K).call(h);o.scale(q).ticks(G/24).tickSize(-N,0);d3.transition(J.select(".nv-x.nv-axis")).call(o);var H=J.select(".nv-x.nv-axis").selectAll("g");H.selectAll("line, text").style("opacity",1);e.scale(p).ticks(N/100).tickSize(-G,0);J.select(".nv-y.nv-axis").attr("transform","translate(0,"+G+")");d3.transition(J.select(".nv-y.nv-axis")).call(e);g.dispatch.on("legendClick",function(P,O){P.disabled=!P.disabled;if(!I.filter(function(Q){return !Q.disabled}).length){I.map(function(Q){Q.disabled=false;F.selectAll(".nv-series").classed("disabled",false);return Q})}n.disabled=I.map(function(Q){return !!Q.disabled});C.stateChange(n);x.transition().call(s)});r.dispatch.on("legendClick",function(P,O){if(!P.disabled){return}M=M.map(function(Q){Q.disabled=true;return Q});P.disabled=false;switch(P.key){case"Grouped":h.stacked(false);break;case"Stacked":h.stacked(true);break}n.stacked=h.stacked();C.stateChange(n);x.transition().call(s)});C.on("tooltipShow",function(O){if(f){i(O,L.parentNode)}});C.on("changeState",function(O){if(typeof O.disabled!=="undefined"){I.forEach(function(Q,P){Q.disabled=O.disabled[P]});n.disabled=O.disabled}if(typeof O.stacked!=="undefined"){h.stacked(O.stacked);n.stacked=O.stacked}x.call(s)})});return s}h.dispatch.on("elementMouseover.tooltip",function(x){x.pos=[x.pos[0]+t.left,x.pos[1]+t.top];C.tooltipShow(x)});h.dispatch.on("elementMouseout.tooltip",function(x){C.tooltipHide(x)});C.on("tooltipHide",function(){if(f){c.tooltip.cleanup()}});s.dispatch=C;s.multibar=h;s.legend=g;s.xAxis=o;s.yAxis=e;d3.rebind(s,h,"x","y","xDomain","yDomain","forceX","forceY","clipEdge","id","delay","showValues","valueFormat","stacked");s.margin=function(x){if(!arguments.length){return t}t.top=typeof x.top!="undefined"?x.top:t.top;t.right=typeof x.right!="undefined"?x.right:t.right;t.bottom=typeof x.bottom!="undefined"?x.bottom:t.bottom;t.left=typeof x.left!="undefined"?x.left:t.left;return s};s.width=function(x){if(!arguments.length){return v}v=x;return s};s.height=function(x){if(!arguments.length){return u}u=x;return s};s.color=function(x){if(!arguments.length){return w}w=c.utils.getColor(x);g.color(w);return s};s.showControls=function(x){if(!arguments.length){return B}B=x;return s};s.showLegend=function(x){if(!arguments.length){return z}z=x;return s};s.tooltip=function(x){if(!arguments.length){return m}m=x;return s};s.tooltips=function(x){if(!arguments.length){return f}f=x;return s};s.tooltipContent=function(x){if(!arguments.length){return m}m=x;return s};s.state=function(x){if(!arguments.length){return n}n=x;return s};s.noData=function(x){if(!arguments.length){return l}l=x;return s};return s};c.models.multiBarTimeSeries=function(){var l={top:0,right:0,bottom:0,left:0},o=960,m=500,h=d3.time.scale(),g=d3.scale.linear(),n=Math.floor(Math.random()*10000),t=function(x){return x.x},s=function(x){return x.y},f=[0],w=true,v=false,r=c.utils.defaultColor(),z=1200,q,p,A=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout");var u,e;function i(x){x.each(function(M){var P=o-l.left-l.right,F=m-l.top-l.bottom,C=d3.select(this);if(v){M=d3.layout.stack().offset("zero").values(function(R){return R.values}).y(s)(M)}M=M.map(function(S,R){S.values=S.values.map(function(T){T.series=R;return T});return S});var E=(q&&p)?[]:M.map(function(R){return R.values.map(function(T,S){return{x:t(T,S),y:s(T,S),y0:T.y0}})});h.domain(d3.extent(d3.merge(E).map(function(R){return R.x}))).range([0,P]);g.domain(p||d3.extent(d3.merge(E).map(function(R){return R.y+(v?R.y0:0)}).concat(f))).range([F,0]);if(h.domain()[0]===h.domain()[1]||g.domain()[0]===g.domain()[1]){singlePoint=true}if(h.domain()[0]===h.domain()[1]){h.domain()[0]?h.domain([h.domain()[0]-h.domain()[0]*0.01,h.domain()[1]+h.domain()[1]*0.01]):h.domain([-1,1])}if(g.domain()[0]===g.domain()[1]){g.domain()[0]?g.domain([g.domain()[0]+g.domain()[0]*0.01,g.domain()[1]-g.domain()[1]*0.01]):g.domain([-1,1])}u=u||h;e=e||g;var D=C.selectAll("g.nv-wrap.nv-multibar").data([M]);var J=D.enter().append("g").attr("class","nvd3 nv-wrap nv-multibar");var G=J.append("defs");var B=J.append("g");var N=D.select("g");B.append("g").attr("class","nv-groups");D.attr("transform","translate("+l.left+","+l.top+")");G.append("clipPath").attr("id","nv-edge-clip-"+n).append("rect");D.select("#nv-edge-clip-"+n+" rect").attr("width",P).attr("height",F);N.attr("clip-path",w?"url(#nv-edge-clip-"+n+")":"");var H=D.select(".nv-groups").selectAll(".nv-group").data(function(R){return R},function(R){return R.key});H.enter().append("g").style("stroke-opacity",0.000001).style("fill-opacity",0.000001);d3.transition(H.exit()).selectAll("rect.nv-bar").delay(function(S,R){return R*z/M[0].values.length}).attr("y",function(R){return v?e(R.y0):e(0)}).attr("height",0).remove();H.attr("class",function(S,R){return"nv-group nv-series-"+R}).classed("hover",function(R){return R.hover}).style("fill",function(S,R){return r(S,R)}).style("stroke",function(S,R){return r(S,R)});d3.transition(H).style("stroke-opacity",1).style("fill-opacity",0.75);var O=H.selectAll("rect.nv-bar").data(function(R){return R.values});O.exit().remove();var y=0;for(var I=0;I<E.length;I+=1){y=Math.max(E[I].length,y)}var K=(P/y)-0.1;var Q=K/M.length;var L=O.enter().append("rect").attr("class",function(S,R){return s(S,R)<0?"nv-bar negative":"nv-bar positive"}).attr("x",function(T,S,R){return v?0:(S*K)+(R*Q)}).attr("y",function(R){return e(v?R.y0:0)}).attr("height",0).attr("width",v?K:Q);O.on("mouseover",function(S,R){d3.select(this).classed("hover",true);A.elementMouseover({value:s(S,R),point:S,series:M[S.series],pos:[h(t(S,R))+(Q*(v?M.length/2:S.series+0.5)/M.length),g(s(S,R)+(v?S.y0:0))],pointIndex:R,seriesIndex:S.series,e:d3.event})}).on("mouseout",function(S,R){d3.select(this).classed("hover",false);A.elementMouseout({value:s(S,R),point:S,series:M[S.series],pointIndex:R,seriesIndex:S.series,e:d3.event})}).on("click",function(S,R){A.elementClick({value:s(S,R),point:S,series:M[S.series],pos:[h(t(S,R))+(Q*(v?M.length/2:S.series+0.5)/M.length),g(s(S,R)+(v?S.y0:0))],pointIndex:R,seriesIndex:S.series,e:d3.event});d3.event.stopPropagation()}).on("dblclick",function(S,R){A.elementDblClick({value:s(S,R),point:S,series:M[S.series],pos:[h(t(S,R))+(Q*(v?M.length/2:S.series+0.5)/M.length),g(s(S,R)+(v?S.y0:0))],pointIndex:R,seriesIndex:S.series,e:d3.event});d3.event.stopPropagation()});O.attr("class",function(S,R){return s(S,R)<0?"nv-bar negative":"nv-bar positive"}).attr("transform",function(S,R){return"translate("+h(t(S,R))+",0)"});if(v){d3.transition(O).delay(function(S,R){return R*z/M[0].values.length}).attr("y",function(S,R){return g(s(S,R)+(v?S.y0:0))}).attr("height",function(S,R){return Math.abs(g(S.y+(v?S.y0:0))-g((v?S.y0:0)))}).each("end",function(){d3.transition(d3.select(this)).attr("x",function(S,R){return v?0:(R*K)+(j*Q)}).attr("width",v?K:Q)})}else{d3.transition(O).delay(function(S,R){return R*z/M[0].values.length}).attr("x",function(S,R){return S.series*Q}).attr("width",Q).each("end",function(){d3.transition(d3.select(this)).attr("y",function(S,R){return s(S,R)<0?g(0):g(s(S,R))}).attr("height",function(S,R){return Math.abs(g(s(S,R))-g(0))})})}u=h.copy();e=g.copy()});return i}i.dispatch=A;i.x=function(x){if(!arguments.length){return t}t=x;return i};i.y=function(x){if(!arguments.length){return s}s=x;return i};i.margin=function(x){if(!arguments.length){return l}l.top=typeof x.top!="undefined"?x.top:l.top;l.right=typeof x.right!="undefined"?x.right:l.right;l.bottom=typeof x.bottom!="undefined"?x.bottom:l.bottom;l.left=typeof x.left!="undefined"?x.left:l.left;return i};i.width=function(x){if(!arguments.length){return o}o=x;return i};i.height=function(x){if(!arguments.length){return m}m=x;return i};i.xScale=function(x){if(!arguments.length){return h}h=x;return i};i.yScale=function(x){if(!arguments.length){return g}g=x;return i};i.xDomain=function(x){if(!arguments.length){return q}q=x;return i};i.yDomain=function(x){if(!arguments.length){return p}p=x;return i};i.forceY=function(x){if(!arguments.length){return f}f=x;return i};i.stacked=function(x){if(!arguments.length){return v}v=x;return i};i.clipEdge=function(x){if(!arguments.length){return w}w=x;return i};i.color=function(x){if(!arguments.length){return r}r=c.utils.getColor(x);return i};i.id=function(x){if(!arguments.length){return n}n=x;return i};i.delay=function(x){if(!arguments.length){return z}z=x;return i};return i};c.models.multiBarTimeSeriesChart=function(){var h=c.models.multiBarTimeSeries(),o=c.models.axis(),e=c.models.axis(),g=c.models.legend(),s=c.models.legend();var u={top:30,right:20,bottom:50,left:60},w=null,v=null,z=c.utils.defaultColor(),B=true,A=true,r=true,i=0,f=true,n=function(E,D,H,G,F){return"<h3>"+E+"</h3><p>"+H+" on "+D+"</p>"},q,p,m="No Data Available.",C=d3.dispatch("tooltipShow","tooltipHide");h.stacked(false);o.orient("bottom").tickPadding(7).highlightZero(false).showMaxMin(false);e.orient("left").tickFormat(d3.format(",.1f"));var l=function(I,E){var H=I.pos[0]+(E.offsetLeft||0),G=I.pos[1]+(E.offsetTop||0),D=o.tickFormat()(h.x()(I.point,I.pointIndex)),J=e.tickFormat()(h.y()(I.point,I.pointIndex)),F=n(I.series.key,D,J,I,t);c.tooltip.show([H,G],F,I.value<0?"n":"s",null,E)};function t(x){x.each(function(I){var D=d3.select(this),L=this;var N=(w||parseInt(D.style("width"))||960)-u.left-u.right,G=(v||parseInt(D.style("height"))||400)-u.top-u.bottom;t.update=function(){x.transition().call(t)};t.container=this;if(!I||!I.length||!I.filter(function(O){return O.values.length}).length){var E=D.selectAll(".nv-noData").data([m]);E.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");E.attr("x",u.left+N/2).attr("y",u.top+G/2).text(function(O){return O});return t}else{D.selectAll(".nv-noData").remove()}q=h.xScale();p=h.yScale();var F=D.selectAll("g.nv-wrap.nv-multiBarWithLegend").data([I]);var y=F.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarWithLegend").append("g");var J=F.select("g");y.append("g").attr("class","nv-x nv-axis");y.append("g").attr("class","nv-y nv-axis");y.append("g").attr("class","nv-barsWrap");y.append("g").attr("class","nv-legendWrap");y.append("g").attr("class","nv-controlsWrap");if(A){g.width(N/2);J.select(".nv-legendWrap").datum(I).call(g);if(u.top!=g.height()){u.top=g.height();G=(v||parseInt(D.style("height"))||400)-u.top-u.bottom}J.select(".nv-legendWrap").attr("transform","translate("+(N/2)+","+(-u.top)+")")}if(B){var M=[{key:"Grouped",disabled:h.stacked()},{key:"Stacked",disabled:!h.stacked()}];s.width(180).color(["#444","#444","#444"]);J.select(".nv-controlsWrap").datum(M).attr("transform","translate(0,"+(-u.top)+")").call(s)}F.attr("transform","translate("+u.left+","+u.top+")");h.width(N).height(G).color(I.map(function(P,O){return P.color||z(P,O)}).filter(function(P,O){return !I[O].disabled}));var K=J.select(".nv-barsWrap").datum(I.filter(function(O){return !O.disabled}));d3.transition(K).call(h);o.scale(q).ticks(N/100).tickSize(-G,0);J.select(".nv-x.nv-axis").attr("transform","translate(0,"+p.range()[0]+")");d3.transition(J.select(".nv-x.nv-axis")).call(o);var H=J.select(".nv-x.nv-axis > g").selectAll("g");H.selectAll("line, text").style("opacity",1);if(r){H.filter(function(P,O){return O%Math.ceil(I[0].values.length/(N/100))!==0}).selectAll("text, line").style("opacity",0)}if(i){H.selectAll("text").attr("transform",function(Q,P,O){return"rotate("+i+" 0,0)"}).attr("text-transform",i>0?"start":"end")}e.scale(p).ticks(G/36).tickSize(-N,0);d3.transition(J.select(".nv-y.nv-axis")).call(e);g.dispatch.on("legendClick",function(P,O){P.disabled=!P.disabled;if(!I.filter(function(Q){return !Q.disabled}).length){I.map(function(Q){Q.disabled=false;F.selectAll(".nv-series").classed("disabled",false);return Q})}x.transition().call(t)});s.dispatch.on("legendClick",function(P,O){if(!P.disabled){return}M=M.map(function(Q){Q.disabled=true;return Q});P.disabled=false;switch(P.key){case"Grouped":h.stacked(false);break;case"Stacked":h.stacked(true);break}x.transition().call(t)});C.on("tooltipShow",function(O){if(f){l(O,L.parentNode)}})});return t}h.dispatch.on("elementMouseover.tooltip",function(x){x.pos=[x.pos[0]+u.left,x.pos[1]+u.top];C.tooltipShow(x)});h.dispatch.on("elementMouseout.tooltip",function(x){C.tooltipHide(x)});C.on("tooltipHide",function(){if(f){c.tooltip.cleanup()}});t.dispatch=C;t.multibar=h;t.legend=g;t.xAxis=o;t.yAxis=e;d3.rebind(t,h,"x","y","xDomain","yDomain","forceX","forceY","clipEdge","id","stacked","delay");t.margin=function(x){if(!arguments.length){return u}u.top=typeof x.top!="undefined"?x.top:u.top;u.right=typeof x.right!="undefined"?x.right:u.right;u.bottom=typeof x.bottom!="undefined"?x.bottom:u.bottom;u.left=typeof x.left!="undefined"?x.left:u.left;return t};t.width=function(x){if(!arguments.length){return w}w=x;return t};t.height=function(x){if(!arguments.length){return v}v=x;return t};t.color=function(x){if(!arguments.length){return z}z=c.utils.getColor(x);g.color(z);return t};t.showControls=function(x){if(!arguments.length){return B}B=x;return t};t.showLegend=function(x){if(!arguments.length){return A}A=x;return t};t.reduceXTicks=function(x){if(!arguments.length){return r}r=x;return t};t.rotateLabels=function(x){if(!arguments.length){return i}i=x;return t};t.tooltip=function(x){if(!arguments.length){return n}n=x;return t};t.tooltips=function(x){if(!arguments.length){return f}f=x;return t};t.tooltipContent=function(x){if(!arguments.length){return n}n=x;return t};t.noData=function(x){if(!arguments.length){return m}m=x;return t};return t};c.models.multiChart=function(){var w={top:30,right:20,bottom:50,left:60},B=d3.scale.category20().range(),A=null,z=null,C=true,h=true,n=function(H,G,K,J,I){return"<h3>"+H+"</h3><p>"+K+" at "+G+"</p>"},u,t;var u=d3.scale.linear(),E=d3.scale.linear(),D=d3.scale.linear(),r=c.models.line().yScale(E),q=c.models.line().yScale(D),l=c.models.multiBar().stacked(false).yScale(E),g=c.models.multiBar().stacked(false).yScale(D),p=c.models.stackedArea().yScale(E),o=c.models.stackedArea().yScale(D),s=c.models.axis().scale(u).orient("bottom").tickPadding(5),f=c.models.axis().scale(E).orient("left"),e=c.models.axis().scale(D).orient("right"),i=c.models.legend().height(30),F=d3.dispatch("tooltipShow","tooltipHide");var m=function(L,H){var K=L.pos[0]+(H.offsetLeft||0),J=L.pos[1]+(H.offsetTop||0),G=s.tickFormat()(r.x()(L.point,L.pointIndex)),M=(L.series.bar?f:e).tickFormat()(r.y()(L.point,L.pointIndex)),I=n(L.series.key,G,M,L,v);c.tooltip.show([K,J],I,undefined,undefined,H.offsetParent)};function v(x){x.each(function(ac){var R=d3.select(this),J=this;var y=(A||parseInt(R.style("width"))||960)-w.left-w.right,H=(z||parseInt(R.style("height"))||400)-w.top-w.bottom;var U=ac.filter(function(ad){return !ad.disabled&&ad.type=="line"&&ad.yAxis==1});var T=ac.filter(function(ad){return !ad.disabled&&ad.type=="line"&&ad.yAxis==2});var Y=ac.filter(function(ad){return !ad.disabled&&ad.type=="bar"&&ad.yAxis==1});var X=ac.filter(function(ad){return !ad.disabled&&ad.type=="bar"&&ad.yAxis==2});var Q=ac.filter(function(ad){return !ad.disabled&&ad.type=="area"&&ad.yAxis==1});var O=ac.filter(function(ad){return !ad.disabled&&ad.type=="area"&&ad.yAxis==2});var L=ac.filter(function(ad){return !ad.disabled&&ad.yAxis==1}).map(function(ad){return ad.values.map(function(af,ae){return{x:af.x,y:af.y}})});var K=ac.filter(function(ad){return !ad.disabled&&ad.yAxis==2}).map(function(ad){return ad.values.map(function(af,ae){return{x:af.x,y:af.y}})});u.domain(d3.extent(d3.merge(L.concat(K)),function(ad){return ad.x})).range([0,y]);var M=R.selectAll("g.wrap.multiChart").data([ac]);var V=M.enter().append("g").attr("class","wrap nvd3 multiChart").append("g");V.append("g").attr("class","x axis");V.append("g").attr("class","y1 axis");V.append("g").attr("class","y2 axis");V.append("g").attr("class","lines1Wrap");V.append("g").attr("class","lines2Wrap");V.append("g").attr("class","bars1Wrap");V.append("g").attr("class","bars2Wrap");V.append("g").attr("class","stack1Wrap");V.append("g").attr("class","stack2Wrap");V.append("g").attr("class","legendWrap");var Z=M.select("g");if(C){i.width(y/2);Z.select(".legendWrap").datum(ac.map(function(ad){ad.originalKey=ad.originalKey===undefined?ad.key:ad.originalKey;
ad.key=ad.originalKey+(ad.yAxis==1?"":" (right axis)");return ad})).call(i);if(w.top!=i.height()){w.top=i.height();H=(z||parseInt(R.style("height"))||400)-w.top-w.bottom}Z.select(".legendWrap").attr("transform","translate("+(y/2)+","+(-w.top)+")")}r.width(y).height(H).interpolate("monotone").color(ac.map(function(ae,ad){return ae.color||B[ad%B.length]}).filter(function(ae,ad){return !ac[ad].disabled&&ac[ad].yAxis==1&&ac[ad].type=="line"}));q.width(y).height(H).interpolate("monotone").color(ac.map(function(ae,ad){return ae.color||B[ad%B.length]}).filter(function(ae,ad){return !ac[ad].disabled&&ac[ad].yAxis==2&&ac[ad].type=="line"}));l.width(y).height(H).color(ac.map(function(ae,ad){return ae.color||B[ad%B.length]}).filter(function(ae,ad){return !ac[ad].disabled&&ac[ad].yAxis==1&&ac[ad].type=="bar"}));g.width(y).height(H).color(ac.map(function(ae,ad){return ae.color||B[ad%B.length]}).filter(function(ae,ad){return !ac[ad].disabled&&ac[ad].yAxis==2&&ac[ad].type=="bar"}));p.width(y).height(H).color(ac.map(function(ae,ad){return ae.color||B[ad%B.length]}).filter(function(ae,ad){return !ac[ad].disabled&&ac[ad].yAxis==1&&ac[ad].type=="area"}));o.width(y).height(H).color(ac.map(function(ae,ad){return ae.color||B[ad%B.length]}).filter(function(ae,ad){return !ac[ad].disabled&&ac[ad].yAxis==2&&ac[ad].type=="area"}));Z.attr("transform","translate("+w.left+","+w.top+")");var G=Z.select(".lines1Wrap").datum(U);var I=Z.select(".bars1Wrap").datum(Y);var ab=Z.select(".stack1Wrap").datum(Q);var W=Z.select(".lines2Wrap").datum(T);var aa=Z.select(".bars2Wrap").datum(X);var S=Z.select(".stack2Wrap").datum(O);var P=Q.length?Q.map(function(ad){return ad.values}).reduce(function(ae,ad){return ae.map(function(af,ag){return{x:af.x,y:af.y+ad[ag].y}})}).concat([{x:0,y:0}]):[];var N=O.length?O.map(function(ad){return ad.values}).reduce(function(ae,ad){return ae.map(function(af,ag){return{x:af.x,y:af.y+ad[ag].y}})}).concat([{x:0,y:0}]):[];E.domain(d3.extent(d3.extent(d3.merge(L).concat(P),function(ad){return ad.y}).concat(r.forceY()))).range([0,H]);D.domain(d3.extent(d3.extent(d3.merge(K).concat(N),function(ad){return ad.y}).concat(q.forceY()))).range([0,H]);r.yDomain(E.domain());l.yDomain(E.domain());p.yDomain(E.domain());q.yDomain(D.domain());g.yDomain(D.domain());o.yDomain(D.domain());if(Q.length){d3.transition(ab).call(p)}if(O.length){d3.transition(S).call(o)}if(Y.length){d3.transition(I).call(l)}if(X.length){d3.transition(aa).call(g)}if(U.length){d3.transition(G).call(r)}if(T.length){d3.transition(W).call(q)}s.ticks(y/100).tickSize(-H,0);Z.select(".x.axis").attr("transform","translate(0,"+H+")");d3.transition(Z.select(".x.axis")).call(s);f.ticks(H/36).tickSize(-y,0);d3.transition(Z.select(".y1.axis")).call(f);e.ticks(H/36).tickSize(-y,0);d3.transition(Z.select(".y2.axis")).call(e);Z.select(".y2.axis").style("opacity",K.length?1:0).attr("transform","translate("+u.range()[1]+",0)");i.dispatch.on("legendClick",function(ae,ad){ae.disabled=!ae.disabled;if(!ac.filter(function(af){return !af.disabled}).length){ac.map(function(af){af.disabled=false;M.selectAll(".series").classed("disabled",false);return af})}x.transition().call(v)});F.on("tooltipShow",function(ad){if(h){m(ad,J.parentNode)}})});v.update=function(){v(x)};v.container=this;return v}r.dispatch.on("elementMouseover.tooltip",function(x){x.pos=[x.pos[0]+w.left,x.pos[1]+w.top];F.tooltipShow(x)});r.dispatch.on("elementMouseout.tooltip",function(x){F.tooltipHide(x)});q.dispatch.on("elementMouseover.tooltip",function(x){x.pos=[x.pos[0]+w.left,x.pos[1]+w.top];F.tooltipShow(x)});q.dispatch.on("elementMouseout.tooltip",function(x){F.tooltipHide(x)});l.dispatch.on("elementMouseover.tooltip",function(x){x.pos=[x.pos[0]+w.left,x.pos[1]+w.top];F.tooltipShow(x)});l.dispatch.on("elementMouseout.tooltip",function(x){F.tooltipHide(x)});g.dispatch.on("elementMouseover.tooltip",function(x){x.pos=[x.pos[0]+w.left,x.pos[1]+w.top];F.tooltipShow(x)});g.dispatch.on("elementMouseout.tooltip",function(x){F.tooltipHide(x)});p.dispatch.on("tooltipShow",function(x){if(!Math.round(p.y()(x.point)*100)){setTimeout(function(){d3.selectAll(".point.hover").classed("hover",false)},0);return false}x.pos=[x.pos[0]+w.left,x.pos[1]+w.top],F.tooltipShow(x)});p.dispatch.on("tooltipHide",function(x){F.tooltipHide(x)});o.dispatch.on("tooltipShow",function(x){if(!Math.round(o.y()(x.point)*100)){setTimeout(function(){d3.selectAll(".point.hover").classed("hover",false)},0);return false}x.pos=[x.pos[0]+w.left,x.pos[1]+w.top],F.tooltipShow(x)});o.dispatch.on("tooltipHide",function(x){F.tooltipHide(x)});r.dispatch.on("elementMouseover.tooltip",function(x){x.pos=[x.pos[0]+w.left,x.pos[1]+w.top];F.tooltipShow(x)});r.dispatch.on("elementMouseout.tooltip",function(x){F.tooltipHide(x)});q.dispatch.on("elementMouseover.tooltip",function(x){x.pos=[x.pos[0]+w.left,x.pos[1]+w.top];F.tooltipShow(x)});q.dispatch.on("elementMouseout.tooltip",function(x){F.tooltipHide(x)});F.on("tooltipHide",function(){if(h){c.tooltip.cleanup()}});v.dispatch=F;v.lines1=r;v.lines2=q;v.bars1=l;v.bars2=g;v.stack1=p;v.stack2=o;v.xAxis=s;v.yAxis1=f;v.yAxis2=e;v.x=function(x){if(!arguments.length){return getX}getX=x;r.x(x);l.x(x);return v};v.y=function(x){if(!arguments.length){return getY}getY=x;r.y(x);l.y(x);return v};v.margin=function(x){if(!arguments.length){return w}w=x;return v};v.width=function(x){if(!arguments.length){return A}A=x;return v};v.height=function(x){if(!arguments.length){return z}z=x;return v};v.color=function(x){if(!arguments.length){return B}B=x;i.color(x);return v};v.showLegend=function(x){if(!arguments.length){return C}C=x;return v};v.tooltips=function(x){if(!arguments.length){return h}h=x;return v};v.tooltipContent=function(x){if(!arguments.length){return n}n=x;return v};return v};c.models.ohlcBar=function(){var p={top:0,right:0,bottom:0,left:0},t=960,q=500,r=Math.floor(Math.random()*10000),l=d3.scale.linear(),i=d3.scale.linear(),z=function(x){return x.x},w=function(x){return x.y},f=function(x){return x.open},e=function(x){return x.close},B=function(x){return x.high},m=function(x){return x.low},h=[],g=[],n=false,A=true,v=c.utils.defaultColor(),u,s,C=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout");function o(x){x.each(function(J){var M=t-p.left-p.right,G=q-p.top-p.bottom,D=d3.select(this);l.domain(u||d3.extent(J[0].values.map(z).concat(h)));if(n){l.range([M*0.5/J[0].values.length,M*(J[0].values.length-0.5)/J[0].values.length])}else{l.range([0,M])}i.domain(s||[d3.min(J[0].values.map(m).concat(g)),d3.max(J[0].values.map(B).concat(g))]).range([G,0]);if(l.domain()[0]===l.domain()[1]||i.domain()[0]===i.domain()[1]){singlePoint=true}if(l.domain()[0]===l.domain()[1]){l.domain()[0]?l.domain([l.domain()[0]-l.domain()[0]*0.01,l.domain()[1]+l.domain()[1]*0.01]):l.domain([-1,1])}if(i.domain()[0]===i.domain()[1]){i.domain()[0]?i.domain([i.domain()[0]+i.domain()[0]*0.01,i.domain()[1]-i.domain()[1]*0.01]):i.domain([-1,1])}var E=d3.select(this).selectAll("g.nv-wrap.nv-ohlcBar").data([J[0].values]);var I=E.enter().append("g").attr("class","nvd3 nv-wrap nv-ohlcBar");var H=I.append("defs");var y=I.append("g");var K=E.select("g");y.append("g").attr("class","nv-ticks");E.attr("transform","translate("+p.left+","+p.top+")");D.on("click",function(O,N){C.chartClick({data:O,index:N,pos:d3.event,id:r})});H.append("clipPath").attr("id","nv-chart-clip-path-"+r).append("rect");E.select("#nv-chart-clip-path-"+r+" rect").attr("width",M).attr("height",G);K.attr("clip-path",A?"url(#nv-chart-clip-path-"+r+")":"");var L=E.select(".nv-ticks").selectAll(".nv-tick").data(function(N){return N});L.exit().remove();var F=L.enter().append("path").attr("class",function(P,O,N){return(f(P,O)>e(P,O)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+N+"-"+O}).attr("d",function(P,O){var N=(M/J[0].values.length)*0.9;return"m0,0l0,"+(i(f(P,O))-i(B(P,O)))+"l"+(-N/2)+",0l"+(N/2)+",0l0,"+(i(m(P,O))-i(f(P,O)))+"l0,"+(i(e(P,O))-i(m(P,O)))+"l"+(N/2)+",0l"+(-N/2)+",0z"}).attr("transform",function(O,N){return"translate("+l(z(O,N))+","+i(B(O,N))+")"}).on("mouseover",function(O,N){d3.select(this).classed("hover",true);C.elementMouseover({point:O,series:J[0],pos:[l(z(O,N)),i(w(O,N))],pointIndex:N,seriesIndex:0,e:d3.event})}).on("mouseout",function(O,N){d3.select(this).classed("hover",false);C.elementMouseout({point:O,series:J[0],pointIndex:N,seriesIndex:0,e:d3.event})}).on("click",function(O,N){C.elementClick({value:w(O,N),data:O,index:N,pos:[l(z(O,N)),i(w(O,N))],e:d3.event,id:r});d3.event.stopPropagation()}).on("dblclick",function(O,N){C.elementDblClick({value:w(O,N),data:O,index:N,pos:[l(z(O,N)),i(w(O,N))],e:d3.event,id:r});d3.event.stopPropagation()});L.attr("class",function(P,O,N){return(f(P,O)>e(P,O)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+N+"-"+O});d3.transition(L).attr("transform",function(O,N){return"translate("+l(z(O,N))+","+i(B(O,N))+")"}).attr("d",function(P,O){var N=(M/J[0].values.length)*0.9;return"m0,0l0,"+(i(f(P,O))-i(B(P,O)))+"l"+(-N/2)+",0l"+(N/2)+",0l0,"+(i(m(P,O))-i(f(P,O)))+"l0,"+(i(e(P,O))-i(m(P,O)))+"l"+(N/2)+",0l"+(-N/2)+",0z"})});return o}o.dispatch=C;o.x=function(x){if(!arguments.length){return z}z=x;return o};o.y=function(x){if(!arguments.length){return w}w=x;return o};o.open=function(x){if(!arguments.length){return f}f=x;return o};o.close=function(x){if(!arguments.length){return e}e=x;return o};o.high=function(x){if(!arguments.length){return B}B=x;return o};o.low=function(x){if(!arguments.length){return m}m=x;return o};o.margin=function(x){if(!arguments.length){return p}p.top=typeof x.top!="undefined"?x.top:p.top;p.right=typeof x.right!="undefined"?x.right:p.right;p.bottom=typeof x.bottom!="undefined"?x.bottom:p.bottom;p.left=typeof x.left!="undefined"?x.left:p.left;return o};o.width=function(x){if(!arguments.length){return t}t=x;return o};o.height=function(x){if(!arguments.length){return q}q=x;return o};o.xScale=function(x){if(!arguments.length){return l}l=x;return o};o.yScale=function(x){if(!arguments.length){return i}i=x;return o};o.xDomain=function(x){if(!arguments.length){return u}u=x;return o};o.yDomain=function(x){if(!arguments.length){return s}s=x;return o};o.forceX=function(x){if(!arguments.length){return h}h=x;return o};o.forceY=function(x){if(!arguments.length){return g}g=x;return o};o.padData=function(x){if(!arguments.length){return n}n=x;return o};o.clipEdge=function(x){if(!arguments.length){return A}A=x;return o};o.color=function(x){if(!arguments.length){return v}v=c.utils.getColor(x);return o};o.id=function(x){if(!arguments.length){return r}r=x;return o};return o};c.models.pie=function(){var l={top:0,right:0,bottom:0,left:0},h=500,w=500,n=function(x){return x.values},v=function(x){return x.x},u=function(x){return x.y},g=Math.floor(Math.random()*10000),m=c.utils.defaultColor(),p=d3.format(",.2f"),r=true,f=false,i=0.02,o=false,t=0.5,e=false,q=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout");function s(x){x.each(function(Q){var y=h-l.left-l.right,B=w-l.top-l.bottom,C=Math.min(y,B)/2,F=C-(C/5),I=d3.select(this);var H=I.selectAll(".nv-wrap.nv-pie").data([n(Q[0])]);var D=H.enter().append("g").attr("class","nvd3 nv-wrap nv-pie nv-chart-"+g);var M=D.append("g");var N=H.select("g");M.append("g").attr("class","nv-pie");H.attr("transform","translate("+l.left+","+l.top+")");N.select(".nv-pie").attr("transform","translate("+y/2+","+B/2+")");I.on("click",function(S,R){q.chartClick({data:S,index:R,pos:d3.event,id:g})});var G=d3.svg.arc().outerRadius(F);if(o){G.innerRadius(C*t)}var J=d3.layout.pie().sort(null).value(function(R){return R.disabled?0:u(R)});var z=H.select(".nv-pie").selectAll(".nv-slice").data(J);z.exit().remove();var P=z.enter().append("g").attr("class","nv-slice").on("mouseover",function(S,R){d3.select(this).classed("hover",true);q.elementMouseover({label:v(S.data),value:u(S.data),point:S.data,pointIndex:R,pos:[d3.event.pageX,d3.event.pageY],id:g})}).on("mouseout",function(S,R){d3.select(this).classed("hover",false);q.elementMouseout({label:v(S.data),value:u(S.data),point:S.data,index:R,id:g})}).on("click",function(S,R){q.elementClick({label:v(S.data),value:u(S.data),point:S.data,index:R,pos:d3.event,id:g});d3.event.stopPropagation()}).on("dblclick",function(S,R){q.elementDblClick({label:v(S.data),value:u(S.data),point:S.data,index:R,pos:d3.event,id:g});d3.event.stopPropagation()});z.attr("fill",function(S,R){return m(S,R)}).attr("stroke",function(S,R){return m(S,R)});var L=P.append("path").each(function(R){this._current=R});d3.transition(z.select("path")).attr("d",G).attrTween("d",A);if(r){var E=G;if(f){E=d3.svg.arc().outerRadius(G.outerRadius())}P.append("g").classed("nv-label",true).each(function(T,R){var S=d3.select(this);S.attr("transform",function(V){if(e){V.outerRadius=F+10;V.innerRadius=F+15;var U=(V.startAngle+V.endAngle)/2*(180/Math.PI);if((V.startAngle+V.endAngle)/2<Math.PI){U-=90}else{U+=90}return"translate("+E.centroid(V)+") rotate("+U+")"}else{V.outerRadius=C+10;V.innerRadius=C+15;return"translate("+E.centroid(V)+")"}});S.append("rect").style("stroke","#fff").style("fill","#fff").attr("rx",3).attr("ry",3);S.append("text").style("text-anchor",e?((T.startAngle+T.endAngle)/2<Math.PI?"start":"end"):"middle").style("fill","#000")});z.select(".nv-label").transition().attr("transform",function(S){if(e){S.outerRadius=F+10;S.innerRadius=F+15;var R=(S.startAngle+S.endAngle)/2*(180/Math.PI);if((S.startAngle+S.endAngle)/2<Math.PI){R-=90}else{R+=90}return"translate("+E.centroid(S)+") rotate("+R+")"}else{S.outerRadius=C+10;S.innerRadius=C+15;return"translate("+E.centroid(S)+")"}});z.each(function(U,R){var T=d3.select(this);T.select(".nv-label text").style("text-anchor",e?((U.startAngle+U.endAngle)/2<Math.PI?"start":"end"):"middle").text(function(X,V){var W=(X.endAngle-X.startAngle)/(2*Math.PI);return(X.value&&W>i)?v(X.data):""});var S=T.select("text").node().getBBox();T.select(".nv-label rect").attr("width",S.width+10).attr("height",S.height+10).attr("transform",function(){return"translate("+[S.x-5,S.y-5]+")"})})}function O(S){var R=(S.startAngle+S.endAngle)*90/Math.PI-90;return R>90?R-180:R}function A(R){if(!o){R.innerRadius=0}var S=d3.interpolate(this._current,R);this._current=S(0);return function(T){return G(S(T))}}function K(R){R.innerRadius=0;var S=d3.interpolate({startAngle:0,endAngle:0},R);return function(T){return G(S(T))}}});return s}s.dispatch=q;s.margin=function(x){if(!arguments.length){return l}l.top=typeof x.top!="undefined"?x.top:l.top;l.right=typeof x.right!="undefined"?x.right:l.right;l.bottom=typeof x.bottom!="undefined"?x.bottom:l.bottom;l.left=typeof x.left!="undefined"?x.left:l.left;return s};s.width=function(x){if(!arguments.length){return h}h=x;return s};s.height=function(x){if(!arguments.length){return w}w=x;return s};s.values=function(x){if(!arguments.length){return n}n=x;return s};s.x=function(x){if(!arguments.length){return v}v=x;return s};s.y=function(x){if(!arguments.length){return u}u=d3.functor(x);return s};s.showLabels=function(x){if(!arguments.length){return r}r=x;return s};s.labelSunbeamLayout=function(x){if(!arguments.length){return e}e=x;return s};s.donutLabelsOutside=function(x){if(!arguments.length){return f}f=x;return s};s.donut=function(x){if(!arguments.length){return o}o=x;return s};s.donutRatio=function(x){if(!arguments.length){return t}t=x;return s};s.id=function(x){if(!arguments.length){return g}g=x;return s};s.color=function(x){if(!arguments.length){return m}m=c.utils.getColor(x);return s};s.valueFormat=function(x){if(!arguments.length){return p}p=x;return s};s.labelThreshold=function(x){if(!arguments.length){return i}i=x;return s};return s};c.models.pieChart=function(){var i=c.models.pie(),o=c.models.legend();var g={top:30,right:20,bottom:20,left:20},f=null,s=null,r=true,h=c.utils.defaultColor(),n=true,t=function(u,x,w,v){return"<h3>"+u+"</h3><p>"+x+"</p>"},e={},q="No Data Available.",l=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState");var p=function(z,u){var x=z.pos[0]+((u&&u.offsetLeft)||0),w=z.pos[1]+((u&&u.offsetTop)||0),A=i.valueFormat()(i.y()(z.point)),v=t(i.x()(z.point),A,z,m);c.tooltip.show([x,w],v,z.value<0?"n":"s",null,u)};function m(u){u.each(function(A){var w=d3.select(this),C=this;var E=(f||parseInt(w.style("width"))||960)-g.left-g.right,z=(s||parseInt(w.style("height"))||400)-g.top-g.bottom;m.update=function(){m(u)};m.container=this;if(!A||!A.length){var x=w.selectAll(".nv-noData").data([q]);x.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");x.attr("x",g.left+E/2).attr("y",g.top+z/2).text(function(F){return F});return m}else{w.selectAll(".nv-noData").remove()}var y=w.selectAll("g.nv-wrap.nv-pieChart").data([A]);var v=y.enter().append("g").attr("class","nvd3 nv-wrap nv-pieChart").append("g");var B=y.select("g");v.append("g").attr("class","nv-pieWrap");v.append("g").attr("class","nv-legendWrap");if(r){o.width(E).key(i.x());y.select(".nv-legendWrap").datum(i.values()(A[0])).call(o);if(g.top!=o.height()){g.top=o.height();z=(s||parseInt(w.style("height"))||400)-g.top-g.bottom}y.select(".nv-legendWrap").attr("transform","translate(0,"+(-g.top)+")")}y.attr("transform","translate("+g.left+","+g.top+")");i.width(E).height(z);var D=B.select(".nv-pieWrap").datum(A);d3.transition(D).call(i);o.dispatch.on("legendClick",function(H,F,G){H.disabled=!H.disabled;if(!i.values()(A[0]).filter(function(I){return !I.disabled}).length){i.values()(A[0]).map(function(I){I.disabled=false;y.selectAll(".nv-series").classed("disabled",false);return I})}e.disabled=A[0].map(function(I){return !!I.disabled});l.stateChange(e);u.transition().call(m)});i.dispatch.on("elementMouseout.tooltip",function(F){l.tooltipHide(F)});l.on("changeState",function(F){if(typeof F.disabled!=="undefined"){A[0].forEach(function(H,G){H.disabled=F.disabled[G]});e.disabled=F.disabled}u.call(m)})});return m}i.dispatch.on("elementMouseover.tooltip",function(u){u.pos=[u.pos[0]+g.left,u.pos[1]+g.top];l.tooltipShow(u)});l.on("tooltipShow",function(u){if(n){p(u)}});l.on("tooltipHide",function(){if(n){c.tooltip.cleanup()}});m.legend=o;m.dispatch=l;m.pie=i;d3.rebind(m,i,"valueFormat","values","x","y","id","showLabels","donutLabelsOutside","donut","donutRatio","labelThreshold");m.margin=function(u){if(!arguments.length){return g}g.top=typeof u.top!="undefined"?u.top:g.top;g.right=typeof u.right!="undefined"?u.right:g.right;g.bottom=typeof u.bottom!="undefined"?u.bottom:g.bottom;g.left=typeof u.left!="undefined"?u.left:g.left;return m};m.width=function(u){if(!arguments.length){return f}f=u;return m};m.height=function(u){if(!arguments.length){return s}s=u;return m};m.color=function(u){if(!arguments.length){return h}h=c.utils.getColor(u);o.color(h);i.color(h);return m};m.showLegend=function(u){if(!arguments.length){return r}r=u;return m};m.tooltips=function(u){if(!arguments.length){return n}n=u;return m};m.tooltipContent=function(u){if(!arguments.length){return t}t=u;return m};m.state=function(u){if(!arguments.length){return e}e=u;return m};m.noData=function(u){if(!arguments.length){return q}q=u;return m};return m};c.models.scatter=function(){var v={top:0,right:0,bottom:0,left:0},E=960,A=500,G=c.utils.defaultColor(),B=Math.floor(Math.random()*100000),o=d3.scale.linear(),n=d3.scale.linear(),m=d3.scale.linear(),K=function(x){return x.x},I=function(x){return x.y},e=function(x){return x.size||1},s=function(x){return x.shape||"circle"},P=true,h=[],g=[],l=[],L=true,w=function(x){return !x.notActive},r=false,N=false,u=true,H=function(){return 25},F=null,D=null,M=null,q=null,C=false,Q=d3.dispatch("elementClick","elementMouseover","elementMouseout"),O=true;var J,f,p,R,i=false;function t(x){x.each(function(Y){var ac=E-v.left-v.right,U=A-v.top-v.bottom,z=d3.select(this);Y=Y.map(function(ae,ad){ae.values=ae.values.map(function(af){af.series=ad;return af});return ae});var T=(F&&D&&M)?[]:d3.merge(Y.map(function(ad){return ad.values.map(function(af,ae){return{x:K(af,ae),y:I(af,ae),size:e(af,ae)}})}));o.domain(F||d3.extent(T.map(function(ad){return ad.x}).concat(h)));if(r){o.range([ac*0.5/Y[0].values.length,ac*(Y[0].values.length-0.5)/Y[0].values.length])}else{o.range([0,ac])}n.domain(D||d3.extent(T.map(function(ad){return ad.y}).concat(g))).range([U,0]);m.domain(M||d3.extent(T.map(function(ad){return ad.size}).concat(l))).range(q||[16,256]);if(o.domain()[0]===o.domain()[1]||n.domain()[0]===n.domain()[1]){C=true}if(o.domain()[0]===o.domain()[1]){o.domain()[0]?o.domain([o.domain()[0]-o.domain()[0]*0.01,o.domain()[1]+o.domain()[1]*0.01]):o.domain([-1,1])}if(n.domain()[0]===n.domain()[1]){n.domain()[0]?n.domain([n.domain()[0]+n.domain()[0]*0.01,n.domain()[1]-n.domain()[1]*0.01]):n.domain([-1,1])}J=J||o;f=f||n;p=p||m;var S=z.selectAll("g.nv-wrap.nv-scatter").data([Y]);var X=S.enter().append("g").attr("class","nvd3 nv-wrap nv-scatter nv-chart-"+B+(C?" nv-single-point":""));var V=X.append("defs");var y=X.append("g");var Z=S.select("g");y.append("g").attr("class","nv-groups");y.append("g").attr("class","nv-point-paths");S.attr("transform","translate("+v.left+","+v.top+")");V.append("clipPath").attr("id","nv-edge-clip-"+B).append("rect");S.select("#nv-edge-clip-"+B+" rect").attr("width",ac).attr("height",U);Z.attr("clip-path",N?"url(#nv-edge-clip-"+B+")":"");function aa(){if(!L){return false}var af;var ae=d3.merge(Y.map(function(al,ak){return al.values.map(function(am,an){return[o(K(am,an))*(Math.random()/1000000000000+1),n(I(am,an))*(Math.random()/1000000000000+1),ak,an,am]}).filter(function(am,an){return w(am[4],an)})}));if(O===true){if(u){var ai=S.select("defs").selectAll(".nv-point-clips").data([B]).enter();ai.append("clipPath").attr("class","nv-point-clips").attr("id","nv-points-clip-"+B);var ag=S.select("#nv-points-clip-"+B).selectAll("circle").data(ae);ag.enter().append("circle").attr("r",H);ag.exit().remove();ag.attr("cx",function(ak){return ak[0]}).attr("cy",function(ak){return ak[1]});S.select(".nv-point-paths").attr("clip-path","url(#nv-points-clip-"+B+")")}if(ae.length<3){ae.push([o.range()[0]-20,n.range()[0]-20,null,null]);ae.push([o.range()[1]+20,n.range()[1]+20,null,null]);ae.push([o.range()[0]-20,n.range()[0]+20,null,null]);ae.push([o.range()[1]+20,n.range()[1]-20,null,null])}var ah=d3.geom.polygon([[-10,-10],[-10,A+10],[E+10,A+10],[E+10,-10]]);var aj=d3.geom.voronoi(ae).map(function(al,ak){return{data:ah.clip(al),series:ae[ak][2],point:ae[ak][3]}}).filter(function(ak){return ak.data.length>0});var ad=S.select(".nv-point-paths").selectAll("path").data(aj);ad.enter().append("path").attr("class",function(al,ak){return"nv-path-"+ak});ad.exit().remove();ad.filter(function(ak){return ak.data.length>0}).attr("d",function(ak){return"M"+ak.data.join("L")+"Z"});ad.on("click",function(am){if(i){return 0}var al=Y[am.series],ak=al.values[am.point];Q.elementClick({point:ak,series:al,pos:[o(K(ak,am.point))+v.left,n(I(ak,am.point))+v.top],seriesIndex:am.series,pointIndex:am.point,e:d3.event})}).on("mouseover",function(am){if(i){return 0}var al=Y[am.series],ak=al.values[am.point];Q.elementMouseover({point:ak,series:al,pos:[o(K(ak,am.point))+v.left,n(I(ak,am.point))+v.top],seriesIndex:am.series,pointIndex:am.point,e:d3.event})}).on("mouseout",function(an,am){if(i){return 0}var al=Y[an.series],ak=al.values[an.point];Q.elementMouseout({point:ak,series:al,seriesIndex:an.series,pointIndex:an.point,e:d3.event})})}else{S.select(".nv-groups").selectAll(".nv-group").selectAll(".nv-point").on("click",function(an,am){if(i){return 0}var al=Y[an.series],ak=al.values[am];Q.elementClick({point:ak,series:al,pos:[o(K(ak,am))+v.left,n(I(ak,am))+v.top],seriesIndex:an.series,pointIndex:am,e:d3.event})}).on("mouseover",function(an,am){if(i){return 0}var al=Y[an.series],ak=al.values[am];Q.elementMouseover({point:ak,series:al,pos:[o(K(ak,am))+v.left,n(I(ak,am))+v.top],seriesIndex:an.series,pointIndex:am,e:d3.event})}).on("mouseout",function(an,am){if(i){return 0}var al=Y[an.series],ak=al.values[am];Q.elementMouseout({point:ak,series:al,seriesIndex:an.series,pointIndex:am,e:d3.event})})}i=false}i=true;var W=S.select(".nv-groups").selectAll(".nv-group").data(function(ad){return ad},function(ad){return ad.key});W.enter().append("g").style("stroke-opacity",0.000001).style("fill-opacity",0.000001);d3.transition(W.exit()).style("stroke-opacity",0.000001).style("fill-opacity",0.000001).remove();W.attr("class",function(ae,ad){return"nv-group nv-series-"+ad}).classed("hover",function(ad){return ad.hover});d3.transition(W).style("fill",function(ae,ad){return G(ae,ad)}).style("stroke",function(ae,ad){return G(ae,ad)}).style("stroke-opacity",1).style("fill-opacity",0.5);if(P){var ab=W.selectAll("circle.nv-point").data(function(ad){return ad.values});ab.enter().append("circle").attr("cx",function(ae,ad){return J(K(ae,ad))}).attr("cy",function(ae,ad){return f(I(ae,ad))}).attr("r",function(ae,ad){return Math.sqrt(m(e(ae,ad))/Math.PI)});ab.exit().remove();d3.transition(W.exit().selectAll("path.nv-point")).attr("cx",function(ae,ad){return o(K(ae,ad))}).attr("cy",function(ae,ad){return n(I(ae,ad))}).remove();ab.attr("class",function(ae,ad){return"nv-point nv-point-"+ad});d3.transition(ab).attr("cx",function(ae,ad){return o(K(ae,ad))}).attr("cy",function(ae,ad){return n(I(ae,ad))}).attr("r",function(ae,ad){return Math.sqrt(m(e(ae,ad))/Math.PI)})}else{var ab=W.selectAll("path.nv-point").data(function(ad){return ad.values});ab.enter().append("path").attr("transform",function(ae,ad){return"translate("+J(K(ae,ad))+","+f(I(ae,ad))+")"}).attr("d",d3.svg.symbol().type(s).size(function(ae,ad){return m(e(ae,ad))}));ab.exit().remove();d3.transition(W.exit().selectAll("path.nv-point")).attr("transform",function(ae,ad){return"translate("+o(K(ae,ad))+","+n(I(ae,ad))+")"}).remove();ab.attr("class",function(ae,ad){return"nv-point nv-point-"+ad});d3.transition(ab).attr("transform",function(ae,ad){return"translate("+o(K(ae,ad))+","+n(I(ae,ad))+")"}).attr("d",d3.svg.symbol().type(s).size(function(ae,ad){return m(e(ae,ad))}))}clearTimeout(R);R=setTimeout(aa,300);J=o.copy();f=n.copy();p=m.copy()});return t}Q.on("elementMouseover.point",function(x){if(L){d3.select(".nv-chart-"+B+" .nv-series-"+x.seriesIndex+" .nv-point-"+x.pointIndex).classed("hover",true)}});Q.on("elementMouseout.point",function(x){if(L){d3.select(".nv-chart-"+B+" .nv-series-"+x.seriesIndex+" .nv-point-"+x.pointIndex).classed("hover",false)}});t.dispatch=Q;t.x=function(x){if(!arguments.length){return K}K=d3.functor(x);return t};t.y=function(x){if(!arguments.length){return I}I=d3.functor(x);return t};t.size=function(x){if(!arguments.length){return e}e=d3.functor(x);return t};t.margin=function(x){if(!arguments.length){return v}v.top=typeof x.top!="undefined"?x.top:v.top;v.right=typeof x.right!="undefined"?x.right:v.right;v.bottom=typeof x.bottom!="undefined"?x.bottom:v.bottom;v.left=typeof x.left!="undefined"?x.left:v.left;return t};t.width=function(x){if(!arguments.length){return E}E=x;return t};t.height=function(x){if(!arguments.length){return A}A=x;return t};t.xScale=function(x){if(!arguments.length){return o}o=x;return t};t.yScale=function(x){if(!arguments.length){return n}n=x;return t};t.zScale=function(x){if(!arguments.length){return m}m=x;return t};t.xDomain=function(x){if(!arguments.length){return F}F=x;return t};t.yDomain=function(x){if(!arguments.length){return D}D=x;return t};t.sizeDomain=function(x){if(!arguments.length){return M}M=x;return t};t.sizeRange=function(x){if(!arguments.length){return q}q=x;return t};t.forceX=function(x){if(!arguments.length){return h}h=x;return t};t.forceY=function(x){if(!arguments.length){return g}g=x;return t};t.forceSize=function(x){if(!arguments.length){return l}l=x;return t};t.interactive=function(x){if(!arguments.length){return L}L=x;return t};t.pointActive=function(x){if(!arguments.length){return w}w=x;return t};t.padData=function(x){if(!arguments.length){return r}r=x;return t};t.clipEdge=function(x){if(!arguments.length){return N}N=x;return t};t.clipVoronoi=function(x){if(!arguments.length){return u}u=x;return t};t.useVoronoi=function(x){if(!arguments.length){return O}O=x;if(O===false){u=false}return t};t.clipRadius=function(x){if(!arguments.length){return H}H=x;return t};t.color=function(x){if(!arguments.length){return G}G=c.utils.getColor(x);return t};t.shape=function(x){if(!arguments.length){return s}s=x;return t};t.onlyCircles=function(x){if(!arguments.length){return P}P=x;return t};t.id=function(x){if(!arguments.length){return B}B=x;return t};t.singlePoint=function(x){if(!arguments.length){return C}C=x;return t};return t};c.models.scatterChart=function(){var u=c.models.scatter(),r=c.models.axis(),f=c.models.axis(),i=c.models.legend(),v=c.models.legend(),B=c.models.distribution(),z=c.models.distribution();var C={top:30,right:20,bottom:50,left:75},H=null,D=null,I=c.utils.defaultColor(),t=d3.fisheye?d3.fisheye.scale(d3.scale.linear).distortion(0):u.xScale(),s=d3.fisheye?d3.fisheye.scale(d3.scale.linear).distortion(0):u.yScale(),w=0,g=0,e=false,O=false,L=true,M=!!d3.fisheye,G=0,J=false,h=true,F=function(Q,P,R){return"<strong>"+P+"</strong>"},E=function(Q,P,R){return"<strong>"+R+"</strong>"},p=null,N=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),n="No Data Available.";u.xScale(t).yScale(s);r.orient("bottom").tickPadding(10);f.orient("left").tickPadding(10);B.axis("x");z.axis("y");var o={},K,l;var m=function(S,V){var Q=S.pos[0]+(V.offsetLeft||0),U=S.pos[1]+(V.offsetTop||0),R=S.pos[0]+(V.offsetLeft||0),y=s.range()[0]+C.top+(V.offsetTop||0),P=t.range()[0]+C.left+(V.offsetLeft||0),x=S.pos[1]+(V.offsetTop||0),W=r.tickFormat()(u.x()(S.point,S.pointIndex)),T=f.tickFormat()(u.y()(S.point,S.pointIndex));if(F!=null){c.tooltip.show([R,y],F(S.series.key,W,T,S,A),"n",1,V,"x-nvtooltip")}if(E!=null){c.tooltip.show([P,x],E(S.series.key,W,T,S,A),"e",1,V,"y-nvtooltip")}if(p!=null){c.tooltip.show([Q,U],p(S.series.key,W,T,S,A),S.value<0?"n":"s",null,V)}};var q=[{key:"Magnify",disabled:true}];function A(x){x.each(function(X){var R=d3.select(this),Z=this;var aa=(H||parseInt(R.style("width"))||960)-C.left-C.right,U=(D||parseInt(R.style("height"))||400)-C.top-C.bottom;A.update=function(){A(x)};A.container=this;if(!X||!X.length||!X.filter(function(ab){return ab.values.length}).length){var S=R.selectAll(".nv-noData").data([n]);S.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");S.attr("x",C.left+aa/2).attr("y",C.top+U/2).text(function(ab){return ab});return A}else{R.selectAll(".nv-noData").remove()}K=K||t;l=l||s;var T=R.selectAll("g.nv-wrap.nv-scatterChart").data([X]);var V=T.enter().append("g").attr("class","nvd3 nv-wrap nv-scatterChart nv-chart-"+u.id());var P=V.append("g");var Y=T.select("g");P.append("rect").attr("class","nvd3 nv-background");P.append("g").attr("class","nv-x nv-axis");P.append("g").attr("class","nv-y nv-axis");P.append("g").attr("class","nv-scatterWrap");P.append("g").attr("class","nv-distWrap");P.append("g").attr("class","nv-legendWrap");P.append("g").attr("class","nv-controlsWrap");if(L){i.width(aa/2);T.select(".nv-legendWrap").datum(X).call(i);if(C.top!=i.height()){C.top=i.height();U=(D||parseInt(R.style("height"))||400)-C.top-C.bottom}T.select(".nv-legendWrap").attr("transform","translate("+(aa/2)+","+(-C.top)+")")}if(M){v.width(180).color(["#444"]);Y.select(".nv-controlsWrap").datum(q).attr("transform","translate(0,"+(-C.top)+")").call(v)}T.attr("transform","translate("+C.left+","+C.top+")");u.width(aa).height(U).color(X.map(function(ac,ab){return ac.color||I(ac,ab)}).filter(function(ac,ab){return !X[ab].disabled}));T.select(".nv-scatterWrap").datum(X.filter(function(ab){return !ab.disabled})).call(u);if(w){var y=t.domain()[1]-t.domain()[0];t.domain([t.domain()[0]-(w*y),t.domain()[1]+(w*y)])}if(g){var W=s.domain()[1]-s.domain()[0];s.domain([s.domain()[0]-(g*W),s.domain()[1]+(g*W)])}r.scale(t).ticks(r.ticks()&&r.ticks().length?r.ticks():aa/100).tickSize(-U,0);Y.select(".nv-x.nv-axis").attr("transform","translate(0,"+s.range()[0]+")").call(r);f.scale(s).ticks(f.ticks()&&f.ticks().length?f.ticks():U/36).tickSize(-aa,0);Y.select(".nv-y.nv-axis").call(f);if(e){B.getData(u.x()).scale(t).width(aa).color(X.map(function(ac,ab){return ac.color||I(ac,ab)}).filter(function(ac,ab){return !X[ab].disabled}));P.select(".nv-distWrap").append("g").attr("class","nv-distributionX");Y.select(".nv-distributionX").attr("transform","translate(0,"+s.range()[0]+")").datum(X.filter(function(ab){return !ab.disabled})).call(B)}if(O){z.getData(u.y()).scale(s).width(U).color(X.map(function(ac,ab){return ac.color||I(ac,ab)}).filter(function(ac,ab){return !X[ab].disabled}));P.select(".nv-distWrap").append("g").attr("class","nv-distributionY");Y.select(".nv-distributionY").attr("transform","translate(-"+z.size()+",0)").datum(X.filter(function(ab){return !ab.disabled
})).call(z)}if(d3.fisheye){Y.select(".nv-background").attr("width",aa).attr("height",U);Y.select(".nv-background").on("mousemove",Q);Y.select(".nv-background").on("click",function(){J=!J});u.dispatch.on("elementClick.freezeFisheye",function(){J=!J})}function Q(){if(J){Y.select(".nv-point-paths").style("pointer-events","all");return false}Y.select(".nv-point-paths").style("pointer-events","none");var ab=d3.mouse(this);t.distortion(G).focus(ab[0]);s.distortion(G).focus(ab[1]);Y.select(".nv-scatterWrap").datum(X.filter(function(ac){return !ac.disabled})).call(u);Y.select(".nv-x.nv-axis").call(r);Y.select(".nv-y.nv-axis").call(f);Y.select(".nv-distributionX").datum(X.filter(function(ac){return !ac.disabled})).call(B);Y.select(".nv-distributionY").datum(X.filter(function(ac){return !ac.disabled})).call(z)}v.dispatch.on("legendClick",function(ac,ab){ac.disabled=!ac.disabled;G=ac.disabled?0:2.5;Y.select(".nv-background").style("pointer-events",ac.disabled?"none":"all");Y.select(".nv-point-paths").style("pointer-events",ac.disabled?"all":"none");if(ac.disabled){t.distortion(G).focus(0);s.distortion(G).focus(0);Y.select(".nv-scatterWrap").call(u);Y.select(".nv-x.nv-axis").call(r);Y.select(".nv-y.nv-axis").call(f)}else{J=false}A(x)});i.dispatch.on("legendClick",function(ad,ab,ac){ad.disabled=!ad.disabled;if(!X.filter(function(ae){return !ae.disabled}).length){X.map(function(ae){ae.disabled=false;T.selectAll(".nv-series").classed("disabled",false);return ae})}o.disabled=X.map(function(ae){return !!ae.disabled});N.stateChange(o);A(x)});u.dispatch.on("elementMouseover.tooltip",function(ab){d3.select(".nv-chart-"+u.id()+" .nv-series-"+ab.seriesIndex+" .nv-distx-"+ab.pointIndex).attr("y1",ab.pos[1]-U);d3.select(".nv-chart-"+u.id()+" .nv-series-"+ab.seriesIndex+" .nv-disty-"+ab.pointIndex).attr("x2",ab.pos[0]+B.size());ab.pos=[ab.pos[0]+C.left,ab.pos[1]+C.top];N.tooltipShow(ab)});N.on("tooltipShow",function(ab){if(h){m(ab,Z.parentNode)}});N.on("changeState",function(ab){if(typeof ab.disabled!=="undefined"){X.forEach(function(ad,ac){ad.disabled=ab.disabled[ac]});o.disabled=ab.disabled}x.call(A)});K=t.copy();l=s.copy()});return A}u.dispatch.on("elementMouseout.tooltip",function(x){N.tooltipHide(x);d3.select(".nv-chart-"+u.id()+" .nv-series-"+x.seriesIndex+" .nv-distx-"+x.pointIndex).attr("y1",0);d3.select(".nv-chart-"+u.id()+" .nv-series-"+x.seriesIndex+" .nv-disty-"+x.pointIndex).attr("x2",z.size())});N.on("tooltipHide",function(){if(h){c.tooltip.cleanup()}});A.dispatch=N;A.scatter=u;A.legend=i;A.controls=v;A.xAxis=r;A.yAxis=f;A.distX=B;A.distY=z;d3.rebind(A,u,"id","interactive","pointActive","x","y","shape","size","xScale","yScale","zScale","xDomain","yDomain","sizeDomain","sizeRange","forceX","forceY","forceSize","clipVoronoi","clipRadius","useVoronoi");A.margin=function(x){if(!arguments.length){return C}C.top=typeof x.top!="undefined"?x.top:C.top;C.right=typeof x.right!="undefined"?x.right:C.right;C.bottom=typeof x.bottom!="undefined"?x.bottom:C.bottom;C.left=typeof x.left!="undefined"?x.left:C.left;return A};A.width=function(x){if(!arguments.length){return H}H=x;return A};A.height=function(x){if(!arguments.length){return D}D=x;return A};A.color=function(x){if(!arguments.length){return I}I=c.utils.getColor(x);i.color(I);B.color(I);z.color(I);return A};A.showDistX=function(x){if(!arguments.length){return e}e=x;return A};A.showDistY=function(x){if(!arguments.length){return O}O=x;return A};A.showControls=function(x){if(!arguments.length){return M}M=x;return A};A.showLegend=function(x){if(!arguments.length){return L}L=x;return A};A.fisheye=function(x){if(!arguments.length){return G}G=x;return A};A.xPadding=function(x){if(!arguments.length){return w}w=x;return A};A.yPadding=function(x){if(!arguments.length){return g}g=x;return A};A.tooltips=function(x){if(!arguments.length){return h}h=x;return A};A.tooltipContent=function(x){if(!arguments.length){return p}p=x;return A};A.tooltipXContent=function(x){if(!arguments.length){return F}F=x;return A};A.tooltipYContent=function(x){if(!arguments.length){return E}E=x;return A};A.state=function(x){if(!arguments.length){return o}o=x;return A};A.noData=function(x){if(!arguments.length){return n}n=x;return A};return A};c.models.scatterPlusLineChart=function(){var t=c.models.scatter(),q=c.models.axis(),f=c.models.axis(),h=c.models.legend(),u=c.models.legend(),z=c.models.distribution(),v=c.models.distribution();var A={top:30,right:20,bottom:50,left:75},F=null,B=null,G=c.utils.defaultColor(),s=d3.fisheye?d3.fisheye.scale(d3.scale.linear).distortion(0):t.xScale(),r=d3.fisheye?d3.fisheye.scale(d3.scale.linear).distortion(0):t.yScale(),e=false,M=false,J=true,K=!!d3.fisheye,E=0,H=false,g=true,D=function(O,N,P){return"<strong>"+N+"</strong>"},C=function(O,N,P){return"<strong>"+P+"</strong>"},o=function(P,N,Q,O){return"<h3>"+P+"</h3><p>"+O+"</p>"},L=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),m="No Data Available.";t.xScale(s).yScale(r);q.orient("bottom").tickPadding(10);f.orient("left").tickPadding(10);z.axis("x");v.axis("y");var n={},I,i;var l=function(Q,T){var O=Q.pos[0]+(T.offsetLeft||0),S=Q.pos[1]+(T.offsetTop||0),P=Q.pos[0]+(T.offsetLeft||0),y=r.range()[0]+A.top+(T.offsetTop||0),N=s.range()[0]+A.left+(T.offsetLeft||0),x=Q.pos[1]+(T.offsetTop||0),U=q.tickFormat()(t.x()(Q.point,Q.pointIndex)),R=f.tickFormat()(t.y()(Q.point,Q.pointIndex));if(D!=null){c.tooltip.show([P,y],D(Q.series.key,U,R,Q,w),"n",1,T,"x-nvtooltip")}if(C!=null){c.tooltip.show([N,x],C(Q.series.key,U,R,Q,w),"e",1,T,"y-nvtooltip")}if(o!=null){c.tooltip.show([O,S],o(Q.series.key,U,R,Q.point.tooltip,Q,w),Q.value<0?"n":"s",null,T)}};var p=[{key:"Magnify",disabled:true}];function w(x){x.each(function(U){var O=d3.select(this),W=this;var Y=(F||parseInt(O.style("width"))||960)-A.left-A.right,R=(B||parseInt(O.style("height"))||400)-A.top-A.bottom;w.update=function(){w(x)};w.container=this;if(!U||!U.length||!U.filter(function(Z){return Z.values.length}).length){var P=O.selectAll(".nv-noData").data([m]);P.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");P.attr("x",A.left+Y/2).attr("y",A.top+R/2).text(function(Z){return Z});return w}else{O.selectAll(".nv-noData").remove()}s=t.xScale();r=t.yScale();I=I||s;i=i||r;var Q=O.selectAll("g.nv-wrap.nv-scatterChart").data([U]);var S=Q.enter().append("g").attr("class","nvd3 nv-wrap nv-scatterChart nv-chart-"+t.id());var y=S.append("g");var V=Q.select("g");y.append("rect").attr("class","nvd3 nv-background");y.append("g").attr("class","nv-x nv-axis");y.append("g").attr("class","nv-y nv-axis");y.append("g").attr("class","nv-scatterWrap");y.append("g").attr("class","nv-regressionLinesWrap");y.append("g").attr("class","nv-distWrap");y.append("g").attr("class","nv-legendWrap");y.append("g").attr("class","nv-controlsWrap");Q.attr("transform","translate("+A.left+","+A.top+")");if(J){h.width(Y/2);Q.select(".nv-legendWrap").datum(U).call(h);if(A.top!=h.height()){A.top=h.height();R=(B||parseInt(O.style("height"))||400)-A.top-A.bottom}Q.select(".nv-legendWrap").attr("transform","translate("+(Y/2)+","+(-A.top)+")")}if(K){u.width(180).color(["#444"]);V.select(".nv-controlsWrap").datum(p).attr("transform","translate(0,"+(-A.top)+")").call(u)}t.width(Y).height(R).color(U.map(function(aa,Z){return aa.color||G(aa,Z)}).filter(function(aa,Z){return !U[Z].disabled}));Q.select(".nv-scatterWrap").datum(U.filter(function(Z){return !Z.disabled})).call(t);Q.select(".nv-regressionLinesWrap").attr("clip-path","url(#nv-edge-clip-"+t.id()+")");var T=Q.select(".nv-regressionLinesWrap").selectAll(".nv-regLines").data(function(Z){return Z});var X=T.enter().append("g").attr("class","nv-regLines").append("line").attr("class","nv-regLine").style("stroke-opacity",0);T.selectAll(".nv-regLines line").attr("x1",s.range()[0]).attr("x2",s.range()[1]).attr("y1",function(aa,Z){return r(s.domain()[0]*aa.slope+aa.intercept)}).attr("y2",function(aa,Z){return r(s.domain()[1]*aa.slope+aa.intercept)}).style("stroke",function(ab,aa,Z){return G(ab,Z)}).style("stroke-opacity",function(aa,Z){return(aa.disabled||typeof aa.slope==="undefined"||typeof aa.intercept==="undefined")?0:1});q.scale(s).ticks(q.ticks()?q.ticks():Y/100).tickSize(-R,0);V.select(".nv-x.nv-axis").attr("transform","translate(0,"+r.range()[0]+")").call(q);f.scale(r).ticks(f.ticks()?f.ticks():R/36).tickSize(-Y,0);V.select(".nv-y.nv-axis").call(f);if(e){z.getData(t.x()).scale(s).width(Y).color(U.map(function(aa,Z){return aa.color||G(aa,Z)}).filter(function(aa,Z){return !U[Z].disabled}));y.select(".nv-distWrap").append("g").attr("class","nv-distributionX");V.select(".nv-distributionX").attr("transform","translate(0,"+r.range()[0]+")").datum(U.filter(function(Z){return !Z.disabled})).call(z)}if(M){v.getData(t.y()).scale(r).width(R).color(U.map(function(aa,Z){return aa.color||G(aa,Z)}).filter(function(aa,Z){return !U[Z].disabled}));y.select(".nv-distWrap").append("g").attr("class","nv-distributionY");V.select(".nv-distributionY").attr("transform","translate(-"+v.size()+",0)").datum(U.filter(function(Z){return !Z.disabled})).call(v)}if(d3.fisheye){V.select(".nv-background").attr("width",Y).attr("height",R);V.select(".nv-background").on("mousemove",N);V.select(".nv-background").on("click",function(){H=!H});t.dispatch.on("elementClick.freezeFisheye",function(){H=!H})}function N(){if(H){V.select(".nv-point-paths").style("pointer-events","all");return false}V.select(".nv-point-paths").style("pointer-events","none");var Z=d3.mouse(this);s.distortion(E).focus(Z[0]);r.distortion(E).focus(Z[1]);V.select(".nv-scatterWrap").datum(U.filter(function(aa){return !aa.disabled})).call(t);V.select(".nv-x.nv-axis").call(q);V.select(".nv-y.nv-axis").call(f);V.select(".nv-distributionX").datum(U.filter(function(aa){return !aa.disabled})).call(z);V.select(".nv-distributionY").datum(U.filter(function(aa){return !aa.disabled})).call(v)}u.dispatch.on("legendClick",function(aa,Z){aa.disabled=!aa.disabled;E=aa.disabled?0:2.5;V.select(".nv-background").style("pointer-events",aa.disabled?"none":"all");V.select(".nv-point-paths").style("pointer-events",aa.disabled?"all":"none");if(aa.disabled){s.distortion(E).focus(0);r.distortion(E).focus(0);V.select(".nv-scatterWrap").call(t);V.select(".nv-x.nv-axis").call(q);V.select(".nv-y.nv-axis").call(f)}else{H=false}w(x)});h.dispatch.on("legendClick",function(ab,Z,aa){ab.disabled=!ab.disabled;if(!U.filter(function(ac){return !ac.disabled}).length){U.map(function(ac){ac.disabled=false;Q.selectAll(".nv-series").classed("disabled",false);return ac})}n.disabled=U.map(function(ac){return !!ac.disabled});L.stateChange(n);w(x)});t.dispatch.on("elementMouseover.tooltip",function(Z){d3.select(".nv-chart-"+t.id()+" .nv-series-"+Z.seriesIndex+" .nv-distx-"+Z.pointIndex).attr("y1",Z.pos[1]-R);d3.select(".nv-chart-"+t.id()+" .nv-series-"+Z.seriesIndex+" .nv-disty-"+Z.pointIndex).attr("x2",Z.pos[0]+z.size());Z.pos=[Z.pos[0]+A.left,Z.pos[1]+A.top];L.tooltipShow(Z)});L.on("tooltipShow",function(Z){if(g){l(Z,W.parentNode)}});L.on("changeState",function(Z){if(typeof Z.disabled!=="undefined"){U.forEach(function(ab,aa){ab.disabled=Z.disabled[aa]});n.disabled=Z.disabled}x.call(w)});I=s.copy();i=r.copy()});return w}t.dispatch.on("elementMouseout.tooltip",function(x){L.tooltipHide(x);d3.select(".nv-chart-"+t.id()+" .nv-series-"+x.seriesIndex+" .nv-distx-"+x.pointIndex).attr("y1",0);d3.select(".nv-chart-"+t.id()+" .nv-series-"+x.seriesIndex+" .nv-disty-"+x.pointIndex).attr("x2",v.size())});L.on("tooltipHide",function(){if(g){c.tooltip.cleanup()}});w.dispatch=L;w.scatter=t;w.legend=h;w.controls=u;w.xAxis=q;w.yAxis=f;w.distX=z;w.distY=v;d3.rebind(w,t,"id","interactive","pointActive","x","y","shape","size","xScale","yScale","zScale","xDomain","yDomain","sizeDomain","sizeRange","forceX","forceY","forceSize","clipVoronoi","clipRadius","useVoronoi");w.margin=function(x){if(!arguments.length){return A}A.top=typeof x.top!="undefined"?x.top:A.top;A.right=typeof x.right!="undefined"?x.right:A.right;A.bottom=typeof x.bottom!="undefined"?x.bottom:A.bottom;A.left=typeof x.left!="undefined"?x.left:A.left;return w};w.width=function(x){if(!arguments.length){return F}F=x;return w};w.height=function(x){if(!arguments.length){return B}B=x;return w};w.color=function(x){if(!arguments.length){return G}G=c.utils.getColor(x);h.color(G);z.color(G);v.color(G);return w};w.showDistX=function(x){if(!arguments.length){return e}e=x;return w};w.showDistY=function(x){if(!arguments.length){return M}M=x;return w};w.showControls=function(x){if(!arguments.length){return K}K=x;return w};w.showLegend=function(x){if(!arguments.length){return J}J=x;return w};w.fisheye=function(x){if(!arguments.length){return E}E=x;return w};w.tooltips=function(x){if(!arguments.length){return g}g=x;return w};w.tooltipContent=function(x){if(!arguments.length){return o}o=x;return w};w.tooltipXContent=function(x){if(!arguments.length){return D}D=x;return w};w.tooltipYContent=function(x){if(!arguments.length){return C}C=x;return w};w.state=function(x){if(!arguments.length){return n}n=x;return w};w.noData=function(x){if(!arguments.length){return m}m=x;return w};return w};c.models.sparkline=function(){var i={top:2,right:0,bottom:2,left:0},f=400,r=32,g=true,o=d3.scale.linear(),n=d3.scale.linear(),q=function(s){return s.x},p=function(s){return s.y},h=c.utils.getColor(["#000"]),l,e;function m(s){s.each(function(y){var B=f-i.left-i.right,w=r-i.top-i.bottom,u=d3.select(this);o.domain(l||d3.extent(y,q)).range([0,B]);n.domain(e||d3.extent(y,p)).range([w,0]);var v=u.selectAll("g.nv-wrap.nv-sparkline").data([y]);var x=v.enter().append("g").attr("class","nvd3 nv-wrap nv-sparkline");var t=x.append("g");var z=v.select("g");v.attr("transform","translate("+i.left+","+i.top+")");var C=v.selectAll("path").data(function(D){return[D]});C.enter().append("path");C.exit().remove();C.style("stroke",function(E,D){return E.color||h(E,D)}).attr("d",d3.svg.line().x(function(E,D){return o(q(E,D))}).y(function(E,D){return n(p(E,D))}));var A=v.selectAll("circle.nv-point").data(function(H){var F=H.map(function(K,J){return p(K,J)});function G(K){if(K!=-1){var J=H[K];J.pointIndex=K;return J}else{return null}}var E=G(F.lastIndexOf(n.domain()[1])),D=G(F.indexOf(n.domain()[0])),I=G(F.length-1);return[D,E,I].filter(function(J){return J!=null})});A.enter().append("circle");A.exit().remove();A.attr("cx",function(E,D){return o(q(E,E.pointIndex))}).attr("cy",function(E,D){return n(p(E,E.pointIndex))}).attr("r",2).attr("class",function(E,D){return q(E,E.pointIndex)==o.domain()[1]?"nv-point nv-currentValue":p(E,E.pointIndex)==n.domain()[0]?"nv-point nv-minValue":"nv-point nv-maxValue"})});return m}m.margin=function(s){if(!arguments.length){return i}i.top=typeof s.top!="undefined"?s.top:i.top;i.right=typeof s.right!="undefined"?s.right:i.right;i.bottom=typeof s.bottom!="undefined"?s.bottom:i.bottom;i.left=typeof s.left!="undefined"?s.left:i.left;return m};m.width=function(s){if(!arguments.length){return f}f=s;return m};m.height=function(s){if(!arguments.length){return r}r=s;return m};m.x=function(s){if(!arguments.length){return q}q=d3.functor(s);return m};m.y=function(s){if(!arguments.length){return p}p=d3.functor(s);return m};m.xScale=function(s){if(!arguments.length){return o}o=s;return m};m.yScale=function(s){if(!arguments.length){return n}n=s;return m};m.xDomain=function(s){if(!arguments.length){return l}l=s;return m};m.yDomain=function(s){if(!arguments.length){return e}e=s;return m};m.animate=function(s){if(!arguments.length){return g}g=s;return m};m.color=function(s){if(!arguments.length){return h}h=c.utils.getColor(s);return m};return m};c.models.sparklinePlus=function(){var r=c.models.sparkline();var f={top:15,right:100,bottom:10,left:50},e=null,t=null,o,n,l=[],s=false,q=d3.format(",r"),i=d3.format(",.2f"),h=true,u=true,g=false,p="No Data Available.";function m(v){v.each(function(D){var x=d3.select(this);var K=(e||parseInt(x.style("width"))||960)-f.left-f.right,A=(t||parseInt(x.style("height"))||400)-f.top-f.bottom;var J=r.y()(D[D.length-1],D.length-1);m.update=function(){m(v)};m.container=this;if(!D||!D.length){var y=x.selectAll(".nv-noData").data([p]);y.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");y.attr("x",f.left+K/2).attr("y",f.top+A/2).text(function(L){return L});return m}else{x.selectAll(".nv-noData").remove()}o=r.xScale();n=r.yScale();var z=x.selectAll("g.nv-wrap.nv-sparklineplus").data([D]);var B=z.enter().append("g").attr("class","nvd3 nv-wrap nv-sparklineplus");var w=B.append("g");var E=z.select("g");w.append("g").attr("class","nv-sparklineWrap");w.append("g").attr("class","nv-valueWrap");w.append("g").attr("class","nv-hoverArea");z.attr("transform","translate("+f.left+","+f.top+")");var F=E.select(".nv-sparklineWrap");r.width(K).height(A);F.call(r);var H=E.select(".nv-valueWrap");var I=H.selectAll(".nv-currentValue").data([J]);I.enter().append("text").attr("class","nv-currentValue").attr("dx",g?-8:8).attr("dy",".9em").style("text-anchor",g?"end":"start");I.attr("x",K+(g?f.right:0)).attr("y",u?function(L){return n(L)}:0).style("fill",r.color()(D[D.length-1],D.length-1)).text(i(J));w.select(".nv-hoverArea").append("rect").on("mousemove",C).on("click",function(){s=!s}).on("mouseout",function(){l=[];G()});E.select(".nv-hoverArea rect").attr("transform",function(L){return"translate("+-f.left+","+-f.top+")"}).attr("width",K+f.left+f.right).attr("height",A+f.top);function G(){if(s){return}var M=E.selectAll(".nv-hoverValue").data(l);var L=M.enter().append("g").attr("class","nv-hoverValue").style("stroke-opacity",0).style("fill-opacity",0);M.exit().transition().duration(250).style("stroke-opacity",0).style("fill-opacity",0).remove();M.attr("transform",function(N){return"translate("+o(r.x()(D[N],N))+",0)"}).transition().duration(250).style("stroke-opacity",1).style("fill-opacity",1);if(!l.length){return}L.append("line").attr("x1",0).attr("y1",-f.top).attr("x2",0).attr("y2",A);L.append("text").attr("class","nv-xValue").attr("x",-6).attr("y",-f.top).attr("text-anchor","end").attr("dy",".9em");E.select(".nv-hoverValue .nv-xValue").text(q(r.x()(D[l[0]],l[0])));L.append("text").attr("class","nv-yValue").attr("x",6).attr("y",-f.top).attr("text-anchor","start").attr("dy",".9em");E.select(".nv-hoverValue .nv-yValue").text(i(r.y()(D[l[0]],l[0])))}function C(){if(s){return}var M=d3.mouse(this)[0]-f.left;function L(Q,N){var R=Math.abs(r.x()(Q[0],0)-N);var P=0;for(var O=0;O<Q.length;O++){if(Math.abs(r.x()(Q[O],O)-N)<R){R=Math.abs(r.x()(Q[O],O)-N);P=O}}return P}l=[L(D,Math.round(o.invert(M)))];G()}});return m}m.sparkline=r;d3.rebind(m,r,"x","y","xScale","yScale","color");m.margin=function(v){if(!arguments.length){return f}f.top=typeof v.top!="undefined"?v.top:f.top;f.right=typeof v.right!="undefined"?v.right:f.right;f.bottom=typeof v.bottom!="undefined"?v.bottom:f.bottom;f.left=typeof v.left!="undefined"?v.left:f.left;return m};m.width=function(v){if(!arguments.length){return e}e=v;return m};m.height=function(v){if(!arguments.length){return t}t=v;return m};m.xTickFormat=function(v){if(!arguments.length){return q}q=v;return m};m.yTickFormat=function(v){if(!arguments.length){return i}i=v;return m};m.showValue=function(v){if(!arguments.length){return h}h=v;return m};m.alignValue=function(v){if(!arguments.length){return u}u=v;return m};m.rightAlignValue=function(v){if(!arguments.length){return g}g=v;return m};m.noData=function(v){if(!arguments.length){return p}p=v;return m};return m};c.models.stackedArea=function(){var l={top:0,right:0,bottom:0,left:0},h=960,w=500,m=c.utils.defaultColor(),g=Math.floor(Math.random()*100000),v=function(x){return x.x},u=function(x){return x.y},f="stack",n="zero",i="default",p="linear",t=false,s,r,e=c.models.scatter(),o=d3.dispatch("tooltipShow","tooltipHide","areaClick","areaMouseover","areaMouseout");e.size(2.2).sizeDomain([2.2]);function q(x){x.each(function(G){var J=h-l.left-l.right,D=w-l.top-l.bottom,z=d3.select(this);s=e.xScale();r=e.yScale();G=G.map(function(L,M){L.values=L.values.map(function(O,N){O.index=N;O.stackedY=L.disabled?0:u(O,N);return O});return L});G=d3.layout.stack().order(i).offset(n).values(function(L){return L.values}).x(v).y(function(L){return L.stackedY}).out(function(M,L,N){M.display={y:N,y0:L}})(G);var B=z.selectAll("g.nv-wrap.nv-stackedarea").data([G]);var F=B.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedarea");var E=F.append("defs");var y=F.append("g");var H=B.select("g");y.append("g").attr("class","nv-areaWrap");y.append("g").attr("class","nv-scatterWrap");B.attr("transform","translate("+l.left+","+l.top+")");e.width(J).height(D).x(v).y(function(L){return L.display.y+L.display.y0}).forceY([0]).color(G.map(function(M,L){return M.color||m(M,L)}).filter(function(M,L){return !G[L].disabled}));var C=H.select(".nv-scatterWrap").datum(G.filter(function(L){return !L.disabled}));C.call(e);E.append("clipPath").attr("id","nv-edge-clip-"+g).append("rect");B.select("#nv-edge-clip-"+g+" rect").attr("width",J).attr("height",D);H.attr("clip-path",t?"url(#nv-edge-clip-"+g+")":"");var A=d3.svg.area().x(function(M,L){return s(v(M,L))}).y0(function(L){return r(L.display.y0)}).y1(function(L){return r(L.display.y+L.display.y0)}).interpolate(p);var I=d3.svg.area().x(function(M,L){return s(v(M,L))}).y0(function(L){return r(L.display.y0)}).y1(function(L){return r(L.display.y0)});var K=H.select(".nv-areaWrap").selectAll("path.nv-area").data(function(L){return L});K.enter().append("path").attr("class",function(M,L){return"nv-area nv-area-"+L}).on("mouseover",function(M,L){d3.select(this).classed("hover",true);o.areaMouseover({point:M,series:M.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:L})}).on("mouseout",function(M,L){d3.select(this).classed("hover",false);o.areaMouseout({point:M,series:M.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:L})}).on("click",function(M,L){d3.select(this).classed("hover",false);o.areaClick({point:M,series:M.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:L})});K.exit().attr("d",function(M,L){return I(M.values,L)}).remove();K.style("fill",function(M,L){return M.color||m(M,L)}).style("stroke",function(M,L){return M.color||m(M,L)});K.attr("d",function(M,L){return A(M.values,L)});e.dispatch.on("elementMouseover.area",function(L){H.select(".nv-chart-"+g+" .nv-area-"+L.seriesIndex).classed("hover",true)});e.dispatch.on("elementMouseout.area",function(L){H.select(".nv-chart-"+g+" .nv-area-"+L.seriesIndex).classed("hover",false)})});return q}e.dispatch.on("elementClick.area",function(x){o.areaClick(x)});e.dispatch.on("elementMouseover.tooltip",function(x){x.pos=[x.pos[0]+l.left,x.pos[1]+l.top],o.tooltipShow(x)});e.dispatch.on("elementMouseout.tooltip",function(x){o.tooltipHide(x)});q.dispatch=o;q.scatter=e;d3.rebind(q,e,"interactive","size","xScale","yScale","zScale","xDomain","yDomain","sizeDomain","forceX","forceY","forceSize","clipVoronoi","clipRadius");q.x=function(x){if(!arguments.length){return v}v=d3.functor(x);return q};q.y=function(x){if(!arguments.length){return u}u=d3.functor(x);return q};q.margin=function(x){if(!arguments.length){return l}l.top=typeof x.top!="undefined"?x.top:l.top;l.right=typeof x.right!="undefined"?x.right:l.right;l.bottom=typeof x.bottom!="undefined"?x.bottom:l.bottom;l.left=typeof x.left!="undefined"?x.left:l.left;return q};q.width=function(x){if(!arguments.length){return h}h=x;return q};q.height=function(x){if(!arguments.length){return w}w=x;return q};q.clipEdge=function(x){if(!arguments.length){return t}t=x;return q};q.color=function(x){if(!arguments.length){return m}m=c.utils.getColor(x);return q};q.offset=function(x){if(!arguments.length){return n}n=x;return q};q.order=function(x){if(!arguments.length){return i}i=x;return q};q.style=function(x){if(!arguments.length){return f}f=x;switch(f){case"stack":q.offset("zero");q.order("default");break;case"stream":q.offset("wiggle");q.order("inside-out");break;case"stream-center":q.offset("silhouette");q.order("inside-out");break;case"expand":q.offset("expand");q.order("default");break}return q};q.interpolate=function(x){if(!arguments.length){return p}p=x;return p};return q};c.models.stackedAreaChart=function(){var A=c.models.stackedArea(),o=c.models.axis(),e=c.models.axis(),g=c.models.legend(),r=c.models.legend();var t={top:30,right:25,bottom:50,left:60},v=null,u=null,w=c.utils.defaultColor(),B=true,z=true,f=true,m=function(E,D,H,G,F){return"<h3>"+E+"</h3><p>"+H+" on "+D+"</p>"},q,p,l=d3.format(",.2f"),n={style:A.style()},i="No Data Available.",C=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState");o.orient("bottom").tickPadding(7);e.orient("left");A.scatter.pointActive(function(x){return !!Math.round(A.y()(x)*100)});var h=function(I,E){var H=I.pos[0]+(E.offsetLeft||0),G=I.pos[1]+(E.offsetTop||0),D=o.tickFormat()(A.x()(I.point,I.pointIndex)),J=e.tickFormat()(A.y()(I.point,I.pointIndex)),F=m(I.series.key,D,J,I,s);c.tooltip.show([H,G],F,I.value<0?"n":"s",null,E)};function s(x){x.each(function(H){var D=d3.select(this),K=this;var M=(v||parseInt(D.style("width"))||960)-t.left-t.right,G=(u||parseInt(D.style("height"))||400)-t.top-t.bottom;s.update=function(){s(x)};s.container=this;if(!H||!H.length||!H.filter(function(N){return N.values.length}).length){var E=D.selectAll(".nv-noData").data([i]);E.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle");E.attr("x",t.left+M/2).attr("y",t.top+G/2).text(function(N){return N});return s}else{D.selectAll(".nv-noData").remove()}q=A.xScale();p=A.yScale();var F=D.selectAll("g.nv-wrap.nv-stackedAreaChart").data([H]);var y=F.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedAreaChart").append("g");var I=F.select("g");y.append("g").attr("class","nv-x nv-axis");y.append("g").attr("class","nv-y nv-axis");y.append("g").attr("class","nv-stackedWrap");y.append("g").attr("class","nv-legendWrap");y.append("g").attr("class","nv-controlsWrap");if(z){g.width(M*2/3);I.select(".nv-legendWrap").datum(H).call(g);if(t.top!=g.height()){t.top=g.height();G=(u||parseInt(D.style("height"))||400)-t.top-t.bottom}I.select(".nv-legendWrap").attr("transform","translate("+(M*1/3)+","+(-t.top)+")")}if(B){var L=[{key:"Stacked",disabled:A.offset()!="zero"},{key:"Stream",disabled:A.offset()!="wiggle"},{key:"Expanded",disabled:A.offset()!="expand"}];r.width(Math.min(280,M*1/3)).color(["#444","#444","#444"]);I.select(".nv-controlsWrap").datum(L).call(r);if(t.top!=Math.max(r.height(),g.height())){t.top=Math.max(r.height(),g.height());G=(u||parseInt(D.style("height"))||400)-t.top-t.bottom}I.select(".nv-controlsWrap").attr("transform","translate(0,"+(-t.top)+")")}F.attr("transform","translate("+t.left+","+t.top+")");A.width(M).height(G);var J=I.select(".nv-stackedWrap").datum(H);J.call(A);o.scale(q).ticks(M/100).tickSize(-G,0);I.select(".nv-x.nv-axis").attr("transform","translate(0,"+G+")");I.select(".nv-x.nv-axis").transition().duration(0).call(o);e.scale(p).ticks(A.offset()=="wiggle"?0:G/36).tickSize(-M,0).setTickFormat(A.offset()=="expand"?d3.format("%"):l);I.select(".nv-y.nv-axis").transition().duration(0).call(e);A.dispatch.on("areaClick.toggle",function(N){if(H.filter(function(O){return !O.disabled}).length===1){H=H.map(function(O){O.disabled=false;return O})}else{H=H.map(function(P,O){P.disabled=(O!=N.seriesIndex);return P})}s(x)});g.dispatch.on("legendClick",function(O,N){O.disabled=!O.disabled;if(!H.filter(function(P){return !P.disabled}).length){H.map(function(P){P.disabled=false;return P})}n.disabled=H.map(function(P){return !!P.disabled});C.stateChange(n);s(x)});r.dispatch.on("legendClick",function(O,N){if(!O.disabled){return}L=L.map(function(P){P.disabled=true;return P});O.disabled=false;switch(O.key){case"Stacked":A.style("stack");break;case"Stream":A.style("stream");break;case"Expanded":A.style("expand");break}n.style=A.style();C.stateChange(n);s(x)});C.on("tooltipShow",function(N){if(f){h(N,K.parentNode)}});C.on("changeState",function(N){if(typeof N.disabled!=="undefined"){H.forEach(function(P,O){P.disabled=N.disabled[O]});n.disabled=N.disabled}if(typeof N.style!=="undefined"){A.style(N.style)}x.call(s)})});return s}A.dispatch.on("tooltipShow",function(x){x.pos=[x.pos[0]+t.left,x.pos[1]+t.top],C.tooltipShow(x)});A.dispatch.on("tooltipHide",function(x){C.tooltipHide(x)});C.on("tooltipHide",function(){if(f){c.tooltip.cleanup()}});s.dispatch=C;s.stacked=A;s.legend=g;s.controls=r;s.xAxis=o;s.yAxis=e;d3.rebind(s,A,"x","y","size","xScale","yScale","xDomain","yDomain","sizeDomain","interactive","offset","order","style","clipEdge","forceX","forceY","forceSize","interpolate");s.margin=function(x){if(!arguments.length){return t}t.top=typeof x.top!="undefined"?x.top:t.top;t.right=typeof x.right!="undefined"?x.right:t.right;t.bottom=typeof x.bottom!="undefined"?x.bottom:t.bottom;t.left=typeof x.left!="undefined"?x.left:t.left;return s};s.width=function(x){if(!arguments.length){return getWidth}v=x;return s};s.height=function(x){if(!arguments.length){return getHeight}u=x;return s};s.color=function(x){if(!arguments.length){return w}w=c.utils.getColor(x);g.color(w);A.color(w);return s};s.showControls=function(x){if(!arguments.length){return B}B=x;return s};s.showLegend=function(x){if(!arguments.length){return z}z=x;return s};s.tooltip=function(x){if(!arguments.length){return m}m=x;return s};s.tooltips=function(x){if(!arguments.length){return f}f=x;return s};s.tooltipContent=function(x){if(!arguments.length){return m}m=x;return s};s.state=function(x){if(!arguments.length){return n}n=x;return s};s.noData=function(x){if(!arguments.length){return i}i=x;return s};e.setTickFormat=e.tickFormat;e.tickFormat=function(x){if(!arguments.length){return l}l=x;return e};return s}})();