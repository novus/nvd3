/*! nvd3 - v0.0.1 - 2013-04-24 */(function(){function t(t,e){return new Date(e,t+1,0).getDate()}function e(t,e,n){return function(r,a,o){var i=t(r),l=[];if(r>i&&e(i),o>1)for(;a>i;){var s=new Date(+i);0===n(s)%o&&l.push(s),e(i)}else for(;a>i;)l.push(new Date(+i)),e(i);return l}}var n=window.nv||{};n.version="0.0.1a",n.dev=!0,window.nv=n,n.tooltip={},n.utils={},n.models={},n.charts={},n.graphs=[],n.logs={},n.dispatch=d3.dispatch("render_start","render_end"),n.dev&&(n.dispatch.on("render_start",function(){n.logs.startTime=+new Date}),n.dispatch.on("render_end",function(){n.logs.endTime=+new Date,n.logs.totalTime=n.logs.endTime-n.logs.startTime,n.log("total",n.logs.totalTime)})),n.log=function(){if(n.dev&&console.log&&console.log.apply)console.log.apply(console,arguments);else if(n.dev&&console.log&&Function.prototype.bind){var t=Function.prototype.bind.call(console.log,console);t.apply(console,arguments)}return arguments[arguments.length-1]},n.render=function(t){t=t||1,n.render.active=!0,n.dispatch.render_start(),setTimeout(function(){for(var e,r,a=0;t>a&&(r=n.render.queue[a]);a++)e=r.generate(),typeof r.callback==typeof Function&&r.callback(e),n.graphs.push(e);n.render.queue.splice(0,a),n.render.queue.length?setTimeout(arguments.callee,0):(n.render.active=!1,n.dispatch.render_end())},0)},n.render.active=!1,n.render.queue=[],n.addGraph=function(t){typeof arguments[0]==typeof Function&&(t={generate:arguments[0],callback:arguments[1]}),n.render.queue.push(t),n.render.active||n.render()},n.identity=function(t){return t},n.strip=function(t){return t.replace(/(\s|&)/g,"")},d3.time.monthEnd=function(t){return new Date(t.getFullYear(),t.getMonth(),0)},d3.time.monthEnds=e(d3.time.monthEnd,function(e){e.setUTCDate(e.getUTCDate()+1),e.setDate(t(e.getMonth()+1,e.getFullYear()))},function(t){return t.getMonth()}),function(){var t=window.nv.tooltip={};t.show=function(t,e,r,a,o,i){var l=document.createElement("div");l.className="nvtooltip "+(i?i:"xy-tooltip"),r=r||"s",a=a||20;var s=o?o:document.getElementsByTagName("body")[0];l.innerHTML=e,l.style.left=0,l.style.top=0,l.style.opacity=0,s.appendChild(l);var u,c,d=parseInt(l.offsetHeight),p=parseInt(l.offsetWidth),f=n.utils.windowSize().width,g=n.utils.windowSize().height,h=window.scrollY,m=window.scrollX;g=window.innerWidth>=document.body.scrollWidth?g:g-16,f=window.innerHeight>=document.body.scrollHeight?f:f-16;var v=function(t){var e=c;do isNaN(t.offsetTop)||(e+=t.offsetTop);while(t=t.offsetParent);return e},x=function(t){var e=u;do isNaN(t.offsetLeft)||(e+=t.offsetLeft);while(t=t.offsetParent);return e};switch(r){case"e":u=t[0]-p-a,c=t[1]-d/2;var y=x(l),b=v(l);m>y&&(u=t[0]+a>m?t[0]+a:m-y+u),h>b&&(c=h-b+c),b+d>h+g&&(c=h+g-b+c-d);break;case"w":u=t[0]+a,c=t[1]-d/2,y+p>f&&(u=t[0]-p-a),h>b&&(c=h+5),b+d>h+g&&(c=h-d-5);break;case"n":u=t[0]-p/2-5,c=t[1]+a;var y=x(l),b=v(l);m>y&&(u=m+5),y+p>f&&(u=u-p/2+5),b+d>h+g&&(c=h+g-b+c-d);break;case"s":u=t[0]-p/2,c=t[1]-d-a;var y=x(l),b=v(l);m>y&&(u=m+5),y+p>f&&(u=u-p/2+5),h>b&&(c=h)}return l.style.left=u+"px",l.style.top=c+"px",l.style.opacity=1,l.style.position="absolute",l.style.pointerEvents="none",l},t.cleanup=function(){for(var t=document.getElementsByClassName("nvtooltip"),e=[];t.length;)e.push(t[0]),t[0].style.transitionDelay="0 !important",t[0].style.opacity=0,t[0].className="nvtooltip-pending-removal";setTimeout(function(){for(;e.length;){var t=e.pop();t.parentNode.removeChild(t)}},500)}}(),n.utils.windowSize=function(){var t={width:640,height:480};return document.body&&document.body.offsetWidth&&(t.width=document.body.offsetWidth,t.height=document.body.offsetHeight),"CSS1Compat"==document.compatMode&&document.documentElement&&document.documentElement.offsetWidth&&(t.width=document.documentElement.offsetWidth,t.height=document.documentElement.offsetHeight),window.innerWidth&&window.innerHeight&&(t.width=window.innerWidth,t.height=window.innerHeight),t},n.utils.windowResize=function(t){var e=window.onresize;window.onresize=function(n){"function"==typeof e&&e(n),t(n)}},n.utils.getColor=function(t){return arguments.length?"[object Array]"===Object.prototype.toString.call(t)?function(e,n){return e.color||t[n%t.length]}:t:n.utils.defaultColor()},n.utils.defaultColor=function(){var t=d3.scale.category20().range();return function(e,n){return e.color||t[n%t.length]}},n.utils.customTheme=function(t,e,n){e=e||function(t){return t.key},n=n||d3.scale.category20().range();var r=n.length;return function(a){var o=e(a);return r||(r=n.length),t[o]!==void 0?"function"==typeof t[o]?t[o]():t[o]:n[--r]}},n.utils.pjax=function(t,e){function r(r){d3.html(r,function(r){var a=d3.select(e).node();a.parentNode.replaceChild(d3.select(r).select(e).node(),a),n.utils.pjax(t,e)})}d3.selectAll(t).on("click",function(){history.pushState(this.href,this.textContent,this.href),r(this.href),d3.event.preventDefault()}),d3.select(window).on("popstate",function(){d3.event.state&&r(d3.event.state)})},n.models.axis=function(){function t(a){return a.each(function(t){var a=d3.select(this),h=a.selectAll("g.nv-wrap.nv-axis").data([t]),m=h.enter().append("g").attr("class","nvd3 nv-wrap nv-axis");m.append("g");var v=h.select("g");null!==f?e.ticks(f):("top"==e.orient()||"bottom"==e.orient())&&e.ticks(Math.abs(o.range()[1]-o.range()[0])/100),d3.transition(v).call(e),g=g||e.scale();var x=e.tickFormat();null==x&&(x=g.tickFormat());var y=v.selectAll("text.nv-axislabel").data([i||null]);switch(y.exit().remove(),e.orient()){case"top":y.enter().append("text").attr("class","nv-axislabel");var b=2==o.range().length?o.range()[1]:o.range()[o.range().length-1]+(o.range()[1]-o.range()[0]);if(y.attr("text-anchor","middle").attr("y",0).attr("x",b/2),l){var k=h.selectAll("g.nv-axisMaxMin").data(o.domain());k.enter().append("g").attr("class","nv-axisMaxMin").append("text"),k.exit().remove(),k.attr("transform",function(t){return"translate("+o(t)+",0)"}).select("text").attr("dy","0em").attr("y",-e.tickPadding()).attr("text-anchor","middle").text(function(t){var e=x(t);return(""+e).match("NaN")?"":e}),d3.transition(k).attr("transform",function(t,e){return"translate("+o.range()[e]+",0)"})}break;case"bottom":var w=36,A=30,C=v.selectAll("g").select("text");if(u%360){C.each(function(){var t=this.getBBox().width;t>A&&(A=t)});var M=Math.abs(Math.sin(u*Math.PI/180)),w=(M?M*A:A)+30;C.attr("transform",function(){return"rotate("+u+" 0,0)"}).attr("text-anchor",u%360>0?"start":"end")}y.enter().append("text").attr("class","nv-axislabel");var b=2==o.range().length?o.range()[1]:o.range()[o.range().length-1]+(o.range()[1]-o.range()[0]);if(y.attr("text-anchor","middle").attr("y",w).attr("x",b/2),l){var k=h.selectAll("g.nv-axisMaxMin").data([o.domain()[0],o.domain()[o.domain().length-1]]);k.enter().append("g").attr("class","nv-axisMaxMin").append("text"),k.exit().remove(),k.attr("transform",function(t){return"translate("+(o(t)+(p?o.rangeBand()/2:0))+",0)"}).select("text").attr("dy",".71em").attr("y",e.tickPadding()).attr("transform",function(){return"rotate("+u+" 0,0)"}).attr("text-anchor",u?u%360>0?"start":"end":"middle").text(function(t){var e=x(t);return(""+e).match("NaN")?"":e}),d3.transition(k).attr("transform",function(t){return"translate("+(o(t)+(p?o.rangeBand()/2:0))+",0)"})}d&&C.attr("transform",function(t,e){return"translate(0,"+(0==e%2?"0":"12")+")"});break;case"right":if(y.enter().append("text").attr("class","nv-axislabel"),y.attr("text-anchor",c?"middle":"begin").attr("transform",c?"rotate(90)":"").attr("y",c?-Math.max(n.right,r)+12:-10).attr("x",c?o.range()[0]/2:e.tickPadding()),l){var k=h.selectAll("g.nv-axisMaxMin").data(o.domain());k.enter().append("g").attr("class","nv-axisMaxMin").append("text").style("opacity",0),k.exit().remove(),k.attr("transform",function(t){return"translate(0,"+o(t)+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",e.tickPadding()).attr("text-anchor","start").text(function(t){var e=x(t);return(""+e).match("NaN")?"":e}),d3.transition(k).attr("transform",function(t,e){return"translate(0,"+o.range()[e]+")"}).select("text").style("opacity",1)}break;case"left":if(y.enter().append("text").attr("class","nv-axislabel"),y.attr("text-anchor",c?"middle":"end").attr("transform",c?"rotate(-90)":"").attr("y",c?-Math.max(n.left,r)+12:-10).attr("x",c?-o.range()[0]/2:-e.tickPadding()),l){var k=h.selectAll("g.nv-axisMaxMin").data(o.domain());k.enter().append("g").attr("class","nv-axisMaxMin").append("text").style("opacity",0),k.exit().remove(),k.attr("transform",function(t){return"translate(0,"+g(t)+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",-e.tickPadding()).attr("text-anchor","end").text(function(t){var e=x(t);return(""+e).match("NaN")?"":e}),d3.transition(k).attr("transform",function(t,e){return"translate(0,"+o.range()[e]+")"}).select("text").style("opacity",1)}}if(y.text(function(t){return t}),!l||"left"!==e.orient()&&"right"!==e.orient()||(v.selectAll("g").each(function(t){d3.select(this).select("text").attr("opacity",1),(o(t)<o.range()[1]+10||o(t)>o.range()[0]-10)&&((t>1e-10||-1e-10>t)&&d3.select(this).attr("opacity",0),d3.select(this).select("text").attr("opacity",0))}),o.domain()[0]==o.domain()[1]&&0==o.domain()[0]&&h.selectAll("g.nv-axisMaxMin").style("opacity",function(t,e){return e?0:1})),l&&("top"===e.orient()||"bottom"===e.orient())){var S=[];h.selectAll("g.nv-axisMaxMin").each(function(t,e){try{e?S.push(o(t)-this.getBBox().width-4):S.push(o(t)+this.getBBox().width+4)}catch(n){e?S.push(o(t)-4):S.push(o(t)+4)}}),v.selectAll("g").each(function(t){(o(t)<S[0]||o(t)>S[1])&&(t>1e-10||-1e-10>t?d3.select(this).remove():d3.select(this).select("text").remove())})}s&&v.selectAll("line.tick").filter(function(t){return!parseFloat(Math.round(1e5*t)/1e6)}).classed("zero",!0),g=o.copy()}),t}var e=d3.svg.axis(),n={top:0,right:0,bottom:0,left:0},r=75,a=60,o=d3.scale.linear(),i=null,l=!0,s=!0,u=0,c=!0,d=!1,p=!1,f=null;e.scale(o).orient("bottom").tickFormat(function(t){return t});var g;return t.axis=e,d3.rebind(t,e,"orient","tickValues","tickSubdivide","tickSize","tickPadding","tickFormat"),d3.rebind(t,o,"domain","range","rangeBand","rangeBands"),t.margin=function(e){return arguments.length?(n.top=e.top!==void 0?e.top:n.top,n.right=e.right!==void 0?e.right:n.right,n.bottom=e.bottom!==void 0?e.bottom:n.bottom,n.left=e.left!==void 0?e.left:n.left,t):n},t.width=function(e){return arguments.length?(r=e,t):r},t.ticks=function(e){return arguments.length?(f=e,t):f},t.height=function(e){return arguments.length?(a=e,t):a},t.axisLabel=function(e){return arguments.length?(i=e,t):i},t.showMaxMin=function(e){return arguments.length?(l=e,t):l},t.highlightZero=function(e){return arguments.length?(s=e,t):s},t.scale=function(n){return arguments.length?(o=n,e.scale(o),p="function"==typeof o.rangeBands,d3.rebind(t,o,"domain","range","rangeBand","rangeBands"),t):o},t.rotateYLabel=function(e){return arguments.length?(c=e,t):c},t.rotateLabels=function(e){return arguments.length?(u=e,t):u},t.staggerLabels=function(e){return arguments.length?(d=e,t):d},t},n.models.historicalBar=function(){function t(n){return n.each(function(t){var n=o-a.left-a.right,x=i-a.top-a.bottom,y=d3.select(this);s.domain(e||d3.extent(t[0].values.map(c).concat(p))),g?s.range([.5*n/t[0].values.length,n*(t[0].values.length-.5)/t[0].values.length]):s.range([0,n]),u.domain(r||d3.extent(t[0].values.map(d).concat(f))).range([x,0]),(s.domain()[0]===s.domain()[1]||u.domain()[0]===u.domain()[1])&&(singlePoint=!0),s.domain()[0]===s.domain()[1]&&(s.domain()[0]?s.domain([s.domain()[0]-.01*s.domain()[0],s.domain()[1]+.01*s.domain()[1]]):s.domain([-1,1])),u.domain()[0]===u.domain()[1]&&(u.domain()[0]?u.domain([u.domain()[0]+.01*u.domain()[0],u.domain()[1]-.01*u.domain()[1]]):u.domain([-1,1]));var b=y.selectAll("g.nv-wrap.nv-bar").data([t[0].values]),k=b.enter().append("g").attr("class","nvd3 nv-wrap nv-bar"),w=k.append("defs"),A=k.append("g"),C=b.select("g");A.append("g").attr("class","nv-bars"),b.attr("transform","translate("+a.left+","+a.top+")"),y.on("click",function(t,e){v.chartClick({data:t,index:e,pos:d3.event,id:l})}),w.append("clipPath").attr("id","nv-chart-clip-path-"+l).append("rect"),b.select("#nv-chart-clip-path-"+l+" rect").attr("width",n).attr("height",x),C.attr("clip-path",h?"url(#nv-chart-clip-path-"+l+")":"");var M=b.select(".nv-bars").selectAll(".nv-bar").data(function(t){return t});M.exit().remove(),M.enter().append("rect").attr("x",0).attr("y",function(t,e){return u(Math.max(0,d(t,e)))}).attr("height",function(t,e){return Math.abs(u(d(t,e))-u(0))}).on("mouseover",function(e,n){d3.select(this).classed("hover",!0),v.elementMouseover({point:e,series:t[0],pos:[s(c(e,n)),u(d(e,n))],pointIndex:n,seriesIndex:0,e:d3.event})}).on("mouseout",function(e,n){d3.select(this).classed("hover",!1),v.elementMouseout({point:e,series:t[0],pointIndex:n,seriesIndex:0,e:d3.event})}).on("click",function(t,e){v.elementClick({value:d(t,e),data:t,index:e,pos:[s(c(t,e)),u(d(t,e))],e:d3.event,id:l}),d3.event.stopPropagation()}).on("dblclick",function(t,e){v.elementDblClick({value:d(t,e),data:t,index:e,pos:[s(c(t,e)),u(d(t,e))],e:d3.event,id:l}),d3.event.stopPropagation()}),M.attr("fill",function(t,e){return m(t,e)}).attr("class",function(t,e,n){return(0>d(t,e)?"nv-bar negative":"nv-bar positive")+" nv-bar-"+n+"-"+e}).attr("transform",function(e,r){return"translate("+(s(c(e,r))-.45*(n/t[0].values.length))+",0)"}).attr("width",.9*(n/t[0].values.length)),d3.transition(M).attr("y",function(t,e){return 0>d(t,e)?u(0):1>u(0)-u(d(t,e))?u(0)-1:u(d(t,e))}).attr("height",function(t,e){return Math.max(Math.abs(u(d(t,e))-u(0)),1)})}),t}var e,r,a={top:0,right:0,bottom:0,left:0},o=960,i=500,l=Math.floor(1e4*Math.random()),s=d3.scale.linear(),u=d3.scale.linear(),c=function(t){return t.x},d=function(t){return t.y},p=[],f=[0],g=!1,h=!0,m=n.utils.defaultColor(),v=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout");return t.dispatch=v,t.x=function(e){return arguments.length?(c=e,t):c},t.y=function(e){return arguments.length?(d=e,t):d},t.margin=function(e){return arguments.length?(a.top=e.top!==void 0?e.top:a.top,a.right=e.right!==void 0?e.right:a.right,a.bottom=e.bottom!==void 0?e.bottom:a.bottom,a.left=e.left!==void 0?e.left:a.left,t):a},t.width=function(e){return arguments.length?(o=e,t):o},t.height=function(e){return arguments.length?(i=e,t):i},t.xScale=function(e){return arguments.length?(s=e,t):s},t.yScale=function(e){return arguments.length?(u=e,t):u},t.xDomain=function(n){return arguments.length?(e=n,t):e},t.yDomain=function(e){return arguments.length?(r=e,t):r},t.forceX=function(e){return arguments.length?(p=e,t):p},t.forceY=function(e){return arguments.length?(f=e,t):f},t.padData=function(e){return arguments.length?(g=e,t):g},t.clipEdge=function(e){return arguments.length?(h=e,t):h},t.color=function(e){return arguments.length?(m=n.utils.getColor(e),t):m},t.id=function(e){return arguments.length?(l=e,t):l},t},n.models.bullet=function(){function t(n){return n.each(function(t,n){var r=u-e.left-e.right,d=c-e.top-e.bottom,g=d3.select(this),h=o.call(this,t,n).slice().sort(d3.descending),m=i.call(this,t,n).slice().sort(d3.descending),v=l.call(this,t,n).slice().sort(d3.descending),x=d3.scale.linear().domain(d3.extent(d3.merge([s,h]))).range(a?[r,0]:[0,r]);this.__chart__||d3.scale.linear().domain([0,1/0]).range(x.range()),this.__chart__=x;var y=d3.min(h),b=d3.max(h),k=h[1],w=g.selectAll("g.nv-wrap.nv-bullet").data([t]),A=w.enter().append("g").attr("class","nvd3 nv-wrap nv-bullet"),C=A.append("g"),M=w.select("g");C.append("rect").attr("class","nv-range nv-rangeMax"),C.append("rect").attr("class","nv-range nv-rangeAvg"),C.append("rect").attr("class","nv-range nv-rangeMin"),C.append("rect").attr("class","nv-measure"),C.append("path").attr("class","nv-markerTriangle"),w.attr("transform","translate("+e.left+","+e.top+")");var S=function(t){return Math.abs(x(t)-x(0))},D=function(t){return 0>t?x(t):x(0)};M.select("rect.nv-rangeMax").attr("height",d).attr("width",S(b>0?b:y)).attr("x",D(b>0?b:y)).datum(b>0?b:y),M.select("rect.nv-rangeAvg").attr("height",d).attr("width",S(k)).attr("x",D(k)).datum(k),M.select("rect.nv-rangeMin").attr("height",d).attr("width",S(b)).attr("x",D(b)).attr("width",S(b>0?y:b)).attr("x",D(b>0?y:b)).datum(b>0?y:b),M.select("rect.nv-measure").style("fill",p).attr("height",d/3).attr("y",d/3).attr("width",0>v?x(0)-x(v[0]):x(v[0])-x(0)).attr("x",D(v)).on("mouseover",function(){f.elementMouseover({value:v[0],label:"Current",pos:[x(v[0]),d/2]})}).on("mouseout",function(){f.elementMouseout({value:v[0],label:"Current"})});var I=d/6;m[0]?M.selectAll("path.nv-markerTriangle").attr("transform",function(){return"translate("+x(m[0])+","+d/2+")"}).attr("d","M0,"+I+"L"+I+","+-I+" "+-I+","+-I+"Z").on("mouseover",function(){f.elementMouseover({value:m[0],label:"Previous",pos:[x(m[0]),d/2]})}).on("mouseout",function(){f.elementMouseout({value:m[0],label:"Previous"})}):M.selectAll("path.nv-markerTriangle").remove(),w.selectAll(".nv-range").on("mouseover",function(t,e){var n=e?1==e?"Mean":"Minimum":"Maximum";f.elementMouseover({value:t,label:n,pos:[x(t),d/2]})}).on("mouseout",function(t,e){var n=e?1==e?"Mean":"Minimum":"Maximum";f.elementMouseout({value:t,label:n})})}),t}var e={top:0,right:0,bottom:0,left:0},r="left",a=!1,o=function(t){return t.ranges},i=function(t){return t.markers},l=function(t){return t.measures},s=[0],u=380,c=30,d=null,p=n.utils.getColor(["#1f77b4"]),f=d3.dispatch("elementMouseover","elementMouseout");return t.dispatch=f,t.orient=function(e){return arguments.length?(r=e,a="right"==r||"bottom"==r,t):r},t.ranges=function(e){return arguments.length?(o=e,t):o},t.markers=function(e){return arguments.length?(i=e,t):i},t.measures=function(e){return arguments.length?(l=e,t):l},t.forceX=function(e){return arguments.length?(s=e,t):s},t.width=function(e){return arguments.length?(u=e,t):u},t.height=function(e){return arguments.length?(c=e,t):c},t.margin=function(n){return arguments.length?(e.top=n.top!==void 0?n.top:e.top,e.right=n.right!==void 0?n.right:e.right,e.bottom=n.bottom!==void 0?n.bottom:e.bottom,e.left=n.left!==void 0?n.left:e.left,t):e},t.tickFormat=function(e){return arguments.length?(d=e,t):d},t.color=function(e){return arguments.length?(p=n.utils.getColor(e),t):p},t},n.models.bulletChart=function(){function t(n){return n.each(function(r,f){var v=d3.select(this),x=(u||parseInt(v.style("width"))||960)-o.left-o.right,y=c-o.top-o.bottom,b=this;if(t.update=function(){t(n)},t.container=this,!r||!i.call(this,r,f)){var k=v.selectAll(".nv-noData").data([g]);return k.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),k.attr("x",o.left+x/2).attr("y",18+o.top+y/2).text(function(t){return t}),t}v.selectAll(".nv-noData").remove();var w=i.call(this,r,f).slice().sort(d3.descending),A=l.call(this,r,f).slice().sort(d3.descending),C=s.call(this,r,f).slice().sort(d3.descending),M=v.selectAll("g.nv-wrap.nv-bulletChart").data([r]),S=M.enter().append("g").attr("class","nvd3 nv-wrap nv-bulletChart"),D=S.append("g"),I=M.select("g");D.append("g").attr("class","nv-bulletWrap"),D.append("g").attr("class","nv-titles"),M.attr("transform","translate("+o.left+","+o.top+")");var W=d3.scale.linear().domain([0,Math.max(w[0],A[0],C[0])]).range(a?[x,0]:[0,x]),z=this.__chart__||d3.scale.linear().domain([0,1/0]).range(W.range());this.__chart__=W;var B=D.select(".nv-titles").append("g").attr("text-anchor","end").attr("transform","translate(-6,"+(c-o.top-o.bottom)/2+")");B.append("text").attr("class","nv-title").text(function(t){return t.title}),B.append("text").attr("class","nv-subtitle").attr("dy","1em").text(function(t){return t.subtitle}),e.width(x).height(y);var P=I.select(".nv-bulletWrap");d3.transition(P).call(e);var H=d||W.tickFormat(x/100),F=I.selectAll("g.nv-tick").data(W.ticks(x/50),function(t){return this.textContent||H(t)}),L=F.enter().append("g").attr("class","nv-tick").attr("transform",function(t){return"translate("+z(t)+",0)"}).style("opacity",1e-6);L.append("line").attr("y1",y).attr("y2",7*y/6),L.append("text").attr("text-anchor","middle").attr("dy","1em").attr("y",7*y/6).text(H);var T=d3.transition(F).attr("transform",function(t){return"translate("+W(t)+",0)"}).style("opacity",1);T.select("line").attr("y1",y).attr("y2",7*y/6),T.select("text").attr("y",7*y/6),d3.transition(F.exit()).attr("transform",function(t){return"translate("+W(t)+",0)"}).style("opacity",1e-6).remove(),h.on("tooltipShow",function(t){t.key=data[0].title,p&&m(t,b.parentNode)})}),d3.timer.flush(),t}var e=n.models.bullet(),r="left",a=!1,o={top:5,right:40,bottom:20,left:120},i=function(t){return t.ranges},l=function(t){return t.markers},s=function(t){return t.measures},u=null,c=55,d=null,p=!0,f=function(t,e,n){return"<h3>"+e+"</h3>"+"<p>"+n+"</p>"},g="No Data Available.",h=d3.dispatch("tooltipShow","tooltipHide"),m=function(e,r){var a=e.pos[0]+(r.offsetLeft||0)+o.left,i=e.pos[1]+(r.offsetTop||0)+o.top,l=f(e.key,e.label,e.value,e,t);n.tooltip.show([a,i],l,0>e.value?"e":"w",null,r)};return e.dispatch.on("elementMouseover.tooltip",function(t){h.tooltipShow(t)}),e.dispatch.on("elementMouseout.tooltip",function(t){h.tooltipHide(t)}),h.on("tooltipHide",function(){p&&n.tooltip.cleanup()}),t.dispatch=h,t.bullet=e,d3.rebind(t,e,"color"),t.orient=function(e){return arguments.length?(r=e,a="right"==r||"bottom"==r,t):r},t.ranges=function(e){return arguments.length?(i=e,t):i},t.markers=function(e){return arguments.length?(l=e,t):l},t.measures=function(e){return arguments.length?(s=e,t):s},t.width=function(e){return arguments.length?(u=e,t):u},t.height=function(e){return arguments.length?(c=e,t):c},t.margin=function(e){return arguments.length?(o.top=e.top!==void 0?e.top:o.top,o.right=e.right!==void 0?e.right:o.right,o.bottom=e.bottom!==void 0?e.bottom:o.bottom,o.left=e.left!==void 0?e.left:o.left,t):o},t.tickFormat=function(e){return arguments.length?(d=e,t):d},t.tooltips=function(e){return arguments.length?(p=e,t):p},t.tooltipContent=function(e){return arguments.length?(f=e,t):f},t.noData=function(e){return arguments.length?(g=e,t):g},t},n.models.cumulativeLineChart=function(){function t(n){return n.each(function(x){function D(){d3.select(t.container).style("cursor","ew-resize")}function I(){M.x=d3.event.x,M.i=Math.round(C.invert(M.x)),z()}function W(){d3.select(t.container).style("cursor","auto"),b.index=M.i,A.stateChange(b)}function z(){O.data([M]),t.update()}var B=d3.select(this).classed("nv-chart-"+y,!0),P=this,H=(p||parseInt(B.style("width"))||960)-c.left-c.right,F=(f||parseInt(B.style("height"))||400)-c.top-c.bottom;if(t.update=function(){t(n)},t.container=this,b.disabled=x.map(function(t){return!!t.disabled}),!k){var L;k={};for(L in b)k[L]=b[L]instanceof Array?b[L].slice(0):b[L]}var T=d3.behavior.drag().on("dragstart",D).on("drag",I).on("dragend",W);if(!(x&&x.length&&x.filter(function(t){return t.values.length}).length)){var N=B.selectAll(".nv-noData").data([w]);return N.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),N.attr("x",c.left+H/2).attr("y",c.top+F/2).text(function(t){return t}),t}if(B.selectAll(".nv-noData").remove(),r=o.xScale(),a=o.yScale(),v)o.yDomain(null);else{var Y=x.filter(function(t){return!t.disabled}).map(function(t){var e=d3.extent(t.values,o.y());return-.95>e[0]&&(e[0]=-.95),[(e[0]-e[1])/(1+e[1]),(e[1]-e[0])/(1+e[0])]}),E=[d3.min(Y,function(t){return t[0]}),d3.max(Y,function(t){return t[1]})];o.yDomain(E)}C.domain([0,x[0].values.length-1]).range([0,H]).clamp(!0);var x=e(M.i,x),V=B.selectAll("g.nv-wrap.nv-cumulativeLine").data([x]),_=V.enter().append("g").attr("class","nvd3 nv-wrap nv-cumulativeLine").append("g"),X=V.select("g");if(_.append("g").attr("class","nv-x nv-axis"),_.append("g").attr("class","nv-y nv-axis"),_.append("g").attr("class","nv-background"),_.append("g").attr("class","nv-linesWrap"),_.append("g").attr("class","nv-legendWrap"),_.append("g").attr("class","nv-controlsWrap"),g&&(s.width(H),X.select(".nv-legendWrap").datum(x).call(s),c.top!=s.height()&&(c.top=s.height(),F=(f||parseInt(B.style("height"))||400)-c.top-c.bottom),X.select(".nv-legendWrap").attr("transform","translate(0,"+-c.top+")")),m){var R=[{key:"Re-scale y-axis",disabled:!v}];u.width(140).color(["#444","#444","#444"]),X.select(".nv-controlsWrap").datum(R).attr("transform","translate(0,"+-c.top+")").call(u)}V.attr("transform","translate("+c.left+","+c.top+")");var K=x.filter(function(t){return t.tempDisabled});V.select(".tempDisabled").remove(),K.length&&V.append("text").attr("class","tempDisabled").attr("x",H/2).attr("y","-.71em").style("text-anchor","end").text(K.map(function(t){return t.key}).join(", ")+" values cannot be calculated for this time period."),_.select(".nv-background").append("rect"),X.select(".nv-background rect").attr("width",H).attr("height",F),o.y(function(t){return t.display.y}).width(H).height(F).color(x.map(function(t,e){return t.color||d(t,e)}).filter(function(t,e){return!x[e].disabled&&!x[e].tempDisabled}));var Z=X.select(".nv-linesWrap").datum(x.filter(function(t){return!t.disabled&&!t.tempDisabled}));Z.call(o);var O=Z.selectAll(".nv-indexLine").data([M]);O.enter().append("rect").attr("class","nv-indexLine").attr("width",3).attr("x",-2).attr("fill","red").attr("fill-opacity",.5).call(T),O.attr("transform",function(t){return"translate("+C(t.i)+",0)"}).attr("height",F),i.scale(r).ticks(Math.min(x[0].values.length,H/70)).tickSize(-F,0),X.select(".nv-x.nv-axis").attr("transform","translate(0,"+a.range()[0]+")"),d3.transition(X.select(".nv-x.nv-axis")).call(i),l.scale(a).ticks(F/36).tickSize(-H,0),d3.transition(X.select(".nv-y.nv-axis")).call(l),X.select(".nv-background rect").on("click",function(){M.x=d3.mouse(this)[0],M.i=Math.round(C.invert(M.x)),b.index=M.i,A.stateChange(b),z()}),o.dispatch.on("elementClick",function(t){M.i=t.pointIndex,M.x=C(M.i),b.index=M.i,A.stateChange(b),z()}),u.dispatch.on("legendClick",function(e){e.disabled=!e.disabled,v=!e.disabled,b.rescaleY=v,A.stateChange(b),n.call(t)}),s.dispatch.on("legendClick",function(e){e.disabled=!e.disabled,x.filter(function(t){return!t.disabled}).length||x.map(function(t){return t.disabled=!1,V.selectAll(".nv-series").classed("disabled",!1),t}),b.disabled=x.map(function(t){return!!t.disabled}),A.stateChange(b),n.call(t)}),A.on("tooltipShow",function(t){h&&S(t,P.parentNode)}),A.on("changeState",function(e){e.disabled!==void 0&&(x.forEach(function(t,n){t.disabled=e.disabled[n]}),b.disabled=e.disabled),e.index!==void 0&&(M.i=e.index,M.x=C(M.i),b.index=e.index,O.data([M])),e.rescaleY!==void 0&&(v=e.rescaleY),n.call(t)})}),t}function e(t,e){return e.map(function(e){var n=o.y()(e.values[t],t);return-.95>n?(e.tempDisabled=!0,e):(e.tempDisabled=!1,e.values=e.values.map(function(t,e){return t.display={y:(o.y()(t,e)-n)/(1+n)},t}),e)})}var r,a,o=n.models.line(),i=n.models.axis(),l=n.models.axis(),s=n.models.legend(),u=n.models.legend(),c={top:30,right:30,bottom:50,left:60},d=n.utils.defaultColor(),p=null,f=null,g=!0,h=!0,m=!0,v=!0,x=function(t,e,n){return"<h3>"+t+"</h3>"+"<p>"+n+" at "+e+"</p>"},y=o.id(),b={index:0,rescaleY:v},k=null,w="No Data Available.",A=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState");i.orient("bottom").tickPadding(7),l.orient("left");var C=d3.scale.linear(),M={i:0,x:0},S=function(e,r){var a=e.pos[0]+(r.offsetLeft||0),s=e.pos[1]+(r.offsetTop||0),u=i.tickFormat()(o.x()(e.point,e.pointIndex)),c=l.tickFormat()(o.y()(e.point,e.pointIndex)),d=x(e.series.key,u,c,e,t);n.tooltip.show([a,s],d,null,null,r)};return o.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+c.left,t.pos[1]+c.top],A.tooltipShow(t)}),o.dispatch.on("elementMouseout.tooltip",function(t){A.tooltipHide(t)}),A.on("tooltipHide",function(){h&&n.tooltip.cleanup()}),t.dispatch=A,t.lines=o,t.legend=s,t.xAxis=i,t.yAxis=l,d3.rebind(t,o,"defined","isArea","x","y","size","xDomain","yDomain","forceX","forceY","interactive","clipEdge","clipVoronoi","id"),t.margin=function(e){return arguments.length?(c.top=e.top!==void 0?e.top:c.top,c.right=e.right!==void 0?e.right:c.right,c.bottom=e.bottom!==void 0?e.bottom:c.bottom,c.left=e.left!==void 0?e.left:c.left,t):c},t.width=function(e){return arguments.length?(p=e,t):p},t.height=function(e){return arguments.length?(f=e,t):f},t.color=function(e){return arguments.length?(d=n.utils.getColor(e),s.color(d),t):d},t.rescaleY=function(t){return arguments.length?v=t:v},t.showControls=function(e){return arguments.length?(m=e,t):m},t.showLegend=function(e){return arguments.length?(g=e,t):g},t.tooltips=function(e){return arguments.length?(h=e,t):h},t.tooltipContent=function(e){return arguments.length?(x=e,t):x},t.state=function(e){return arguments.length?(b=e,t):b},t.defaultState=function(e){return arguments.length?(k=e,t):k},t.noData=function(e){return arguments.length?(w=e,t):w},t},n.models.discreteBar=function(){function t(n){return n.each(function(t){var n=l-i.left-i.right,u=s-i.top-i.bottom,b=d3.select(this);t=t.map(function(t,e){return t.values=t.values.map(function(t){return t.series=e,t}),t});var k=e&&r?[]:t.map(function(t){return t.values.map(function(t,e){return{x:p(t,e),y:f(t,e),y0:t.y0}})});c.domain(e||d3.merge(k).map(function(t){return t.x})).rangeBands([0,n],.1),d.domain(r||d3.extent(d3.merge(k).map(function(t){return t.y}).concat(g))),m?d.range([u-(0>d.domain()[0]?12:0),d.domain()[1]>0?12:0]):d.range([u,0]),a=a||c,o=o||d.copy().range([d(0),d(0)]);var w=b.selectAll("g.nv-wrap.nv-discretebar").data([t]),A=w.enter().append("g").attr("class","nvd3 nv-wrap nv-discretebar"),C=A.append("g");w.select("g"),C.append("g").attr("class","nv-groups"),w.attr("transform","translate("+i.left+","+i.top+")");var M=w.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t){return t.key});M.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),d3.transition(M.exit()).style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),M.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}),d3.transition(M).style("stroke-opacity",1).style("fill-opacity",.75);var S=M.selectAll("g.nv-bar").data(function(t){return t.values});S.exit().remove();var D=S.enter().append("g").attr("transform",function(t,e){return"translate("+(c(p(t,e))+.05*c.rangeBand())+", "+d(0)+")"}).on("mouseover",function(e,n){d3.select(this).classed("hover",!0),x.elementMouseover({value:f(e,n),point:e,series:t[e.series],pos:[c(p(e,n))+c.rangeBand()*(e.series+.5)/t.length,d(f(e,n))],pointIndex:n,seriesIndex:e.series,e:d3.event})}).on("mouseout",function(e,n){d3.select(this).classed("hover",!1),x.elementMouseout({value:f(e,n),point:e,series:t[e.series],pointIndex:n,seriesIndex:e.series,e:d3.event})}).on("click",function(e,n){x.elementClick({value:f(e,n),point:e,series:t[e.series],pos:[c(p(e,n))+c.rangeBand()*(e.series+.5)/t.length,d(f(e,n))],pointIndex:n,seriesIndex:e.series,e:d3.event}),d3.event.stopPropagation()}).on("dblclick",function(e,n){x.elementDblClick({value:f(e,n),point:e,series:t[e.series],pos:[c(p(e,n))+c.rangeBand()*(e.series+.5)/t.length,d(f(e,n))],pointIndex:n,seriesIndex:e.series,e:d3.event}),d3.event.stopPropagation()});D.append("rect").attr("height",0).attr("width",.9*c.rangeBand()/t.length),m?(D.append("text").attr("text-anchor","middle"),S.select("text").attr("x",.9*c.rangeBand()/2).attr("y",function(t,e){return 0>f(t,e)?d(f(t,e))-d(0)+12:-4}).text(function(t,e){return v(f(t,e))})):S.selectAll("text").remove(),S.attr("class",function(t,e){return 0>f(t,e)?"nv-bar negative":"nv-bar positive"}).style("fill",function(t,e){return t.color||h(t,e)}).style("stroke",function(t,e){return t.color||h(t,e)}).select("rect").attr("class",y).attr("width",.9*c.rangeBand()/t.length),d3.transition(S).attr("transform",function(t,e){var n=c(p(t,e))+.05*c.rangeBand(),r=0>f(t,e)?d(0):1>d(0)-d(f(t,e))?d(0)-1:d(f(t,e));return"translate("+n+", "+r+")"}).select("rect").attr("height",function(t,e){return Math.max(Math.abs(d(f(t,e))-d(0))||1)}),a=c.copy(),o=d.copy()}),t}var e,r,a,o,i={top:0,right:0,bottom:0,left:0},l=960,s=500,u=Math.floor(1e4*Math.random()),c=d3.scale.ordinal(),d=d3.scale.linear(),p=function(t){return t.x
},f=function(t){return t.y},g=[0],h=n.utils.defaultColor(),m=!1,v=d3.format(",.2f"),x=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout"),y="discreteBar";return t.dispatch=x,t.x=function(e){return arguments.length?(p=e,t):p},t.y=function(e){return arguments.length?(f=e,t):f},t.margin=function(e){return arguments.length?(i.top=e.top!==void 0?e.top:i.top,i.right=e.right!==void 0?e.right:i.right,i.bottom=e.bottom!==void 0?e.bottom:i.bottom,i.left=e.left!==void 0?e.left:i.left,t):i},t.width=function(e){return arguments.length?(l=e,t):l},t.height=function(e){return arguments.length?(s=e,t):s},t.xScale=function(e){return arguments.length?(c=e,t):c},t.yScale=function(e){return arguments.length?(d=e,t):d},t.xDomain=function(n){return arguments.length?(e=n,t):e},t.yDomain=function(e){return arguments.length?(r=e,t):r},t.forceY=function(e){return arguments.length?(g=e,t):g},t.color=function(e){return arguments.length?(h=n.utils.getColor(e),t):h},t.id=function(e){return arguments.length?(u=e,t):u},t.showValues=function(e){return arguments.length?(m=e,t):m},t.valueFormat=function(e){return arguments.length?(v=e,t):v},t.rectClass=function(e){return arguments.length?(y=e,t):y},t},n.models.discreteBarChart=function(){function t(n){return n.each(function(c){var f=d3.select(this),v=this,x=(s||parseInt(f.style("width"))||960)-l.left-l.right,y=(u||parseInt(f.style("height"))||400)-l.top-l.bottom;if(t.update=function(){h.beforeUpdate(),n.transition().call(t)},t.container=this,!(c&&c.length&&c.filter(function(t){return t.values.length}).length)){var b=f.selectAll(".nv-noData").data([g]);return b.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),b.attr("x",l.left+x/2).attr("y",l.top+y/2).text(function(t){return t}),t}f.selectAll(".nv-noData").remove(),e=a.xScale(),r=a.yScale();var k=f.selectAll("g.nv-wrap.nv-discreteBarWithAxes").data([c]),w=k.enter().append("g").attr("class","nvd3 nv-wrap nv-discreteBarWithAxes").append("g"),A=w.append("defs"),C=k.select("g");w.append("g").attr("class","nv-x nv-axis"),w.append("g").attr("class","nv-y nv-axis"),w.append("g").attr("class","nv-barsWrap"),C.attr("transform","translate("+l.left+","+l.top+")"),a.width(x).height(y);var M=C.select(".nv-barsWrap").datum(c.filter(function(t){return!t.disabled}));d3.transition(M).call(a),A.append("clipPath").attr("id","nv-x-label-clip-"+a.id()).append("rect"),C.select("#nv-x-label-clip-"+a.id()+" rect").attr("width",e.rangeBand()*(d?2:1)).attr("height",16).attr("x",-e.rangeBand()/(d?1:2)),o.scale(e).ticks(x/100).tickSize(-y,0),C.select(".nv-x.nv-axis").attr("transform","translate(0,"+(r.range()[0]+(a.showValues()&&0>r.domain()[0]?16:0))+")"),C.select(".nv-x.nv-axis").transition().duration(0).call(o);var S=C.select(".nv-x.nv-axis").selectAll("g");d&&S.selectAll("text").attr("transform",function(t,e,n){return"translate(0,"+(0==n%2?"5":"17")+")"}),i.scale(r).ticks(y/36).tickSize(-x,0),d3.transition(C.select(".nv-y.nv-axis")).call(i),h.on("tooltipShow",function(t){p&&m(t,v.parentNode)})}),t}var e,r,a=n.models.discreteBar(),o=n.models.axis(),i=n.models.axis(),l={top:15,right:10,bottom:50,left:60},s=null,u=null,c=n.utils.getColor(),d=!1,p=!0,f=function(t,e,n){return"<h3>"+e+"</h3>"+"<p>"+n+"</p>"},g="No Data Available.",h=d3.dispatch("tooltipShow","tooltipHide","beforeUpdate");o.orient("bottom").highlightZero(!1).showMaxMin(!1).tickFormat(function(t){return t}),i.orient("left").tickFormat(d3.format(",.1f"));var m=function(e,r){var l=e.pos[0]+(r.offsetLeft||0),s=e.pos[1]+(r.offsetTop||0),u=o.tickFormat()(a.x()(e.point,e.pointIndex)),c=i.tickFormat()(a.y()(e.point,e.pointIndex)),d=f(e.series.key,u,c,e,t);n.tooltip.show([l,s],d,0>e.value?"n":"s",null,r)};return a.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+l.left,t.pos[1]+l.top],h.tooltipShow(t)}),a.dispatch.on("elementMouseout.tooltip",function(t){h.tooltipHide(t)}),h.on("tooltipHide",function(){p&&n.tooltip.cleanup()}),t.dispatch=h,t.discretebar=a,t.xAxis=o,t.yAxis=i,d3.rebind(t,a,"x","y","xDomain","yDomain","forceX","forceY","id","showValues","valueFormat"),t.margin=function(e){return arguments.length?(l.top=e.top!==void 0?e.top:l.top,l.right=e.right!==void 0?e.right:l.right,l.bottom=e.bottom!==void 0?e.bottom:l.bottom,l.left=e.left!==void 0?e.left:l.left,t):l},t.width=function(e){return arguments.length?(s=e,t):s},t.height=function(e){return arguments.length?(u=e,t):u},t.color=function(e){return arguments.length?(c=n.utils.getColor(e),a.color(c),t):c},t.staggerLabels=function(e){return arguments.length?(d=e,t):d},t.tooltips=function(e){return arguments.length?(p=e,t):p},t.tooltipContent=function(e){return arguments.length?(f=e,t):f},t.noData=function(e){return arguments.length?(g=e,t):g},t},n.models.distribution=function(){function t(n){return n.each(function(t){var n=(a-("x"===i?r.left+r.right:r.top+r.bottom),"x"==i?"y":"x"),c=d3.select(this);e=e||u;var d=c.selectAll("g.nv-distribution").data([t]),p=d.enter().append("g").attr("class","nvd3 nv-distribution");p.append("g");var f=d.select("g");d.attr("transform","translate("+r.left+","+r.top+")");var g=f.selectAll("g.nv-dist").data(function(t){return t},function(t){return t.key});g.enter().append("g"),g.attr("class",function(t,e){return"nv-dist nv-series-"+e}).style("stroke",function(t,e){return s(t,e)});var h=g.selectAll("line.nv-dist"+i).data(function(t){return t.values});h.enter().append("line").attr(i+"1",function(t,n){return e(l(t,n))}).attr(i+"2",function(t,n){return e(l(t,n))}),d3.transition(g.exit().selectAll("line.nv-dist"+i)).attr(i+"1",function(t,e){return u(l(t,e))}).attr(i+"2",function(t,e){return u(l(t,e))}).style("stroke-opacity",0).remove(),h.attr("class",function(t,e){return"nv-dist"+i+" nv-dist"+i+"-"+e}).attr(n+"1",0).attr(n+"2",o),d3.transition(h).attr(i+"1",function(t,e){return u(l(t,e))}).attr(i+"2",function(t,e){return u(l(t,e))}),e=u.copy()}),t}var e,r={top:0,right:0,bottom:0,left:0},a=400,o=8,i="x",l=function(t){return t[i]},s=n.utils.defaultColor(),u=d3.scale.linear();return t.margin=function(e){return arguments.length?(r.top=e.top!==void 0?e.top:r.top,r.right=e.right!==void 0?e.right:r.right,r.bottom=e.bottom!==void 0?e.bottom:r.bottom,r.left=e.left!==void 0?e.left:r.left,t):r},t.width=function(e){return arguments.length?(a=e,t):a},t.axis=function(e){return arguments.length?(i=e,t):i},t.size=function(e){return arguments.length?(o=e,t):o},t.getData=function(e){return arguments.length?(l=d3.functor(e),t):l},t.scale=function(e){return arguments.length?(u=e,t):u},t.color=function(e){return arguments.length?(s=n.utils.getColor(e),t):s},t},n.models.indentedTree=function(){function t(e){return e.each(function(e){function n(e,r,a){return d3.event.stopPropagation(),d3.event.shiftKey&&!a?(d3.event.shiftKey=!1,e.values&&e.values.forEach(function(t){(t.values||t._values)&&n(t,0,!0)}),!0):i(e)?(e.values?(e._values=e.values,e.values=null):(e.values=e._values,e._values=null),t.update(),void 0):!0}function r(t){return t._values&&t._values.length?f:t.values&&t.values.length?g:""}function o(t){return t._values&&t._values.length}function i(t){var e=t.values||t._values;return e&&e.length}var v=1,x=d3.select(this),y=d3.layout.tree().children(function(t){return t.values}).size([a,c]);t.update=function(){x.transition().duration(600).call(t)},e[0]||(e[0]={key:u});var b=y.nodes(e[0]),k=d3.select(this).selectAll("div").data([[b]]),w=k.enter().append("div").attr("class","nvd3 nv-wrap nv-indentedtree"),A=w.append("table"),C=k.select("table").attr("width","100%").attr("class",p);if(l){var M=A.append("thead"),S=M.append("tr");d.forEach(function(t){S.append("th").attr("width",t.width?t.width:"10%").style("text-align","numeric"==t.type?"right":"left").append("span").text(t.label)})}var D=C.selectAll("tbody").data(function(t){return t});D.enter().append("tbody"),v=d3.max(b,function(t){return t.depth}),y.size([a,v*c]);var I=D.selectAll("tr").data(function(t){return t.filter(function(t){return s&&!t.children?s(t):!0})},function(t){return t.id||t.id||++m});I.exit().remove(),I.select("img.nv-treeicon").attr("src",r).classed("folded",o);var W=I.enter().append("tr");d.forEach(function(t,e){var a=W.append("td").style("padding-left",function(t){return(e?0:t.depth*c+12+(r(t)?0:16))+"px"},"important").style("text-align","numeric"==t.type?"right":"left");0==e&&a.append("img").classed("nv-treeicon",!0).classed("nv-folded",o).attr("src",r).style("width","14px").style("height","14px").style("padding","0 1px").style("display",function(t){return r(t)?"inline-block":"none"}).on("click",n),a.append("span").attr("class",d3.functor(t.classes)).text(function(e){return t.format?t.format(e):e[t.key]||"-"}),t.showCount&&(a.append("span").attr("class","nv-childrenCount"),I.selectAll("span.nv-childrenCount").text(function(t){return t.values&&t.values.length||t._values&&t._values.length?"("+(t.values&&t.values.filter(function(t){return s?s(t):!0}).length||t._values&&t._values.filter(function(t){return s?s(t):!0}).length||0)+")":""})),t.click&&a.select("span").on("click",t.click)}),I.order().on("click",function(t){h.elementClick({row:this,data:t,pos:[t.x,t.y]})}).on("dblclick",function(t){h.elementDblclick({row:this,data:t,pos:[t.x,t.y]})}).on("mouseover",function(t){h.elementMouseover({row:this,data:t,pos:[t.x,t.y]})}).on("mouseout",function(t){h.elementMouseout({row:this,data:t,pos:[t.x,t.y]})})}),t}var e={top:0,right:0,bottom:0,left:0},r=960,a=500,o=n.utils.defaultColor(),i=Math.floor(1e4*Math.random()),l=!0,s=!1,u="No Data Available.",c=20,d=[{key:"key",label:"Name",type:"text"}],p=null,f="images/grey-plus.png",g="images/grey-minus.png",h=d3.dispatch("elementClick","elementDblclick","elementMouseover","elementMouseout"),m=0;return t.margin=function(n){return arguments.length?(e.top=n.top!==void 0?n.top:e.top,e.right=n.right!==void 0?n.right:e.right,e.bottom=n.bottom!==void 0?n.bottom:e.bottom,e.left=n.left!==void 0?n.left:e.left,t):e},t.width=function(e){return arguments.length?(r=e,t):r},t.height=function(e){return arguments.length?(a=e,t):a},t.color=function(e){return arguments.length?(o=n.utils.getColor(e),scatter.color(o),t):o},t.id=function(e){return arguments.length?(i=e,t):i},t.header=function(e){return arguments.length?(l=e,t):l},t.noData=function(e){return arguments.length?(u=e,t):u},t.filterZero=function(e){return arguments.length?(s=e,t):s},t.columns=function(e){return arguments.length?(d=e,t):d},t.tableClass=function(e){return arguments.length?(p=e,t):p},t.iconOpen=function(e){return arguments.length?(f=e,t):f},t.iconClose=function(e){return arguments.length?(g=e,t):g},t},n.models.legend=function(){function t(n){return n.each(function(t){var n=r-e.left-e.right,u=d3.select(this),c=u.selectAll("g.nv-legend").data([t]);c.enter().append("g").attr("class","nvd3 nv-legend").append("g");var d=c.select("g");c.attr("transform","translate("+e.left+","+e.top+")");var p=d.selectAll(".nv-series").data(function(t){return t}),f=p.enter().append("g").attr("class","nv-series").on("mouseover",function(t,e){s.legendMouseover(t,e)}).on("mouseout",function(t,e){s.legendMouseout(t,e)}).on("click",function(t,e){s.legendClick(t,e)}).on("dblclick",function(t,e){s.legendDblclick(t,e)});if(f.append("circle").style("stroke-width",2).attr("r",5),f.append("text").attr("text-anchor","start").attr("dy",".32em").attr("dx","8"),p.classed("disabled",function(t){return t.disabled}),p.exit().remove(),p.select("circle").style("fill",function(t,e){return t.color||i(t,e)}).style("stroke",function(t,e){return t.color||i(t,e)}),p.select("text").text(o),l){var g=[];p.each(function(){g.push(d3.select(this).select("text").node().getComputedTextLength()+28)});for(var h=0,m=0,v=[];n>m&&g.length>h;)v[h]=g[h],m+=g[h++];for(;m>n&&h>1;){for(v=[],h--,k=0;g.length>k;k++)g[k]>(v[k%h]||0)&&(v[k%h]=g[k]);m=v.reduce(function(t,e){return t+e})}for(var x=[],y=0,b=0;h>y;y++)x[y]=b,b+=v[y];p.attr("transform",function(t,e){return"translate("+x[e%h]+","+(5+20*Math.floor(e/h))+")"}),d.attr("transform","translate("+(r-e.right-m)+","+e.top+")"),a=e.top+e.bottom+20*Math.ceil(g.length/h)}else{var w,A=5,C=5,M=0;p.attr("transform",function(){var t=d3.select(this).select("text").node().getComputedTextLength()+28;return w=C,e.left+e.right+w+t>r&&(C=w=5,A+=20),C+=t,C>M&&(M=C),"translate("+w+","+A+")"}),d.attr("transform","translate("+(r-e.right-M)+","+e.top+")"),a=e.top+e.bottom+A+15}}),t}var e={top:5,right:0,bottom:5,left:0},r=400,a=20,o=function(t){return t.key},i=n.utils.defaultColor(),l=!0,s=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout");return t.dispatch=s,t.margin=function(n){return arguments.length?(e.top=n.top!==void 0?n.top:e.top,e.right=n.right!==void 0?n.right:e.right,e.bottom=n.bottom!==void 0?n.bottom:e.bottom,e.left=n.left!==void 0?n.left:e.left,t):e},t.width=function(e){return arguments.length?(r=e,t):r},t.height=function(e){return arguments.length?(a=e,t):a},t.key=function(e){return arguments.length?(o=e,t):o},t.color=function(e){return arguments.length?(i=n.utils.getColor(e),t):i},t.align=function(e){return arguments.length?(l=e,t):l},t},n.models.line=function(){function t(n){return n.each(function(t){var n=i-o.left-o.right,v=l-o.top-o.bottom,x=d3.select(this);e=a.xScale(),r=a.yScale(),h=h||e,m=m||r;var y=x.selectAll("g.nv-wrap.nv-line").data([t]),b=y.enter().append("g").attr("class","nvd3 nv-wrap nv-line"),k=b.append("defs"),w=b.append("g"),A=y.select("g");w.append("g").attr("class","nv-groups"),w.append("g").attr("class","nv-scatterWrap"),y.attr("transform","translate("+o.left+","+o.top+")"),a.width(n).height(v);var C=y.select(".nv-scatterWrap");d3.transition(C).call(a),k.append("clipPath").attr("id","nv-edge-clip-"+a.id()).append("rect"),y.select("#nv-edge-clip-"+a.id()+" rect").attr("width",n).attr("height",v),A.attr("clip-path",f?"url(#nv-edge-clip-"+a.id()+")":""),C.attr("clip-path",f?"url(#nv-edge-clip-"+a.id()+")":"");var M=y.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t){return t.key});M.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),d3.transition(M.exit()).style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),M.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}).style("fill",function(t,e){return s(t,e)}).style("stroke",function(t,e){return s(t,e)}),d3.transition(M).style("stroke-opacity",1).style("fill-opacity",.5);var S=M.selectAll("path.nv-area").data(function(t){return p(t)?[t]:[]});S.enter().append("path").attr("class","nv-area").attr("d",function(t){return d3.svg.area().interpolate(g).defined(d).x(function(t,e){return h(u(t,e))}).y0(function(t,e){return m(c(t,e))}).y1(function(){return m(0>=r.domain()[0]?r.domain()[1]>=0?0:r.domain()[1]:r.domain()[0])}).apply(this,[t.values])}),d3.transition(M.exit().selectAll("path.nv-area")).attr("d",function(t){return d3.svg.area().interpolate(g).defined(d).x(function(t,e){return h(u(t,e))}).y0(function(t,e){return m(c(t,e))}).y1(function(){return m(0>=r.domain()[0]?r.domain()[1]>=0?0:r.domain()[1]:r.domain()[0])}).apply(this,[t.values])}),d3.transition(S).attr("d",function(t){return d3.svg.area().interpolate(g).defined(d).x(function(t,e){return h(u(t,e))}).y0(function(t,e){return m(c(t,e))}).y1(function(){return m(0>=r.domain()[0]?r.domain()[1]>=0?0:r.domain()[1]:r.domain()[0])}).apply(this,[t.values])});var D=M.selectAll("path.nv-line").data(function(t){return[t.values]});D.enter().append("path").attr("class","nv-line").attr("d",d3.svg.line().interpolate(g).defined(d).x(function(t,e){return h(u(t,e))}).y(function(t,e){return m(c(t,e))})),d3.transition(M.exit().selectAll("path.nv-line")).attr("d",d3.svg.line().interpolate(g).defined(d).x(function(t,n){return e(u(t,n))}).y(function(t,e){return r(c(t,e))})),d3.transition(D).attr("d",d3.svg.line().interpolate(g).defined(d).x(function(t,n){return e(u(t,n))}).y(function(t,e){return r(c(t,e))})),h=e.copy(),m=r.copy()}),t}var e,r,a=n.models.scatter(),o={top:0,right:0,bottom:0,left:0},i=960,l=500,s=n.utils.defaultColor(),u=function(t){return t.x},c=function(t){return t.y},d=function(t,e){return!isNaN(c(t,e))&&null!==c(t,e)},p=function(t){return t.area},f=!1,g="linear";a.size(16).sizeDomain([16,256]);var h,m;return t.dispatch=a.dispatch,t.scatter=a,d3.rebind(t,a,"id","interactive","size","xScale","yScale","zScale","xDomain","yDomain","sizeDomain","forceX","forceY","forceSize","clipVoronoi","clipRadius","padData"),t.margin=function(e){return arguments.length?(o.top=e.top!==void 0?e.top:o.top,o.right=e.right!==void 0?e.right:o.right,o.bottom=e.bottom!==void 0?e.bottom:o.bottom,o.left=e.left!==void 0?e.left:o.left,t):o},t.width=function(e){return arguments.length?(i=e,t):i},t.height=function(e){return arguments.length?(l=e,t):l},t.x=function(e){return arguments.length?(u=e,a.x(e),t):u},t.y=function(e){return arguments.length?(c=e,a.y(e),t):c},t.clipEdge=function(e){return arguments.length?(f=e,t):f},t.color=function(e){return arguments.length?(s=n.utils.getColor(e),a.color(s),t):s},t.interpolate=function(e){return arguments.length?(g=e,t):g},t.defined=function(e){return arguments.length?(d=e,t):d},t.isArea=function(e){return arguments.length?(p=d3.functor(e),t):p},t},n.models.lineChart=function(){function t(n){return n.each(function(g){var b=d3.select(this),k=this,w=(c||parseInt(b.style("width"))||960)-s.left-s.right,A=(d||parseInt(b.style("height"))||400)-s.top-s.bottom;if(t.update=function(){t(n)},t.container=this,h.disabled=g.map(function(t){return!!t.disabled}),!m){var C;m={};for(C in h)m[C]=h[C]instanceof Array?h[C].slice(0):h[C]}if(!(g&&g.length&&g.filter(function(t){return t.values.length}).length)){var M=b.selectAll(".nv-noData").data([v]);return M.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),M.attr("x",s.left+w/2).attr("y",s.top+A/2).text(function(t){return t}),t}b.selectAll(".nv-noData").remove(),e=a.xScale(),r=a.yScale();var S=b.selectAll("g.nv-wrap.nv-lineChart").data([g]),D=S.enter().append("g").attr("class","nvd3 nv-wrap nv-lineChart").append("g"),I=S.select("g");D.append("g").attr("class","nv-x nv-axis"),D.append("g").attr("class","nv-y nv-axis"),D.append("g").attr("class","nv-linesWrap"),D.append("g").attr("class","nv-legendWrap"),p&&(l.width(w),I.select(".nv-legendWrap").datum(g).call(l),s.top!=l.height()&&(s.top=l.height(),A=(d||parseInt(b.style("height"))||400)-s.top-s.bottom),S.select(".nv-legendWrap").attr("transform","translate(0,"+-s.top+")")),S.attr("transform","translate("+s.left+","+s.top+")"),a.width(w).height(A).color(g.map(function(t,e){return t.color||u(t,e)}).filter(function(t,e){return!g[e].disabled}));var W=I.select(".nv-linesWrap").datum(g.filter(function(t){return!t.disabled}));d3.transition(W).call(a),o.scale(e).ticks(w/100).tickSize(-A,0),I.select(".nv-x.nv-axis").attr("transform","translate(0,"+r.range()[0]+")"),d3.transition(I.select(".nv-x.nv-axis")).call(o),i.scale(r).ticks(A/36).tickSize(-w,0),d3.transition(I.select(".nv-y.nv-axis")).call(i),l.dispatch.on("legendClick",function(e){e.disabled=!e.disabled,g.filter(function(t){return!t.disabled}).length||g.map(function(t){return t.disabled=!1,S.selectAll(".nv-series").classed("disabled",!1),t}),h.disabled=g.map(function(t){return!!t.disabled}),x.stateChange(h),n.transition().call(t)}),x.on("tooltipShow",function(t){f&&y(t,k.parentNode)}),x.on("changeState",function(e){e.disabled!==void 0&&(g.forEach(function(t,n){t.disabled=e.disabled[n]}),h.disabled=e.disabled),n.call(t)})}),t}var e,r,a=n.models.line(),o=n.models.axis(),i=n.models.axis(),l=n.models.legend(),s={top:30,right:20,bottom:50,left:60},u=n.utils.defaultColor(),c=null,d=null,p=!0,f=!0,g=function(t,e,n){return"<h3>"+t+"</h3>"+"<p>"+n+" at "+e+"</p>"},h={},m=null,v="No Data Available.",x=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState");o.orient("bottom").tickPadding(7),i.orient("left");var y=function(e,r){if(r){var l=d3.select(r).select("svg"),s=l.attr("viewBox");if(s){s=s.split(" ");var u=parseInt(l.style("width"))/s[2];e.pos[0]=e.pos[0]*u,e.pos[1]=e.pos[1]*u}}var c=e.pos[0]+(r.offsetLeft||0),d=e.pos[1]+(r.offsetTop||0),p=o.tickFormat()(a.x()(e.point,e.pointIndex)),f=i.tickFormat()(a.y()(e.point,e.pointIndex)),h=g(e.series.key,p,f,e,t);n.tooltip.show([c,d],h,null,null,r)};return a.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+s.left,t.pos[1]+s.top],x.tooltipShow(t)}),a.dispatch.on("elementMouseout.tooltip",function(t){x.tooltipHide(t)}),x.on("tooltipHide",function(){f&&n.tooltip.cleanup()}),t.dispatch=x,t.lines=a,t.legend=l,t.xAxis=o,t.yAxis=i,d3.rebind(t,a,"defined","isArea","x","y","size","xScale","yScale","xDomain","yDomain","forceX","forceY","interactive","clipEdge","clipVoronoi","id","interpolate"),t.margin=function(e){return arguments.length?(s.top=e.top!==void 0?e.top:s.top,s.right=e.right!==void 0?e.right:s.right,s.bottom=e.bottom!==void 0?e.bottom:s.bottom,s.left=e.left!==void 0?e.left:s.left,t):s},t.width=function(e){return arguments.length?(c=e,t):c},t.height=function(e){return arguments.length?(d=e,t):d},t.color=function(e){return arguments.length?(u=n.utils.getColor(e),l.color(u),t):u},t.showLegend=function(e){return arguments.length?(p=e,t):p},t.tooltips=function(e){return arguments.length?(f=e,t):f},t.tooltipContent=function(e){return arguments.length?(g=e,t):g},t.state=function(e){return arguments.length?(h=e,t):h},t.defaultState=function(e){return arguments.length?(m=e,t):m},t.noData=function(e){return arguments.length?(v=e,t):v},t},n.models.linePlusBarChart=function(){function t(n){return n.each(function(g){var h=d3.select(this),y=this,M=(p||parseInt(h.style("width"))||960)-d.left-d.right,S=(f||parseInt(h.style("height"))||400)-d.top-d.bottom;if(t.update=function(){t(n)},t.container=this,b.disabled=g.map(function(t){return!!t.disabled}),!k){var D;k={};for(D in b)k[D]=b[D]instanceof Array?b[D].slice(0):b[D]}if(!(g&&g.length&&g.filter(function(t){return t.values.length}).length)){var I=h.selectAll(".nv-noData").data([w]);return I.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),I.attr("x",d.left+M/2).attr("y",d.top+S/2).text(function(t){return t}),t}h.selectAll(".nv-noData").remove();var W=g.filter(function(t){return!t.disabled&&t.bar}),z=g.filter(function(t){return!t.bar});e=z.filter(function(t){return!t.disabled}).length&&z.filter(function(t){return!t.disabled})[0].values.length?o.xScale():i.xScale(),r=i.yScale(),a=o.yScale();var B=d3.select(this).selectAll("g.nv-wrap.nv-linePlusBar").data([g]),P=B.enter().append("g").attr("class","nvd3 nv-wrap nv-linePlusBar").append("g"),H=B.select("g");P.append("g").attr("class","nv-x nv-axis"),P.append("g").attr("class","nv-y1 nv-axis"),P.append("g").attr("class","nv-y2 nv-axis"),P.append("g").attr("class","nv-barsWrap"),P.append("g").attr("class","nv-linesWrap"),P.append("g").attr("class","nv-legendWrap"),v&&(c.width(M/2),H.select(".nv-legendWrap").datum(g.map(function(t){return t.originalKey=void 0===t.originalKey?t.key:t.originalKey,t.key=t.originalKey+(t.bar?" (left axis)":" (right axis)"),t})).call(c),d.top!=c.height()&&(d.top=c.height(),S=(f||parseInt(h.style("height"))||400)-d.top-d.bottom),H.select(".nv-legendWrap").attr("transform","translate("+M/2+","+-d.top+")")),B.attr("transform","translate("+d.left+","+d.top+")"),o.width(M).height(S).color(g.map(function(t,e){return t.color||m(t,e)}).filter(function(t,e){return!g[e].disabled&&!g[e].bar})),i.width(M).height(S).color(g.map(function(t,e){return t.color||m(t,e)}).filter(function(t,e){return!g[e].disabled&&g[e].bar}));var F=H.select(".nv-barsWrap").datum(W.length?W:[{values:[]}]),L=H.select(".nv-linesWrap").datum(z[0]&&!z[0].disabled?z:[{values:[]}]);d3.transition(F).call(i),d3.transition(L).call(o),l.scale(e).ticks(M/100).tickSize(-S,0),H.select(".nv-x.nv-axis").attr("transform","translate(0,"+r.range()[0]+")"),d3.transition(H.select(".nv-x.nv-axis")).call(l),s.scale(r).ticks(S/36).tickSize(-M,0),d3.transition(H.select(".nv-y1.nv-axis")).style("opacity",W.length?1:0).call(s),u.scale(a).ticks(S/36).tickSize(W.length?0:-M,0),H.select(".nv-y2.nv-axis").style("opacity",z.length?1:0).attr("transform","translate("+M+",0)"),d3.transition(H.select(".nv-y2.nv-axis")).call(u),c.dispatch.on("legendClick",function(e){e.disabled=!e.disabled,g.filter(function(t){return!t.disabled}).length||g.map(function(t){return t.disabled=!1,B.selectAll(".nv-series").classed("disabled",!1),t}),b.disabled=g.map(function(t){return!!t.disabled}),A.stateChange(b),n.transition().call(t)}),A.on("tooltipShow",function(t){x&&C(t,y.parentNode)}),A.on("changeState",function(e){e.disabled!==void 0&&(g.forEach(function(t,n){t.disabled=e.disabled[n]}),b.disabled=e.disabled),n.call(t)})}),t}var e,r,a,o=n.models.line(),i=n.models.historicalBar(),l=n.models.axis(),s=n.models.axis(),u=n.models.axis(),c=n.models.legend(),d={top:30,right:60,bottom:50,left:60},p=null,f=null,g=function(t){return t.x},h=function(t){return t.y},m=n.utils.defaultColor(),v=!0,x=!0,y=function(t,e,n){return"<h3>"+t+"</h3>"+"<p>"+n+" at "+e+"</p>"},b={},k=null,w="No Data Available.",A=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState");i.padData(!0),o.clipEdge(!1).padData(!0),l.orient("bottom").tickPadding(7).highlightZero(!1),s.orient("left"),u.orient("right");var C=function(e,r){var a=e.pos[0]+(r.offsetLeft||0),i=e.pos[1]+(r.offsetTop||0),c=l.tickFormat()(o.x()(e.point,e.pointIndex)),d=(e.series.bar?s:u).tickFormat()(o.y()(e.point,e.pointIndex)),p=y(e.series.key,c,d,e,t);n.tooltip.show([a,i],p,0>e.value?"n":"s",null,r)};return o.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+d.left,t.pos[1]+d.top],A.tooltipShow(t)}),o.dispatch.on("elementMouseout.tooltip",function(t){A.tooltipHide(t)}),i.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+d.left,t.pos[1]+d.top],A.tooltipShow(t)}),i.dispatch.on("elementMouseout.tooltip",function(t){A.tooltipHide(t)}),A.on("tooltipHide",function(){x&&n.tooltip.cleanup()}),t.dispatch=A,t.legend=c,t.lines=o,t.bars=i,t.xAxis=l,t.y1Axis=s,t.y2Axis=u,d3.rebind(t,o,"defined","size","clipVoronoi","interpolate"),t.x=function(e){return arguments.length?(g=e,o.x(e),i.x(e),t):g},t.y=function(e){return arguments.length?(h=e,o.y(e),i.y(e),t):h},t.margin=function(e){return arguments.length?(d.top=e.top!==void 0?e.top:d.top,d.right=e.right!==void 0?e.right:d.right,d.bottom=e.bottom!==void 0?e.bottom:d.bottom,d.left=e.left!==void 0?e.left:d.left,t):d},t.width=function(e){return arguments.length?(p=e,t):p},t.height=function(e){return arguments.length?(f=e,t):f},t.color=function(e){return arguments.length?(m=n.utils.getColor(e),c.color(m),t):m},t.showLegend=function(e){return arguments.length?(v=e,t):v},t.tooltips=function(e){return arguments.length?(x=e,t):x},t.tooltipContent=function(e){return arguments.length?(y=e,t):y},t.state=function(e){return arguments.length?(b=e,t):b},t.defaultState=function(e){return arguments.length?(k=e,t):k},t.noData=function(e){return arguments.length?(w=e,t):w},t},n.models.lineWithFocusChart=function(){function t(n){return n.each(function(A){function D(t){var e=+("e"==t),n=e?1:-1,r=F/3;return"M"+.5*n+","+r+"A6,6 0 0 "+e+" "+6.5*n+","+(r+6)+"V"+(2*r-6)+"A6,6 0 0 "+e+" "+.5*n+","+2*r+"Z"+"M"+2.5*n+","+(r+8)+"V"+(2*r-8)+"M"+4.5*n+","+(r+8)+"V"+(2*r-8)}function I(){f.empty()||f.extent(k),X.data([f.empty()?a.domain():k]).each(function(t){var n=a(t[0])-e.range()[0],r=e.range()[1]-a(t[1]);d3.select(this).select(".left").attr("width",0>n?0:n),d3.select(this).select(".right").attr("x",a(t[1])).attr("width",0>r?0:r)})}function W(){k=f.empty()?null:f.extent(),extent=f.empty()?a.domain():f.extent(),M.brush({extent:extent,brush:f}),I();var t=Y.select(".nv-focus .nv-linesWrap").datum(A.filter(function(t){return!t.disabled}).map(function(t){return{key:t.key,values:t.values.filter(function(t,e){return i.x()(t,e)>=extent[0]&&i.x()(t,e)<=extent[1]})}}));d3.transition(t).call(i),d3.transition(Y.select(".nv-focus .nv-x.nv-axis")).call(s),d3.transition(Y.select(".nv-focus .nv-y.nv-axis")).call(u)}var z=d3.select(this),B=this,P=(v||parseInt(z.style("width"))||960)-g.left-g.right,H=(x||parseInt(z.style("height"))||400)-g.top-g.bottom-y,F=y-h.top-h.bottom;if(t.update=function(){t(n)},t.container=this,!(A&&A.length&&A.filter(function(t){return t.values.length}).length)){var L=z.selectAll(".nv-noData").data([C]);return L.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),L.attr("x",g.left+P/2).attr("y",g.top+H/2).text(function(t){return t}),t}z.selectAll(".nv-noData").remove(),e=i.xScale(),r=i.yScale(),a=l.xScale(),o=l.yScale();var T=z.selectAll("g.nv-wrap.nv-lineWithFocusChart").data([A]),N=T.enter().append("g").attr("class","nvd3 nv-wrap nv-lineWithFocusChart").append("g"),Y=T.select("g");N.append("g").attr("class","nv-legendWrap");var E=N.append("g").attr("class","nv-focus");E.append("g").attr("class","nv-x nv-axis"),E.append("g").attr("class","nv-y nv-axis"),E.append("g").attr("class","nv-linesWrap");var V=N.append("g").attr("class","nv-context");V.append("g").attr("class","nv-x nv-axis"),V.append("g").attr("class","nv-y nv-axis"),V.append("g").attr("class","nv-linesWrap"),V.append("g").attr("class","nv-brushBackground"),V.append("g").attr("class","nv-x nv-brush"),b&&(p.width(P),Y.select(".nv-legendWrap").datum(A).call(p),g.top!=p.height()&&(g.top=p.height(),H=(x||parseInt(z.style("height"))||400)-g.top-g.bottom-y),Y.select(".nv-legendWrap").attr("transform","translate(0,"+-g.top+")")),T.attr("transform","translate("+g.left+","+g.top+")"),i.width(P).height(H).color(A.map(function(t,e){return t.color||m(t,e)}).filter(function(t,e){return!A[e].disabled})),l.defined(i.defined()).width(P).height(F).color(A.map(function(t,e){return t.color||m(t,e)}).filter(function(t,e){return!A[e].disabled})),Y.select(".nv-context").attr("transform","translate(0,"+(H+g.bottom+h.top)+")");var _=Y.select(".nv-context .nv-linesWrap").datum(A.filter(function(t){return!t.disabled}));d3.transition(_).call(l),s.scale(e).ticks(P/100).tickSize(-H,0),u.scale(r).ticks(H/36).tickSize(-P,0),Y.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+H+")"),f.x(a).on("brush",W),k&&f.extent(k);var X=Y.select(".nv-brushBackground").selectAll("g").data([k||f.extent()]),R=X.enter().append("g");R.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",F),R.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",F),gBrush=Y.select(".nv-x.nv-brush").call(f),gBrush.selectAll("rect").attr("height",F),gBrush.selectAll(".resize").append("path").attr("d",D),W(),c.scale(a).ticks(P/100).tickSize(-F,0),Y.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+o.range()[0]+")"),d3.transition(Y.select(".nv-context .nv-x.nv-axis")).call(c),d.scale(o).ticks(F/36).tickSize(-P,0),d3.transition(Y.select(".nv-context .nv-y.nv-axis")).call(d),Y.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+o.range()[0]+")"),p.dispatch.on("legendClick",function(e){e.disabled=!e.disabled,A.filter(function(t){return!t.disabled}).length||A.map(function(t){return t.disabled=!1,T.selectAll(".nv-series").classed("disabled",!1),t}),n.transition().call(t)}),M.on("tooltipShow",function(t){w&&S(t,B.parentNode)})}),t}var e,r,a,o,i=n.models.line(),l=n.models.line(),s=n.models.axis(),u=n.models.axis(),c=n.models.axis(),d=n.models.axis(),p=n.models.legend(),f=d3.svg.brush(),g={top:30,right:30,bottom:30,left:60},h={top:0,right:30,bottom:20,left:60},m=n.utils.defaultColor(),v=null,x=null,y=100,b=!0,k=null,w=!0,A=function(t,e,n){return"<h3>"+t+"</h3>"+"<p>"+n+" at "+e+"</p>"},C="No Data Available.",M=d3.dispatch("tooltipShow","tooltipHide","brush");i.clipEdge(!0),l.interactive(!1),s.orient("bottom").tickPadding(5),u.orient("left"),c.orient("bottom").tickPadding(5),d.orient("left");var S=function(e,r){var a=e.pos[0]+(r.offsetLeft||0),o=e.pos[1]+(r.offsetTop||0),l=s.tickFormat()(i.x()(e.point,e.pointIndex)),c=u.tickFormat()(i.y()(e.point,e.pointIndex)),d=A(e.series.key,l,c,e,t);
n.tooltip.show([a,o],d,null,null,r)};return i.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+g.left,t.pos[1]+g.top],M.tooltipShow(t)}),i.dispatch.on("elementMouseout.tooltip",function(t){M.tooltipHide(t)}),M.on("tooltipHide",function(){w&&n.tooltip.cleanup()}),t.dispatch=M,t.legend=p,t.lines=i,t.lines2=l,t.xAxis=s,t.yAxis=u,t.x2Axis=c,t.y2Axis=d,d3.rebind(t,i,"defined","isArea","size","xDomain","yDomain","forceX","forceY","interactive","clipEdge","clipVoronoi","id"),t.x=function(e){return arguments.length?(i.x(e),l.x(e),t):i.x},t.y=function(e){return arguments.length?(i.y(e),l.y(e),t):i.y},t.margin=function(e){return arguments.length?(g.top=e.top!==void 0?e.top:g.top,g.right=e.right!==void 0?e.right:g.right,g.bottom=e.bottom!==void 0?e.bottom:g.bottom,g.left=e.left!==void 0?e.left:g.left,t):g},t.margin2=function(e){return arguments.length?(h=e,t):h},t.width=function(e){return arguments.length?(v=e,t):v},t.height=function(e){return arguments.length?(x=e,t):x},t.height2=function(e){return arguments.length?(y=e,t):y},t.color=function(e){return arguments.length?(m=n.utils.getColor(e),p.color(m),t):m},t.showLegend=function(e){return arguments.length?(b=e,t):b},t.tooltips=function(e){return arguments.length?(w=e,t):w},t.tooltipContent=function(e){return arguments.length?(A=e,t):A},t.interpolate=function(e){return arguments.length?(i.interpolate(e),l.interpolate(e),t):i.interpolate()},t.noData=function(e){return arguments.length?(C=e,t):C},t.xTickFormat=function(e){return arguments.length?(s.tickFormat(e),c.tickFormat(e),t):s.tickFormat()},t.yTickFormat=function(e){return arguments.length?(u.tickFormat(e),d.tickFormat(e),t):u.tickFormat()},t},n.models.linePlusBarWithFocusChart=function(){function t(n){return n.each(function(P){function T(t){var e=+("e"==t),n=e?1:-1,r=R/3;return"M"+.5*n+","+r+"A6,6 0 0 "+e+" "+6.5*n+","+(r+6)+"V"+(2*r-6)+"A6,6 0 0 "+e+" "+.5*n+","+2*r+"Z"+"M"+2.5*n+","+(r+8)+"V"+(2*r-8)+"M"+4.5*n+","+(r+8)+"V"+(2*r-8)}function N(){b.empty()||b.extent(z),ne.data([b.empty()?a.domain():z]).each(function(t){var e=a(t[0])-a.range()[0],n=a.range()[1]-a(t[1]);d3.select(this).select(".left").attr("width",0>e?0:e),d3.select(this).select(".right").attr("x",a(t[1])).attr("width",0>n?0:n)})}function Y(){z=b.empty()?null:b.extent(),e=b.empty()?a.domain():b.extent(),F.brush({extent:e,brush:b}),N(),d.width(_).height(X).color(P.map(function(t,e){return t.color||I(t,e)}).filter(function(t,e){return!P[e].disabled&&P[e].bar})),u.width(_).height(X).color(P.map(function(t,e){return t.color||I(t,e)}).filter(function(t,e){return!P[e].disabled&&!P[e].bar}));var t=J.select(".nv-focus .nv-barsWrap").datum(Z.length?Z.map(function(t){return{key:t.key,values:t.values.filter(function(t,n){return d.x()(t,n)>=e[0]&&d.x()(t,n)<=e[1]})}}):[{values:[]}]),n=J.select(".nv-focus .nv-linesWrap").datum(O[0].disabled?[{values:[]}]:O.map(function(t){return{key:t.key,values:t.values.filter(function(t,n){return u.x()(t,n)>=e[0]&&u.x()(t,n)<=e[1]})}}));r=Z.length?d.xScale():u.xScale(),f.scale(r).ticks(_/100).tickSize(-X,0),f.domain([Math.ceil(e[0]),Math.floor(e[1])]),d3.transition(J.select(".nv-x.nv-axis")).call(f),d3.transition(t).call(d),d3.transition(n).call(u),J.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+o.range()[0]+")"),h.scale(o).ticks(X/36).tickSize(-_,0),J.select(".nv-focus .nv-y1.nv-axis").style("opacity",Z.length?1:0),m.scale(i).ticks(X/36).tickSize(Z.length?0:-_,0),J.select(".nv-focus .nv-y2.nv-axis").style("opacity",O.length?1:0).attr("transform","translate("+r.range()[1]+",0)"),d3.transition(J.select(".nv-focus .nv-y1.nv-axis")).call(h),d3.transition(J.select(".nv-focus .nv-y2.nv-axis")).call(m)}var E=d3.select(this),V=this,_=(A||parseInt(E.style("width"))||960)-k.left-k.right,X=(C||parseInt(E.style("height"))||400)-k.top-k.bottom-M,R=M-w.top-w.bottom;if(t.update=function(){t(n)},t.container=this,!(P&&P.length&&P.filter(function(t){return t.values.length}).length)){var K=E.selectAll(".nv-noData").data([H]);return K.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),K.attr("x",k.left+_/2).attr("y",k.top+X/2).text(function(t){return t}),t}E.selectAll(".nv-noData").remove();var Z=P.filter(function(t){return!t.disabled&&t.bar}),O=P.filter(function(t){return!t.bar});r=d.xScale(),a=g.scale(),o=d.yScale(),i=u.yScale(),l=p.yScale(),s=c.yScale();var q=P.filter(function(t){return!t.disabled&&t.bar}).map(function(t){return t.values.map(function(t,e){return{x:S(t,e),y:D(t,e)}})}),j=P.filter(function(t){return!t.disabled&&!t.bar}).map(function(t){return t.values.map(function(t,e){return{x:S(t,e),y:D(t,e)}})});r.range([0,_]),a.domain(d3.extent(d3.merge(q.concat(j)),function(t){return t.x})).range([0,_]);var G=E.selectAll("g.nv-wrap.nv-linePlusBar").data([P]),U=G.enter().append("g").attr("class","nvd3 nv-wrap nv-linePlusBar").append("g"),J=G.select("g");U.append("g").attr("class","nv-legendWrap");var Q=U.append("g").attr("class","nv-focus");Q.append("g").attr("class","nv-x nv-axis"),Q.append("g").attr("class","nv-y1 nv-axis"),Q.append("g").attr("class","nv-y2 nv-axis"),Q.append("g").attr("class","nv-barsWrap"),Q.append("g").attr("class","nv-linesWrap");var $=U.append("g").attr("class","nv-context");$.append("g").attr("class","nv-x nv-axis"),$.append("g").attr("class","nv-y1 nv-axis"),$.append("g").attr("class","nv-y2 nv-axis"),$.append("g").attr("class","nv-barsWrap"),$.append("g").attr("class","nv-linesWrap"),$.append("g").attr("class","nv-brushBackground"),$.append("g").attr("class","nv-x nv-brush"),W&&(y.width(_/2),J.select(".nv-legendWrap").datum(P.map(function(t){return t.originalKey=void 0===t.originalKey?t.key:t.originalKey,t.key=t.originalKey+(t.bar?" (left axis)":" (right axis)"),t})).call(y),k.top!=y.height()&&(k.top=y.height(),X=(C||parseInt(E.style("height"))||400)-k.top-k.bottom-M),J.select(".nv-legendWrap").attr("transform","translate("+_/2+","+-k.top+")")),G.attr("transform","translate("+k.left+","+k.top+")"),p.width(_).height(R).color(P.map(function(t,e){return t.color||I(t,e)}).filter(function(t,e){return!P[e].disabled&&P[e].bar})),c.width(_).height(R).color(P.map(function(t,e){return t.color||I(t,e)}).filter(function(t,e){return!P[e].disabled&&!P[e].bar}));var te=J.select(".nv-context .nv-barsWrap").datum(Z.length?Z:[{values:[]}]),ee=J.select(".nv-context .nv-linesWrap").datum(O[0].disabled?[{values:[]}]:O);J.select(".nv-context").attr("transform","translate(0,"+(X+k.bottom+w.top)+")"),d3.transition(te).call(p),d3.transition(ee).call(c),b.x(a).on("brush",Y),z&&b.extent(z);var ne=J.select(".nv-brushBackground").selectAll("g").data([z||b.extent()]),re=ne.enter().append("g");re.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",R),re.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",R);var ae=J.select(".nv-x.nv-brush").call(b);ae.selectAll("rect").attr("height",R),ae.selectAll(".resize").append("path").attr("d",T),g.ticks(_/100).tickSize(-R,0),J.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+l.range()[0]+")"),d3.transition(J.select(".nv-context .nv-x.nv-axis")).call(g),v.scale(l).ticks(R/36).tickSize(-_,0),J.select(".nv-context .nv-y1.nv-axis").style("opacity",Z.length?1:0).attr("transform","translate(0,"+a.range()[0]+")"),d3.transition(J.select(".nv-context .nv-y1.nv-axis")).call(v),x.scale(s).ticks(R/36).tickSize(Z.length?0:-_,0),J.select(".nv-context .nv-y2.nv-axis").style("opacity",O.length?1:0).attr("transform","translate("+a.range()[1]+",0)"),d3.transition(J.select(".nv-context .nv-y2.nv-axis")).call(x),y.dispatch.on("legendClick",function(e){e.disabled=!e.disabled,P.filter(function(t){return!t.disabled}).length||P.map(function(t){return t.disabled=!1,G.selectAll(".nv-series").classed("disabled",!1),t}),n.call(t)}),F.on("tooltipShow",function(t){B&&L(t,V.parentNode)}),Y()}),t}var e,r,a,o,i,l,s,u=n.models.line(),c=n.models.line(),d=n.models.historicalBar(),p=n.models.historicalBar(),f=n.models.axis(),g=n.models.axis(),h=n.models.axis(),m=n.models.axis(),v=n.models.axis(),x=n.models.axis(),y=n.models.legend(),b=d3.svg.brush(),k={top:30,right:30,bottom:30,left:60},w={top:0,right:30,bottom:20,left:60},A=null,C=null,M=100,S=function(t){return t.x},D=function(t){return t.y},I=n.utils.defaultColor(),W=!0,z=null,B=!0,P=function(t,e,n){return"<h3>"+t+"</h3>"+"<p>"+n+" at "+e+"</p>"},H="No Data Available.",F=d3.dispatch("tooltipShow","tooltipHide","brush");u.clipEdge(!0),c.interactive(!1),f.orient("bottom").tickPadding(5),h.orient("left"),m.orient("right"),g.orient("bottom").tickPadding(5),v.orient("left"),x.orient("right");var L=function(r,a){e&&(r.pointIndex+=Math.ceil(e[0]));var o=r.pos[0]+(a.offsetLeft||0),i=r.pos[1]+(a.offsetTop||0),l=f.tickFormat()(u.x()(r.point,r.pointIndex)),s=(r.series.bar?h:m).tickFormat()(u.y()(r.point,r.pointIndex)),c=P(r.series.key,l,s,r,t);n.tooltip.show([o,i],c,0>r.value?"n":"s",null,a)};return u.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+k.left,t.pos[1]+k.top],F.tooltipShow(t)}),u.dispatch.on("elementMouseout.tooltip",function(t){F.tooltipHide(t)}),d.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+k.left,t.pos[1]+k.top],F.tooltipShow(t)}),d.dispatch.on("elementMouseout.tooltip",function(t){F.tooltipHide(t)}),F.on("tooltipHide",function(){B&&n.tooltip.cleanup()}),t.dispatch=F,t.legend=y,t.lines=u,t.lines2=c,t.bars=d,t.bars2=p,t.xAxis=f,t.x2Axis=g,t.y1Axis=h,t.y2Axis=m,t.y3Axis=v,t.y4Axis=x,d3.rebind(t,u,"defined","size","clipVoronoi","interpolate"),t.x=function(e){return arguments.length?(S=e,u.x(e),d.x(e),t):S},t.y=function(e){return arguments.length?(D=e,u.y(e),d.y(e),t):D},t.margin=function(e){return arguments.length?(k.top=e.top!==void 0?e.top:k.top,k.right=e.right!==void 0?e.right:k.right,k.bottom=e.bottom!==void 0?e.bottom:k.bottom,k.left=e.left!==void 0?e.left:k.left,t):k},t.width=function(e){return arguments.length?(A=e,t):A},t.height=function(e){return arguments.length?(C=e,t):C},t.color=function(e){return arguments.length?(I=n.utils.getColor(e),y.color(I),t):I},t.showLegend=function(e){return arguments.length?(W=e,t):W},t.tooltips=function(e){return arguments.length?(B=e,t):B},t.tooltipContent=function(e){return arguments.length?(P=e,t):P},t.noData=function(e){return arguments.length?(H=e,t):H},t.brushExtent=function(e){return arguments.length?(z=e,t):z},t},n.models.multiBar=function(){function t(n){return n.each(function(t){var n=s-l.left-l.right,A=u-l.top-l.bottom,C=d3.select(this);y&&t.length&&(y=[{values:t[0].values.map(function(t){return{x:t.x,y:0,series:t.series,size:.01}})}]),v&&(t=d3.layout.stack().offset("zero").values(function(t){return t.values}).y(g)(!t.length&&y?y:t)),t=t.map(function(t,e){return t.values=t.values.map(function(t){return t.series=e,t}),t}),v&&t[0].values.map(function(e,n){var r=0,a=0;t.map(function(t){var e=t.values[n];e.size=Math.abs(e.y),0>e.y?(e.y1=a,a-=e.size):(e.y1=e.size+r,r+=e.size)})});var M=r&&a?[]:t.map(function(t){return t.values.map(function(t,e){return{x:f(t,e),y:g(t,e),y0:t.y0,y1:t.y1}})});c.domain(d3.merge(M).map(function(t){return t.x})).rangeBands([0,n],.1),d.domain(a||d3.extent(d3.merge(M).map(function(t){return v?t.y>0?t.y1:t.y1+t.y:t.y}).concat(h))).range([A,0]),(c.domain()[0]===c.domain()[1]||d.domain()[0]===d.domain()[1])&&(singlePoint=!0),c.domain()[0]===c.domain()[1]&&(c.domain()[0]?c.domain([c.domain()[0]-.01*c.domain()[0],c.domain()[1]+.01*c.domain()[1]]):c.domain([-1,1])),d.domain()[0]===d.domain()[1]&&(d.domain()[0]?d.domain([d.domain()[0]+.01*d.domain()[0],d.domain()[1]-.01*d.domain()[1]]):d.domain([-1,1])),o=o||c,i=i||d;var S=C.selectAll("g.nv-wrap.nv-multibar").data([t]),D=S.enter().append("g").attr("class","nvd3 nv-wrap nv-multibar"),I=D.append("defs"),W=D.append("g"),z=S.select("g");W.append("g").attr("class","nv-groups"),S.attr("transform","translate("+l.left+","+l.top+")"),I.append("clipPath").attr("id","nv-edge-clip-"+p).append("rect"),S.select("#nv-edge-clip-"+p+" rect").attr("width",n).attr("height",A),z.attr("clip-path",m?"url(#nv-edge-clip-"+p+")":"");var B=S.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t){return t.key});B.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),d3.transition(B.exit()).selectAll("rect.nv-bar").delay(function(e,n){return n*k/t[0].values.length}).attr("y",function(t){return v?i(t.y0):i(0)}).attr("height",0).remove(),B.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}).style("fill",function(t,e){return x(t,e)}).style("stroke",function(t,e){return x(t,e)}),d3.transition(B).style("stroke-opacity",1).style("fill-opacity",.75);var P=B.selectAll("rect.nv-bar").data(function(e){return y&&!t.length?y.values:e.values});P.exit().remove(),P.enter().append("rect").attr("class",function(t,e){return 0>g(t,e)?"nv-bar negative":"nv-bar positive"}).attr("x",function(e,n,r){return v?0:r*c.rangeBand()/t.length}).attr("y",function(t){return i(v?t.y0:0)}).attr("height",0).attr("width",c.rangeBand()/(v?1:t.length)),P.style("fill",function(t,e,n){return x(t,n,e)}).style("stroke",function(t,e,n){return x(t,n,e)}).on("mouseover",function(e,n){d3.select(this).classed("hover",!0),w.elementMouseover({value:g(e,n),point:e,series:t[e.series],pos:[c(f(e,n))+c.rangeBand()*(v?t.length/2:e.series+.5)/t.length,d(g(e,n)+(v?e.y0:0))],pointIndex:n,seriesIndex:e.series,e:d3.event})}).on("mouseout",function(e,n){d3.select(this).classed("hover",!1),w.elementMouseout({value:g(e,n),point:e,series:t[e.series],pointIndex:n,seriesIndex:e.series,e:d3.event})}).on("click",function(e,n){w.elementClick({value:g(e,n),point:e,series:t[e.series],pos:[c(f(e,n))+c.rangeBand()*(v?t.length/2:e.series+.5)/t.length,d(g(e,n)+(v?e.y0:0))],pointIndex:n,seriesIndex:e.series,e:d3.event}),d3.event.stopPropagation()}).on("dblclick",function(e,n){w.elementDblClick({value:g(e,n),point:e,series:t[e.series],pos:[c(f(e,n))+c.rangeBand()*(v?t.length/2:e.series+.5)/t.length,d(g(e,n)+(v?e.y0:0))],pointIndex:n,seriesIndex:e.series,e:d3.event}),d3.event.stopPropagation()}),P.attr("class",function(t,e){return 0>g(t,e)?"nv-bar negative":"nv-bar positive"}).attr("transform",function(t,e){return"translate("+c(f(t,e))+",0)"}),b&&(e||(e=t.map(function(){return!0})),P.style("fill",function(t,n,r){return""+d3.rgb(b(t,n)).darker(e.map(function(t,e){return e}).filter(function(t,n){return!e[n]})[r])}).style("stroke",function(t,n,r){return""+d3.rgb(b(t,n)).darker(e.map(function(t,e){return e}).filter(function(t,n){return!e[n]})[r])})),v?d3.transition(P).delay(function(e,n){return n*k/t[0].values.length}).attr("y",function(t){return d(v?t.y1:0)}).attr("height",function(t){return Math.max(Math.abs(d(t.y+(v?t.y0:0))-d(v?t.y0:0)),1)}).each("end",function(){d3.transition(d3.select(this)).attr("x",function(e){return v?0:e.series*c.rangeBand()/t.length}).attr("width",c.rangeBand()/(v?1:t.length))}):d3.transition(P).delay(function(e,n){return n*k/t[0].values.length}).attr("x",function(e){return e.series*c.rangeBand()/t.length}).attr("width",c.rangeBand()/t.length).each("end",function(){d3.transition(d3.select(this)).attr("y",function(t,e){return 0>g(t,e)?d(0):1>d(0)-d(g(t,e))?d(0)-1:d(g(t,e))||0}).attr("height",function(t,e){return Math.max(Math.abs(d(g(t,e))-d(0)),1)||0})}),o=c.copy(),i=d.copy()}),t}var e,r,a,o,i,l={top:0,right:0,bottom:0,left:0},s=960,u=500,c=d3.scale.ordinal(),d=d3.scale.linear(),p=Math.floor(1e4*Math.random()),f=function(t){return t.x},g=function(t){return t.y},h=[0],m=!0,v=!1,x=n.utils.defaultColor(),y=!1,b=null,k=1200,w=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout");return t.dispatch=w,t.x=function(e){return arguments.length?(f=e,t):f},t.y=function(e){return arguments.length?(g=e,t):g},t.margin=function(e){return arguments.length?(l.top=e.top!==void 0?e.top:l.top,l.right=e.right!==void 0?e.right:l.right,l.bottom=e.bottom!==void 0?e.bottom:l.bottom,l.left=e.left!==void 0?e.left:l.left,t):l},t.width=function(e){return arguments.length?(s=e,t):s},t.height=function(e){return arguments.length?(u=e,t):u},t.xScale=function(e){return arguments.length?(c=e,t):c},t.yScale=function(e){return arguments.length?(d=e,t):d},t.xDomain=function(e){return arguments.length?(r=e,t):r},t.yDomain=function(e){return arguments.length?(a=e,t):a},t.forceY=function(e){return arguments.length?(h=e,t):h},t.stacked=function(e){return arguments.length?(v=e,t):v},t.clipEdge=function(e){return arguments.length?(m=e,t):m},t.color=function(e){return arguments.length?(x=n.utils.getColor(e),t):x},t.barColor=function(e){return arguments.length?(b=n.utils.getColor(e),t):b},t.disabled=function(n){return arguments.length?(e=n,t):e},t.id=function(e){return arguments.length?(p=e,t):p},t.hideable=function(e){return arguments.length?(y=e,t):y},t.delay=function(e){return arguments.length?(k=e,t):k},t},n.models.multiBarChart=function(){function t(n){return n.each(function(x){var M=d3.select(this),S=this,D=(c||parseInt(M.style("width"))||960)-u.left-u.right,I=(d||parseInt(M.style("height"))||400)-u.top-u.bottom;if(t.update=function(){n.transition().call(t)},t.container=this,y.disabled=x.map(function(t){return!!t.disabled}),!b){var W;b={};for(W in y)b[W]=y[W]instanceof Array?y[W].slice(0):y[W]}if(!(x&&x.length&&x.filter(function(t){return t.values.length}).length)){var z=M.selectAll(".nv-noData").data([k]);return z.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),z.attr("x",u.left+D/2).attr("y",u.top+I/2).text(function(t){return t}),t}M.selectAll(".nv-noData").remove(),e=a.xScale(),r=a.yScale();var B=M.selectAll("g.nv-wrap.nv-multiBarWithLegend").data([x]),P=B.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarWithLegend").append("g"),H=B.select("g");if(P.append("g").attr("class","nv-x nv-axis"),P.append("g").attr("class","nv-y nv-axis"),P.append("g").attr("class","nv-barsWrap"),P.append("g").attr("class","nv-legendWrap"),P.append("g").attr("class","nv-controlsWrap"),g&&(l.width(D-A()),a.barColor()&&x.forEach(function(t,e){t.color=""+d3.rgb("#ccc").darker(1.5*e)}),H.select(".nv-legendWrap").datum(x).call(l),u.top!=l.height()&&(u.top=l.height(),I=(d||parseInt(M.style("height"))||400)-u.top-u.bottom),H.select(".nv-legendWrap").attr("transform","translate("+A()+","+-u.top+")")),f){var F=[{key:"Grouped",disabled:a.stacked()},{key:"Stacked",disabled:!a.stacked()}];s.width(A()).color(["#444","#444","#444"]),H.select(".nv-controlsWrap").datum(F).attr("transform","translate(0,"+-u.top+")").call(s)}B.attr("transform","translate("+u.left+","+u.top+")"),a.disabled(x.map(function(t){return t.disabled})).width(D).height(I).color(x.map(function(t,e){return t.color||p(t,e)}).filter(function(t,e){return!x[e].disabled}));var L=H.select(".nv-barsWrap").datum(x.filter(function(t){return!t.disabled}));d3.transition(L).call(a),o.scale(e).ticks(D/100).tickSize(-I,0),H.select(".nv-x.nv-axis").attr("transform","translate(0,"+r.range()[0]+")"),d3.transition(H.select(".nv-x.nv-axis")).call(o);var T=H.select(".nv-x.nv-axis > g").selectAll("g");T.selectAll("line, text").style("opacity",1),h&&T.filter(function(t,e){return 0!==e%Math.ceil(x[0].values.length/(D/100))}).selectAll("text, line").style("opacity",0),m&&T.selectAll("text").attr("transform","rotate("+m+" 0,0)").attr("text-anchor",m>0?"start":"end"),H.select(".nv-x.nv-axis").selectAll("g.nv-axisMaxMin text").style("opacity",1),i.scale(r).ticks(I/36).tickSize(-D,0),d3.transition(H.select(".nv-y.nv-axis")).call(i),l.dispatch.on("legendClick",function(e){e.disabled=!e.disabled,x.filter(function(t){return!t.disabled}).length||x.map(function(t){return t.disabled=!1,B.selectAll(".nv-series").classed("disabled",!1),t}),y.disabled=x.map(function(t){return!!t.disabled}),w.stateChange(y),n.transition().call(t)}),s.dispatch.on("legendClick",function(e){if(e.disabled){switch(F=F.map(function(t){return t.disabled=!0,t}),e.disabled=!1,e.key){case"Grouped":a.stacked(!1);break;case"Stacked":a.stacked(!0)}y.stacked=a.stacked(),w.stateChange(y),n.transition().call(t)}}),w.on("tooltipShow",function(t){v&&C(t,S.parentNode)}),w.on("changeState",function(e){e.disabled!==void 0&&(x.forEach(function(t,n){t.disabled=e.disabled[n]}),y.disabled=e.disabled),e.stacked!==void 0&&(a.stacked(e.stacked),y.stacked=e.stacked),n.call(t)})}),t}var e,r,a=n.models.multiBar(),o=n.models.axis(),i=n.models.axis(),l=n.models.legend(),s=n.models.legend(),u={top:30,right:20,bottom:30,left:60},c=null,d=null,p=n.utils.defaultColor(),f=!0,g=!0,h=!0,m=0,v=!0,x=function(t,e,n){return"<h3>"+t+"</h3>"+"<p>"+n+" on "+e+"</p>"},y={stacked:!1},b=null,k="No Data Available.",w=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),A=function(){return f?180:0};a.stacked(!1),o.orient("bottom").tickPadding(7).highlightZero(!1).showMaxMin(!1).tickFormat(function(t){return t}),i.orient("left").tickFormat(d3.format(",.1f"));var C=function(e,r){var l=e.pos[0]+(r.offsetLeft||0),s=e.pos[1]+(r.offsetTop||0),u=o.tickFormat()(a.x()(e.point,e.pointIndex)),c=i.tickFormat()(a.y()(e.point,e.pointIndex)),d=x(e.series.key,u,c,e,t);n.tooltip.show([l,s],d,0>e.value?"n":"s",null,r)};return a.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+u.left,t.pos[1]+u.top],w.tooltipShow(t)}),a.dispatch.on("elementMouseout.tooltip",function(t){w.tooltipHide(t)}),w.on("tooltipHide",function(){v&&n.tooltip.cleanup()}),t.dispatch=w,t.multibar=a,t.legend=l,t.xAxis=o,t.yAxis=i,d3.rebind(t,a,"x","y","xDomain","yDomain","forceX","forceY","clipEdge","id","stacked","delay","barColor"),t.margin=function(e){return arguments.length?(u.top=e.top!==void 0?e.top:u.top,u.right=e.right!==void 0?e.right:u.right,u.bottom=e.bottom!==void 0?e.bottom:u.bottom,u.left=e.left!==void 0?e.left:u.left,t):u},t.width=function(e){return arguments.length?(c=e,t):c},t.height=function(e){return arguments.length?(d=e,t):d},t.color=function(e){return arguments.length?(p=n.utils.getColor(e),l.color(p),t):p},t.showControls=function(e){return arguments.length?(f=e,t):f},t.showLegend=function(e){return arguments.length?(g=e,t):g},t.reduceXTicks=function(e){return arguments.length?(h=e,t):h},t.rotateLabels=function(e){return arguments.length?(m=e,t):m},t.tooltip=function(e){return arguments.length?(x=e,t):x},t.tooltips=function(e){return arguments.length?(v=e,t):v},t.tooltipContent=function(e){return arguments.length?(x=e,t):x},t.state=function(e){return arguments.length?(y=e,t):y},t.defaultState=function(e){return arguments.length?(b=e,t):b},t.noData=function(e){return arguments.length?(k=e,t):k},t},n.models.multiBarHorizontal=function(){function t(n){return n.each(function(t){var n=s-l.left-l.right,c=u-l.top-l.bottom;d3.select(this),x&&(t=d3.layout.stack().offset("zero").values(function(t){return t.values}).y(g)(t)),t=t.map(function(t,e){return t.values=t.values.map(function(t){return t.series=e,t}),t}),x&&t[0].values.map(function(e,n){var r=0,a=0;t.map(function(t){var e=t.values[n];e.size=Math.abs(e.y),0>e.y?(e.y1=a-e.size,a-=e.size):(e.y1=r,r+=e.size)})});var w=r&&a?[]:t.map(function(t){return t.values.map(function(t,e){return{x:f(t,e),y:g(t,e),y0:t.y0,y1:t.y1}})});d.domain(r||d3.merge(w).map(function(t){return t.x})).rangeBands([0,c],.1),p.domain(a||d3.extent(d3.merge(w).map(function(t){return x?t.y>0?t.y1+t.y:t.y1:t.y}).concat(h))),y&&!x?p.range([0>p.domain()[0]?b:0,n-(p.domain()[1]>0?b:0)]):p.range([0,n]),o=o||d,i=i||d3.scale.linear().domain(p.domain()).range([p(0),p(0)]);var C=d3.select(this).selectAll("g.nv-wrap.nv-multibarHorizontal").data([t]),M=C.enter().append("g").attr("class","nvd3 nv-wrap nv-multibarHorizontal");M.append("defs");var S=M.append("g");C.select("g"),S.append("g").attr("class","nv-groups"),C.attr("transform","translate("+l.left+","+l.top+")");var D=C.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t){return t.key});D.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),d3.transition(D.exit()).style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),D.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}).style("fill",function(t,e){return m(t,e)}).style("stroke",function(t,e){return m(t,e)}),d3.transition(D).style("stroke-opacity",1).style("fill-opacity",.75);var I=D.selectAll("g.nv-bar").data(function(t){return t.values});I.exit().remove();var W=I.enter().append("g").attr("transform",function(e,n,r){return"translate("+i(x?e.y0:0)+","+(x?0:r*d.rangeBand()/t.length+d(f(e,n)))+")"});W.append("rect").attr("width",0).attr("height",d.rangeBand()/(x?1:t.length)),I.on("mouseover",function(e,n){d3.select(this).classed("hover",!0),A.elementMouseover({value:g(e,n),point:e,series:t[e.series],pos:[p(g(e,n)+(x?e.y0:0)),d(f(e,n))+d.rangeBand()*(x?t.length/2:e.series+.5)/t.length],pointIndex:n,seriesIndex:e.series,e:d3.event})}).on("mouseout",function(e,n){d3.select(this).classed("hover",!1),A.elementMouseout({value:g(e,n),point:e,series:t[e.series],pointIndex:n,seriesIndex:e.series,e:d3.event})}).on("click",function(e,n){A.elementClick({value:g(e,n),point:e,series:t[e.series],pos:[d(f(e,n))+d.rangeBand()*(x?t.length/2:e.series+.5)/t.length,p(g(e,n)+(x?e.y0:0))],pointIndex:n,seriesIndex:e.series,e:d3.event}),d3.event.stopPropagation()}).on("dblclick",function(e,n){A.elementDblClick({value:g(e,n),point:e,series:t[e.series],pos:[d(f(e,n))+d.rangeBand()*(x?t.length/2:e.series+.5)/t.length,p(g(e,n)+(x?e.y0:0))],pointIndex:n,seriesIndex:e.series,e:d3.event}),d3.event.stopPropagation()}),W.append("text"),y&&!x?(I.select("text").attr("text-anchor",function(t,e){return 0>g(t,e)?"end":"start"}).attr("y",d.rangeBand()/(2*t.length)).attr("dy",".32em").text(function(t,e){return k(g(t,e))}),d3.transition(I).select("text").attr("x",function(t,e){return 0>g(t,e)?-4:p(g(t,e))-p(0)+4})):I.selectAll("text").text(""),I.attr("class",function(t,e){return 0>g(t,e)?"nv-bar negative":"nv-bar positive"}),v&&(e||(e=t.map(function(){return!0})),I.style("fill",function(t,n,r){return""+d3.rgb(v(t,n)).darker(e.map(function(t,e){return e}).filter(function(t,n){return!e[n]})[r])}).style("stroke",function(t,n,r){return""+d3.rgb(v(t,n)).darker(e.map(function(t,e){return e}).filter(function(t,n){return!e[n]})[r])})),x?d3.transition(I).attr("transform",function(t,e){return"translate("+p(t.y1)+","+d(f(t,e))+")"}).select("rect").attr("width",function(t,e){return Math.abs(p(g(t,e)+t.y0)-p(t.y0))}).attr("height",d.rangeBand()):d3.transition(I).attr("transform",function(e,n){return"translate("+(0>g(e,n)?p(g(e,n)):p(0))+","+(e.series*d.rangeBand()/t.length+d(f(e,n)))+")"}).select("rect").attr("height",d.rangeBand()/t.length).attr("width",function(t,e){return Math.max(Math.abs(p(g(t,e))-p(0)),1)}),o=d.copy(),i=p.copy()}),t}var e,r,a,o,i,l={top:0,right:0,bottom:0,left:0},s=960,u=500,c=Math.floor(1e4*Math.random()),d=d3.scale.ordinal(),p=d3.scale.linear(),f=function(t){return t.x},g=function(t){return t.y},h=[0],m=n.utils.defaultColor(),v=null,x=!1,y=!1,b=60,k=d3.format(",.2f"),w=1200,A=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout");return t.dispatch=A,t.x=function(e){return arguments.length?(f=e,t):f},t.y=function(e){return arguments.length?(g=e,t):g},t.margin=function(e){return arguments.length?(l.top=e.top!==void 0?e.top:l.top,l.right=e.right!==void 0?e.right:l.right,l.bottom=e.bottom!==void 0?e.bottom:l.bottom,l.left=e.left!==void 0?e.left:l.left,t):l},t.width=function(e){return arguments.length?(s=e,t):s},t.height=function(e){return arguments.length?(u=e,t):u},t.xScale=function(e){return arguments.length?(d=e,t):d},t.yScale=function(e){return arguments.length?(p=e,t):p},t.xDomain=function(e){return arguments.length?(r=e,t):r},t.yDomain=function(e){return arguments.length?(a=e,t):a},t.forceY=function(e){return arguments.length?(h=e,t):h},t.stacked=function(e){return arguments.length?(x=e,t):x},t.color=function(e){return arguments.length?(m=n.utils.getColor(e),t):m},t.barColor=function(e){return arguments.length?(v=n.utils.getColor(e),t):v},t.disabled=function(n){return arguments.length?(e=n,t):e},t.id=function(e){return arguments.length?(c=e,t):c},t.delay=function(e){return arguments.length?(w=e,t):w},t.showValues=function(e){return arguments.length?(y=e,t):y},t.valueFormat=function(e){return arguments.length?(k=e,t):k},t.valuePadding=function(e){return arguments.length?(b=e,t):b},t},n.models.multiBarHorizontalChart=function(){function t(n){return n.each(function(h){var v=d3.select(this),C=this,M=(c||parseInt(v.style("width"))||960)-u.left-u.right,S=(d||parseInt(v.style("height"))||400)-u.top-u.bottom;if(t.update=function(){n.transition().call(t)},t.container=this,x.disabled=h.map(function(t){return!!t.disabled}),!y){var D;y={};for(D in x)y[D]=x[D]instanceof Array?x[D].slice(0):x[D]}if(!(h&&h.length&&h.filter(function(t){return t.values.length}).length)){var I=v.selectAll(".nv-noData").data([b]);return I.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),I.attr("x",u.left+M/2).attr("y",u.top+S/2).text(function(t){return t}),t}v.selectAll(".nv-noData").remove(),e=a.xScale(),r=a.yScale();var W=v.selectAll("g.nv-wrap.nv-multiBarHorizontalChart").data([h]),z=W.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarHorizontalChart").append("g"),B=W.select("g");if(z.append("g").attr("class","nv-x nv-axis"),z.append("g").attr("class","nv-y nv-axis"),z.append("g").attr("class","nv-barsWrap"),z.append("g").attr("class","nv-legendWrap"),z.append("g").attr("class","nv-controlsWrap"),g&&(l.width(M-w()),a.barColor()&&h.forEach(function(t,e){t.color=""+d3.rgb("#ccc").darker(1.5*e)}),B.select(".nv-legendWrap").datum(h).call(l),u.top!=l.height()&&(u.top=l.height(),S=(d||parseInt(v.style("height"))||400)-u.top-u.bottom),B.select(".nv-legendWrap").attr("transform","translate("+w()+","+-u.top+")")),f){var P=[{key:"Grouped",disabled:a.stacked()},{key:"Stacked",disabled:!a.stacked()}];s.width(w()).color(["#444","#444","#444"]),B.select(".nv-controlsWrap").datum(P).attr("transform","translate(0,"+-u.top+")").call(s)}W.attr("transform","translate("+u.left+","+u.top+")"),a.disabled(h.map(function(t){return t.disabled})).width(M).height(S).color(h.map(function(t,e){return t.color||p(t,e)}).filter(function(t,e){return!h[e].disabled}));var H=B.select(".nv-barsWrap").datum(h.filter(function(t){return!t.disabled}));d3.transition(H).call(a),o.scale(e).ticks(S/24).tickSize(-M,0),d3.transition(B.select(".nv-x.nv-axis")).call(o);var F=B.select(".nv-x.nv-axis").selectAll("g");F.selectAll("line, text").style("opacity",1),i.scale(r).ticks(M/100).tickSize(-S,0),B.select(".nv-y.nv-axis").attr("transform","translate(0,"+S+")"),d3.transition(B.select(".nv-y.nv-axis")).call(i),l.dispatch.on("legendClick",function(e){e.disabled=!e.disabled,h.filter(function(t){return!t.disabled}).length||h.map(function(t){return t.disabled=!1,W.selectAll(".nv-series").classed("disabled",!1),t}),x.disabled=h.map(function(t){return!!t.disabled}),k.stateChange(x),n.transition().call(t)}),s.dispatch.on("legendClick",function(e){if(e.disabled){switch(P=P.map(function(t){return t.disabled=!0,t}),e.disabled=!1,e.key){case"Grouped":a.stacked(!1);break;case"Stacked":a.stacked(!0)}x.stacked=a.stacked(),k.stateChange(x),n.transition().call(t)}}),k.on("tooltipShow",function(t){m&&A(t,C.parentNode)}),k.on("changeState",function(e){e.disabled!==void 0&&(h.forEach(function(t,n){t.disabled=e.disabled[n]}),x.disabled=e.disabled),e.stacked!==void 0&&(a.stacked(e.stacked),x.stacked=e.stacked),n.call(t)})}),t}var e,r,a=n.models.multiBarHorizontal(),o=n.models.axis(),i=n.models.axis(),l=n.models.legend().height(30),s=n.models.legend().height(30),u={top:30,right:20,bottom:50,left:60},c=null,d=null,p=n.utils.defaultColor(),f=!0,g=!0,h=!1,m=!0,v=function(t,e,n){return"<h3>"+t+" - "+e+"</h3>"+"<p>"+n+"</p>"},x={stacked:h},y=null,b="No Data Available.",k=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),w=function(){return f?180:0
};a.stacked(h),o.orient("left").tickPadding(5).highlightZero(!1).showMaxMin(!1).tickFormat(function(t){return t}),i.orient("bottom").tickFormat(d3.format(",.1f"));var A=function(e,r){var l=e.pos[0]+(r.offsetLeft||0),s=e.pos[1]+(r.offsetTop||0),u=o.tickFormat()(a.x()(e.point,e.pointIndex)),c=i.tickFormat()(a.y()(e.point,e.pointIndex)),d=v(e.series.key,u,c,e,t);n.tooltip.show([l,s],d,0>e.value?"e":"w",null,r)};return a.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+u.left,t.pos[1]+u.top],k.tooltipShow(t)}),a.dispatch.on("elementMouseout.tooltip",function(t){k.tooltipHide(t)}),k.on("tooltipHide",function(){m&&n.tooltip.cleanup()}),t.dispatch=k,t.multibar=a,t.legend=l,t.xAxis=o,t.yAxis=i,d3.rebind(t,a,"x","y","xDomain","yDomain","forceX","forceY","clipEdge","id","delay","showValues","valueFormat","stacked","barColor"),t.margin=function(e){return arguments.length?(u.top=e.top!==void 0?e.top:u.top,u.right=e.right!==void 0?e.right:u.right,u.bottom=e.bottom!==void 0?e.bottom:u.bottom,u.left=e.left!==void 0?e.left:u.left,t):u},t.width=function(e){return arguments.length?(c=e,t):c},t.height=function(e){return arguments.length?(d=e,t):d},t.color=function(e){return arguments.length?(p=n.utils.getColor(e),l.color(p),t):p},t.showControls=function(e){return arguments.length?(f=e,t):f},t.showLegend=function(e){return arguments.length?(g=e,t):g},t.tooltip=function(e){return arguments.length?(v=e,t):v},t.tooltips=function(e){return arguments.length?(m=e,t):m},t.tooltipContent=function(e){return arguments.length?(v=e,t):v},t.state=function(e){return arguments.length?(x=e,t):x},t.defaultState=function(e){return arguments.length?(y=e,t):y},t.noData=function(e){return arguments.length?(b=e,t):b},t},n.models.multiChart=function(){function t(n){return n.each(function(u){var C=d3.select(this),M=this,S=(o||parseInt(C.style("width"))||960)-r.left-r.right,D=(i||parseInt(C.style("height"))||400)-r.top-r.bottom,I=u.filter(function(t){return!t.disabled&&"line"==t.type&&1==t.yAxis}),W=u.filter(function(t){return!t.disabled&&"line"==t.type&&2==t.yAxis}),z=u.filter(function(t){return!t.disabled&&"bar"==t.type&&1==t.yAxis}),B=u.filter(function(t){return!t.disabled&&"bar"==t.type&&2==t.yAxis}),P=u.filter(function(t){return!t.disabled&&"area"==t.type&&1==t.yAxis}),H=u.filter(function(t){return!t.disabled&&"area"==t.type&&2==t.yAxis}),F=u.filter(function(t){return!t.disabled&&1==t.yAxis}).map(function(t){return t.values.map(function(t){return{x:t.x,y:t.y}})}),L=u.filter(function(t){return!t.disabled&&2==t.yAxis}).map(function(t){return t.values.map(function(t){return{x:t.x,y:t.y}})});e.domain(d3.extent(d3.merge(F.concat(L)),function(t){return t.x})).range([0,S]);var T=C.selectAll("g.wrap.multiChart").data([u]),N=T.enter().append("g").attr("class","wrap nvd3 multiChart").append("g");N.append("g").attr("class","x axis"),N.append("g").attr("class","y1 axis"),N.append("g").attr("class","y2 axis"),N.append("g").attr("class","lines1Wrap"),N.append("g").attr("class","lines2Wrap"),N.append("g").attr("class","bars1Wrap"),N.append("g").attr("class","bars2Wrap"),N.append("g").attr("class","stack1Wrap"),N.append("g").attr("class","stack2Wrap"),N.append("g").attr("class","legendWrap");var Y=T.select("g");l&&(k.width(S/2),Y.select(".legendWrap").datum(u.map(function(t){return t.originalKey=void 0===t.originalKey?t.key:t.originalKey,t.key=t.originalKey+(1==t.yAxis?"":" (right axis)"),t})).call(k),r.top!=k.height()&&(r.top=k.height(),D=(i||parseInt(C.style("height"))||400)-r.top-r.bottom),Y.select(".legendWrap").attr("transform","translate("+S/2+","+-r.top+")")),p.width(S).height(D).interpolate("monotone").color(u.map(function(t,e){return t.color||a[e%a.length]}).filter(function(t,e){return!u[e].disabled&&1==u[e].yAxis&&"line"==u[e].type})),f.width(S).height(D).interpolate("monotone").color(u.map(function(t,e){return t.color||a[e%a.length]}).filter(function(t,e){return!u[e].disabled&&2==u[e].yAxis&&"line"==u[e].type})),g.width(S).height(D).color(u.map(function(t,e){return t.color||a[e%a.length]}).filter(function(t,e){return!u[e].disabled&&1==u[e].yAxis&&"bar"==u[e].type})),h.width(S).height(D).color(u.map(function(t,e){return t.color||a[e%a.length]}).filter(function(t,e){return!u[e].disabled&&2==u[e].yAxis&&"bar"==u[e].type})),m.width(S).height(D).color(u.map(function(t,e){return t.color||a[e%a.length]}).filter(function(t,e){return!u[e].disabled&&1==u[e].yAxis&&"area"==u[e].type})),v.width(S).height(D).color(u.map(function(t,e){return t.color||a[e%a.length]}).filter(function(t,e){return!u[e].disabled&&2==u[e].yAxis&&"area"==u[e].type})),Y.attr("transform","translate("+r.left+","+r.top+")");var E=Y.select(".lines1Wrap").datum(I),V=Y.select(".bars1Wrap").datum(z),_=Y.select(".stack1Wrap").datum(P),X=Y.select(".lines2Wrap").datum(W),R=Y.select(".bars2Wrap").datum(B),K=Y.select(".stack2Wrap").datum(H),Z=P.length?P.map(function(t){return t.values}).reduce(function(t,e){return t.map(function(t,n){return{x:t.x,y:t.y+e[n].y}})}).concat([{x:0,y:0}]):[],O=H.length?H.map(function(t){return t.values}).reduce(function(t,e){return t.map(function(t,n){return{x:t.x,y:t.y+e[n].y}})}).concat([{x:0,y:0}]):[];c.domain(d3.extent(d3.merge(F).concat(Z),function(t){return t.y})).range([0,D]),d.domain(d3.extent(d3.merge(L).concat(O),function(t){return t.y})).range([0,D]),p.yDomain(c.domain()),g.yDomain(c.domain()),m.yDomain(c.domain()),f.yDomain(d.domain()),h.yDomain(d.domain()),v.yDomain(d.domain()),P.length&&d3.transition(_).call(m),H.length&&d3.transition(K).call(v),z.length&&d3.transition(V).call(g),B.length&&d3.transition(R).call(h),I.length&&d3.transition(E).call(p),W.length&&d3.transition(X).call(f),x.ticks(S/100).tickSize(-D,0),Y.select(".x.axis").attr("transform","translate(0,"+D+")"),d3.transition(Y.select(".x.axis")).call(x),y.ticks(D/36).tickSize(-S,0),d3.transition(Y.select(".y1.axis")).call(y),b.ticks(D/36).tickSize(-S,0),d3.transition(Y.select(".y2.axis")).call(b),Y.select(".y2.axis").style("opacity",L.length?1:0).attr("transform","translate("+e.range()[1]+",0)"),k.dispatch.on("legendClick",function(e){e.disabled=!e.disabled,u.filter(function(t){return!t.disabled}).length||u.map(function(t){return t.disabled=!1,T.selectAll(".series").classed("disabled",!1),t}),n.transition().call(t)}),w.on("tooltipShow",function(t){s&&A(t,M.parentNode)})}),t.update=function(){t(n)},t.container=this,t}var e,r={top:30,right:20,bottom:50,left:60},a=d3.scale.category20().range(),o=null,i=null,l=!0,s=!0,u=function(t,e,n){return"<h3>"+t+"</h3>"+"<p>"+n+" at "+e+"</p>"},e=d3.scale.linear(),c=d3.scale.linear(),d=d3.scale.linear(),p=n.models.line().yScale(c),f=n.models.line().yScale(d),g=n.models.multiBar().stacked(!1).yScale(c),h=n.models.multiBar().stacked(!1).yScale(d),m=n.models.stackedArea().yScale(c),v=n.models.stackedArea().yScale(d),x=n.models.axis().scale(e).orient("bottom").tickPadding(5),y=n.models.axis().scale(c).orient("left"),b=n.models.axis().scale(d).orient("right"),k=n.models.legend().height(30),w=d3.dispatch("tooltipShow","tooltipHide"),A=function(e,r){var a=e.pos[0]+(r.offsetLeft||0),o=e.pos[1]+(r.offsetTop||0),i=x.tickFormat()(p.x()(e.point,e.pointIndex)),l=(2==e.series.yAxis?b:y).tickFormat()(p.y()(e.point,e.pointIndex)),s=u(e.series.key,i,l,e,t);n.tooltip.show([a,o],s,void 0,void 0,r.offsetParent)};return p.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+r.left,t.pos[1]+r.top],w.tooltipShow(t)}),p.dispatch.on("elementMouseout.tooltip",function(t){w.tooltipHide(t)}),f.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+r.left,t.pos[1]+r.top],w.tooltipShow(t)}),f.dispatch.on("elementMouseout.tooltip",function(t){w.tooltipHide(t)}),g.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+r.left,t.pos[1]+r.top],w.tooltipShow(t)}),g.dispatch.on("elementMouseout.tooltip",function(t){w.tooltipHide(t)}),h.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+r.left,t.pos[1]+r.top],w.tooltipShow(t)}),h.dispatch.on("elementMouseout.tooltip",function(t){w.tooltipHide(t)}),m.dispatch.on("tooltipShow",function(t){return Math.round(100*m.y()(t.point))?(t.pos=[t.pos[0]+r.left,t.pos[1]+r.top],w.tooltipShow(t),void 0):(setTimeout(function(){d3.selectAll(".point.hover").classed("hover",!1)},0),!1)}),m.dispatch.on("tooltipHide",function(t){w.tooltipHide(t)}),v.dispatch.on("tooltipShow",function(t){return Math.round(100*v.y()(t.point))?(t.pos=[t.pos[0]+r.left,t.pos[1]+r.top],w.tooltipShow(t),void 0):(setTimeout(function(){d3.selectAll(".point.hover").classed("hover",!1)},0),!1)}),v.dispatch.on("tooltipHide",function(t){w.tooltipHide(t)}),p.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+r.left,t.pos[1]+r.top],w.tooltipShow(t)}),p.dispatch.on("elementMouseout.tooltip",function(t){w.tooltipHide(t)}),f.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+r.left,t.pos[1]+r.top],w.tooltipShow(t)}),f.dispatch.on("elementMouseout.tooltip",function(t){w.tooltipHide(t)}),w.on("tooltipHide",function(){s&&n.tooltip.cleanup()}),t.dispatch=w,t.lines1=p,t.lines2=f,t.bars1=g,t.bars2=h,t.stack1=m,t.stack2=v,t.xAxis=x,t.yAxis1=y,t.yAxis2=b,t.x=function(e){return arguments.length?(getX=e,p.x(e),g.x(e),t):getX},t.y=function(e){return arguments.length?(getY=e,p.y(e),g.y(e),t):getY},t.margin=function(e){return arguments.length?(r=e,t):r},t.width=function(e){return arguments.length?(o=e,t):o},t.height=function(e){return arguments.length?(i=e,t):i},t.color=function(e){return arguments.length?(a=e,k.color(e),t):a},t.showLegend=function(e){return arguments.length?(l=e,t):l},t.tooltips=function(e){return arguments.length?(s=e,t):s},t.tooltipContent=function(e){return arguments.length?(u=e,t):u},t},n.models.ohlcBar=function(){function t(n){return n.each(function(t){var n=o-a.left-a.right,b=i-a.top-a.bottom,w=d3.select(this);s.domain(e||d3.extent(t[0].values.map(c).concat(m))),x?s.range([.5*n/t[0].values.length,n*(t[0].values.length-.5)/t[0].values.length]):s.range([0,n]),u.domain(r||[d3.min(t[0].values.map(h).concat(v)),d3.max(t[0].values.map(g).concat(v))]).range([b,0]),(s.domain()[0]===s.domain()[1]||u.domain()[0]===u.domain()[1])&&(singlePoint=!0),s.domain()[0]===s.domain()[1]&&(s.domain()[0]?s.domain([s.domain()[0]-.01*s.domain()[0],s.domain()[1]+.01*s.domain()[1]]):s.domain([-1,1])),u.domain()[0]===u.domain()[1]&&(u.domain()[0]?u.domain([u.domain()[0]+.01*u.domain()[0],u.domain()[1]-.01*u.domain()[1]]):u.domain([-1,1]));var A=d3.select(this).selectAll("g.nv-wrap.nv-ohlcBar").data([t[0].values]),C=A.enter().append("g").attr("class","nvd3 nv-wrap nv-ohlcBar"),M=C.append("defs"),S=C.append("g"),D=A.select("g");S.append("g").attr("class","nv-ticks"),A.attr("transform","translate("+a.left+","+a.top+")"),w.on("click",function(t,e){k.chartClick({data:t,index:e,pos:d3.event,id:l})}),M.append("clipPath").attr("id","nv-chart-clip-path-"+l).append("rect"),A.select("#nv-chart-clip-path-"+l+" rect").attr("width",n).attr("height",b),D.attr("clip-path",y?"url(#nv-chart-clip-path-"+l+")":"");var I=A.select(".nv-ticks").selectAll(".nv-tick").data(function(t){return t});I.exit().remove(),I.enter().append("path").attr("class",function(t,e,n){return(p(t,e)>f(t,e)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+e}).attr("d",function(e,r){var a=.9*(n/t[0].values.length);return"m0,0l0,"+(u(p(e,r))-u(g(e,r)))+"l"+-a/2+",0l"+a/2+",0l0,"+(u(h(e,r))-u(p(e,r)))+"l0,"+(u(f(e,r))-u(h(e,r)))+"l"+a/2+",0l"+-a/2+",0z"}).attr("transform",function(t,e){return"translate("+s(c(t,e))+","+u(g(t,e))+")"}).on("mouseover",function(e,n){d3.select(this).classed("hover",!0),k.elementMouseover({point:e,series:t[0],pos:[s(c(e,n)),u(d(e,n))],pointIndex:n,seriesIndex:0,e:d3.event})}).on("mouseout",function(e,n){d3.select(this).classed("hover",!1),k.elementMouseout({point:e,series:t[0],pointIndex:n,seriesIndex:0,e:d3.event})}).on("click",function(t,e){k.elementClick({value:d(t,e),data:t,index:e,pos:[s(c(t,e)),u(d(t,e))],e:d3.event,id:l}),d3.event.stopPropagation()}).on("dblclick",function(t,e){k.elementDblClick({value:d(t,e),data:t,index:e,pos:[s(c(t,e)),u(d(t,e))],e:d3.event,id:l}),d3.event.stopPropagation()}),I.attr("class",function(t,e,n){return(p(t,e)>f(t,e)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+e}),d3.transition(I).attr("transform",function(t,e){return"translate("+s(c(t,e))+","+u(g(t,e))+")"}).attr("d",function(e,r){var a=.9*(n/t[0].values.length);return"m0,0l0,"+(u(p(e,r))-u(g(e,r)))+"l"+-a/2+",0l"+a/2+",0l0,"+(u(h(e,r))-u(p(e,r)))+"l0,"+(u(f(e,r))-u(h(e,r)))+"l"+a/2+",0l"+-a/2+",0z"})}),t}var e,r,a={top:0,right:0,bottom:0,left:0},o=960,i=500,l=Math.floor(1e4*Math.random()),s=d3.scale.linear(),u=d3.scale.linear(),c=function(t){return t.x},d=function(t){return t.y},p=function(t){return t.open},f=function(t){return t.close},g=function(t){return t.high},h=function(t){return t.low},m=[],v=[],x=!1,y=!0,b=n.utils.defaultColor(),k=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout");return t.dispatch=k,t.x=function(e){return arguments.length?(c=e,t):c},t.y=function(e){return arguments.length?(d=e,t):d},t.open=function(e){return arguments.length?(p=e,t):p},t.close=function(e){return arguments.length?(f=e,t):f},t.high=function(e){return arguments.length?(g=e,t):g},t.low=function(e){return arguments.length?(h=e,t):h},t.margin=function(e){return arguments.length?(a.top=e.top!==void 0?e.top:a.top,a.right=e.right!==void 0?e.right:a.right,a.bottom=e.bottom!==void 0?e.bottom:a.bottom,a.left=e.left!==void 0?e.left:a.left,t):a},t.width=function(e){return arguments.length?(o=e,t):o},t.height=function(e){return arguments.length?(i=e,t):i},t.xScale=function(e){return arguments.length?(s=e,t):s},t.yScale=function(e){return arguments.length?(u=e,t):u},t.xDomain=function(n){return arguments.length?(e=n,t):e},t.yDomain=function(e){return arguments.length?(r=e,t):r},t.forceX=function(e){return arguments.length?(m=e,t):m},t.forceY=function(e){return arguments.length?(v=e,t):v},t.padData=function(e){return arguments.length?(x=e,t):x},t.clipEdge=function(e){return arguments.length?(y=e,t):y},t.color=function(e){return arguments.length?(b=n.utils.getColor(e),t):b},t.id=function(e){return arguments.length?(l=e,t):l},t},n.models.pie=function(){function t(n){return n.each(function(t){function n(t){m||(t.innerRadius=0);var e=d3.interpolate(this._current,t);return this._current=e(0),function(t){return W(e(t))}}var s=r-e.left-e.right,d=a-e.top-e.bottom,w=Math.min(s,d)/2,A=w-w/5,C=d3.select(this),M=C.selectAll(".nv-wrap.nv-pie").data([o(t[0])]),S=M.enter().append("g").attr("class","nvd3 nv-wrap nv-pie nv-chart-"+u),D=S.append("g"),I=M.select("g");D.append("g").attr("class","nv-pie"),M.attr("transform","translate("+e.left+","+e.top+")"),I.select(".nv-pie").attr("transform","translate("+s/2+","+d/2+")"),C.on("click",function(t,e){k.chartClick({data:t,index:e,pos:d3.event,id:u})});var W=d3.svg.arc().outerRadius(A);x&&W.startAngle(x),y&&W.endAngle(y),m&&W.innerRadius(w*b);var z=d3.layout.pie().sort(null).value(function(t){return t.disabled?0:l(t)}),B=M.select(".nv-pie").selectAll(".nv-slice").data(z);B.exit().remove();var P=B.enter().append("g").attr("class","nv-slice").on("mouseover",function(t,e){d3.select(this).classed("hover",!0),k.elementMouseover({label:i(t.data),value:l(t.data),point:t.data,pointIndex:e,pos:[d3.event.pageX,d3.event.pageY],id:u})}).on("mouseout",function(t,e){d3.select(this).classed("hover",!1),k.elementMouseout({label:i(t.data),value:l(t.data),point:t.data,index:e,id:u})}).on("click",function(t,e){k.elementClick({label:i(t.data),value:l(t.data),point:t.data,index:e,pos:d3.event,id:u}),d3.event.stopPropagation()}).on("dblclick",function(t,e){k.elementDblClick({label:i(t.data),value:l(t.data),point:t.data,index:e,pos:d3.event,id:u}),d3.event.stopPropagation()});if(B.attr("fill",function(t,e){return c(t,e)}).attr("stroke",function(t,e){return c(t,e)}),P.append("path").each(function(t){this._current=t}),d3.transition(B.select("path")).attr("d",W).attrTween("d",n),p){var H=d3.svg.arc().innerRadius(0);f&&(H=W),g&&(H=d3.svg.arc().outerRadius(W.outerRadius())),P.append("g").classed("nv-label",!0).each(function(t){var e=d3.select(this);e.attr("transform",function(t){if(v){t.outerRadius=A+10,t.innerRadius=A+15;var e=(t.startAngle+t.endAngle)/2*(180/Math.PI);return(t.startAngle+t.endAngle)/2<Math.PI?e-=90:e+=90,"translate("+H.centroid(t)+") rotate("+e+")"}return t.outerRadius=w+10,t.innerRadius=w+15,"translate("+H.centroid(t)+")"}),e.append("rect").style("stroke","#fff").style("fill","#fff").attr("rx",3).attr("ry",3),e.append("text").style("text-anchor",v?(t.startAngle+t.endAngle)/2<Math.PI?"start":"end":"middle").style("fill","#000")}),B.select(".nv-label").transition().attr("transform",function(t){if(v){t.outerRadius=A+10,t.innerRadius=A+15;var e=(t.startAngle+t.endAngle)/2*(180/Math.PI);return(t.startAngle+t.endAngle)/2<Math.PI?e-=90:e+=90,"translate("+H.centroid(t)+") rotate("+e+")"}return t.outerRadius=w+10,t.innerRadius=w+15,"translate("+H.centroid(t)+")"}),B.each(function(t){var e=d3.select(this);e.select(".nv-label text").style("text-anchor",v?(t.startAngle+t.endAngle)/2<Math.PI?"start":"end":"middle").text(function(t){var e=(t.endAngle-t.startAngle)/(2*Math.PI);return t.value&&e>h?i(t.data):""});var n=e.select("text").node().getBBox();e.select(".nv-label rect").attr("width",n.width+10).attr("height",n.height+10).attr("transform",function(){return"translate("+[n.x-5,n.y-5]+")"})})}}),t}var e={top:0,right:0,bottom:0,left:0},r=500,a=500,o=function(t){return t.values},i=function(t){return t.x},l=function(t){return t.y},s=function(t){return t.description},u=Math.floor(1e4*Math.random()),c=n.utils.defaultColor(),d=d3.format(",.2f"),p=!0,f=!0,g=!1,h=.02,m=!1,v=!1,x=!1,y=!1,b=.5,k=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout");return t.dispatch=k,t.margin=function(n){return arguments.length?(e.top=n.top!==void 0?n.top:e.top,e.right=n.right!==void 0?n.right:e.right,e.bottom=n.bottom!==void 0?n.bottom:e.bottom,e.left=n.left!==void 0?n.left:e.left,t):e},t.width=function(e){return arguments.length?(r=e,t):r},t.height=function(e){return arguments.length?(a=e,t):a},t.values=function(e){return arguments.length?(o=e,t):o},t.x=function(e){return arguments.length?(i=e,t):i},t.y=function(e){return arguments.length?(l=d3.functor(e),t):l},t.description=function(e){return arguments.length?(s=e,t):s},t.showLabels=function(e){return arguments.length?(p=e,t):p},t.labelSunbeamLayout=function(e){return arguments.length?(v=e,t):v},t.donutLabelsOutside=function(e){return arguments.length?(g=e,t):g},t.pieLabelsOutside=function(e){return arguments.length?(f=e,t):f},t.donut=function(e){return arguments.length?(m=e,t):m},t.donutRatio=function(e){return arguments.length?(b=e,t):b},t.startAngle=function(e){return arguments.length?(x=e,t):x},t.endAngle=function(e){return arguments.length?(y=e,t):y},t.id=function(e){return arguments.length?(u=e,t):u},t.color=function(e){return arguments.length?(c=n.utils.getColor(e),t):c},t.valueFormat=function(e){return arguments.length?(d=e,t):d},t.labelThreshold=function(e){return arguments.length?(h=e,t):h},t},n.models.pieChart=function(){function t(n){return n.each(function(s){var u=d3.select(this),c=(o||parseInt(u.style("width"))||960)-a.left-a.right,h=(i||parseInt(u.style("height"))||400)-a.top-a.bottom;if(t.update=function(){t(n)},t.container=this,d.disabled=s[0].map(function(t){return!!t.disabled}),!p){var m;p={};for(m in d)p[m]=d[m]instanceof Array?d[m].slice(0):d[m]}if(!s[0]||!s[0].length){var v=u.selectAll(".nv-noData").data([f]);return v.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),v.attr("x",a.left+c/2).attr("y",a.top+h/2).text(function(t){return t}),t}u.selectAll(".nv-noData").remove();var x=u.selectAll("g.nv-wrap.nv-pieChart").data([s]),y=x.enter().append("g").attr("class","nvd3 nv-wrap nv-pieChart").append("g"),b=x.select("g");y.append("g").attr("class","nv-pieWrap"),y.append("g").attr("class","nv-legendWrap"),l&&(r.width(c).key(e.x()),x.select(".nv-legendWrap").datum(e.values()(s[0])).call(r),a.top!=r.height()&&(a.top=r.height(),h=(i||parseInt(u.style("height"))||400)-a.top-a.bottom),x.select(".nv-legendWrap").attr("transform","translate(0,"+-a.top+")")),x.attr("transform","translate("+a.left+","+a.top+")"),e.width(c).height(h);var k=b.select(".nv-pieWrap").datum(s);d3.transition(k).call(e),r.dispatch.on("legendClick",function(r){r.disabled=!r.disabled,e.values()(s[0]).filter(function(t){return!t.disabled}).length||e.values()(s[0]).map(function(t){return t.disabled=!1,x.selectAll(".nv-series").classed("disabled",!1),t}),d.disabled=s[0].map(function(t){return!!t.disabled}),g.stateChange(d),n.transition().call(t)}),e.dispatch.on("elementMouseout.tooltip",function(t){g.tooltipHide(t)}),g.on("changeState",function(e){e.disabled!==void 0&&(s[0].forEach(function(t,n){t.disabled=e.disabled[n]}),d.disabled=e.disabled),n.call(t)})}),t}var e=n.models.pie(),r=n.models.legend(),a={top:30,right:20,bottom:20,left:20},o=null,i=null,l=!0,s=n.utils.defaultColor(),u=!0,c=function(t,e){return"<h3>"+t+"</h3>"+"<p>"+e+"</p>"},d={},p=null,f="No Data Available.",g=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),h=function(r,a){var o=e.description()(r.point)||e.x()(r.point),i=r.pos[0]+(a&&a.offsetLeft||0),l=r.pos[1]+(a&&a.offsetTop||0),s=e.valueFormat()(e.y()(r.point)),u=c(o,s,r,t);n.tooltip.show([i,l],u,0>r.value?"n":"s",null,a)};return e.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+a.left,t.pos[1]+a.top],g.tooltipShow(t)}),g.on("tooltipShow",function(t){u&&h(t)}),g.on("tooltipHide",function(){u&&n.tooltip.cleanup()}),t.legend=r,t.dispatch=g,t.pie=e,d3.rebind(t,e,"valueFormat","values","x","y","description","id","showLabels","donutLabelsOutside","pieLabelsOutside","donut","donutRatio","labelThreshold"),t.margin=function(e){return arguments.length?(a.top=e.top!==void 0?e.top:a.top,a.right=e.right!==void 0?e.right:a.right,a.bottom=e.bottom!==void 0?e.bottom:a.bottom,a.left=e.left!==void 0?e.left:a.left,t):a},t.width=function(e){return arguments.length?(o=e,t):o},t.height=function(e){return arguments.length?(i=e,t):i},t.color=function(a){return arguments.length?(s=n.utils.getColor(a),r.color(s),e.color(s),t):s},t.showLegend=function(e){return arguments.length?(l=e,t):l},t.tooltips=function(e){return arguments.length?(u=e,t):u},t.tooltipContent=function(e){return arguments.length?(c=e,t):c},t.state=function(e){return arguments.length?(d=e,t):d},t.defaultState=function(e){return arguments.length?(p=e,t):p},t.noData=function(e){return arguments.length?(f=e,t):f},t},n.models.scatter=function(){function t(n){return n.each(function(t){function n(){if(!w)return!1;var e=d3.merge(t.map(function(t,e){return t.values.map(function(t,n){return[d(g(t,n))*(Math.random()/1e12+1),p(h(t,n))*(Math.random()/1e12+1),e,n,t]}).filter(function(t,e){return A(t[4],e)})}));if(L===!0){if(D){var n=_.select("defs").selectAll(".nv-point-clips").data([c]).enter();n.append("clipPath").attr("class","nv-point-clips").attr("id","nv-points-clip-"+c);var r=_.select("#nv-points-clip-"+c).selectAll("circle").data(e);r.enter().append("circle").attr("r",I),r.exit().remove(),r.attr("cx",function(t){return t[0]}).attr("cy",function(t){return t[1]}),_.select(".nv-point-paths").attr("clip-path","url(#nv-points-clip-"+c+")")}e.push([d.range()[0]-20,p.range()[0]-20,null,null]),e.push([d.range()[1]+20,p.range()[1]+20,null,null]),e.push([d.range()[0]-20,p.range()[0]+20,null,null]),e.push([d.range()[1]+20,p.range()[1]-20,null,null]);var a=d3.geom.polygon([[-10,-10],[-10,s+10],[l+10,s+10],[l+10,-10]]),o=d3.geom.voronoi(e).map(function(t,n){return{data:a.clip(t),series:e[n][2],point:e[n][3]}}),u=_.select(".nv-point-paths").selectAll("path").data(o);u.enter().append("path").attr("class",function(t,e){return"nv-path-"+e}),u.exit().remove(),u.attr("d",function(t){return"M"+t.data.join("L")+"Z"}),u.on("click",function(e){if(T)return 0;var n=t[e.series],r=n.values[e.point];F.elementClick({point:r,series:n,pos:[d(g(r,e.point))+i.left,p(h(r,e.point))+i.top],seriesIndex:e.series,pointIndex:e.point})}).on("mouseover",function(e){if(T)return 0;var n=t[e.series],r=n.values[e.point];F.elementMouseover({point:r,series:n,pos:[d(g(r,e.point))+i.left,p(h(r,e.point))+i.top],seriesIndex:e.series,pointIndex:e.point})}).on("mouseout",function(e){if(T)return 0;var n=t[e.series],r=n.values[e.point];F.elementMouseout({point:r,series:n,seriesIndex:e.series,pointIndex:e.point})})}else _.select(".nv-groups").selectAll(".nv-group").selectAll(".nv-point").on("click",function(e,n){if(T||!t[e.series])return 0;var r=t[e.series],a=r.values[n];F.elementClick({point:a,series:r,pos:[d(g(a,n))+i.left,p(h(a,n))+i.top],seriesIndex:e.series,pointIndex:n})}).on("mouseover",function(e,n){if(T||!t[e.series])return 0;var r=t[e.series],a=r.values[n];F.elementMouseover({point:a,series:r,pos:[d(g(a,n))+i.left,p(h(a,n))+i.top],seriesIndex:e.series,pointIndex:n})}).on("mouseout",function(e,n){if(T||!t[e.series])return 0;var r=t[e.series],a=r.values[n];F.elementMouseout({point:a,series:r,seriesIndex:e.series,pointIndex:n})});T=!1}var N=l-i.left-i.right,Y=s-i.top-i.bottom,E=d3.select(this);t=t.map(function(t,e){return t.values=t.values.map(function(t){return t.series=e,t}),t});var V=W&&z&&B?[]:d3.merge(t.map(function(t){return t.values.map(function(t,e){return{x:g(t,e),y:h(t,e),size:m(t,e)}})}));d.domain(W||d3.extent(V.map(function(t){return t.x}).concat(y))),C&&t[0]?d.range([(N*M+N)/(2*t[0].values.length),N-N*(1+M)/(2*t[0].values.length)]):d.range([0,N]),p.domain(z||d3.extent(V.map(function(t){return t.y}).concat(b))).range([Y,0]),f.domain(B||d3.extent(V.map(function(t){return t.size}).concat(k))).range(P||[16,256]),(d.domain()[0]===d.domain()[1]||p.domain()[0]===p.domain()[1])&&(H=!0),d.domain()[0]===d.domain()[1]&&(d.domain()[0]?d.domain([d.domain()[0]-.01*d.domain()[0],d.domain()[1]+.01*d.domain()[1]]):d.domain([-1,1])),p.domain()[0]===p.domain()[1]&&(p.domain()[0]?p.domain([p.domain()[0]+.01*p.domain()[0],p.domain()[1]-.01*p.domain()[1]]):p.domain([-1,1])),e=e||d,r=r||p,a=a||f;var _=E.selectAll("g.nv-wrap.nv-scatter").data([t]),X=_.enter().append("g").attr("class","nvd3 nv-wrap nv-scatter nv-chart-"+c+(H?" nv-single-point":"")),R=X.append("defs"),K=X.append("g"),Z=_.select("g");K.append("g").attr("class","nv-groups"),K.append("g").attr("class","nv-point-paths"),_.attr("transform","translate("+i.left+","+i.top+")"),R.append("clipPath").attr("id","nv-edge-clip-"+c).append("rect"),_.select("#nv-edge-clip-"+c+" rect").attr("width",N).attr("height",Y),Z.attr("clip-path",S?"url(#nv-edge-clip-"+c+")":""),T=!0;var O=_.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t){return t.key});if(O.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),d3.transition(O.exit()).style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),O.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}),d3.transition(O).style("fill",function(t,e){return u(t,e)}).style("stroke",function(t,e){return u(t,e)}).style("stroke-opacity",1).style("fill-opacity",.5),x){var q=O.selectAll("circle.nv-point").data(function(t){return t.values});q.enter().append("circle").attr("cx",function(t,n){return e(g(t,n))}).attr("cy",function(t,e){return r(h(t,e))}).attr("r",function(t,e){return Math.sqrt(f(m(t,e))/Math.PI)}),q.exit().remove(),d3.transition(O.exit().selectAll("path.nv-point")).attr("cx",function(t,e){return d(g(t,e))}).attr("cy",function(t,e){return p(h(t,e))}).remove(),q.attr("class",function(t,e){return"nv-point nv-point-"+e}),d3.transition(q).attr("cx",function(t,e){return d(g(t,e))}).attr("cy",function(t,e){return p(h(t,e))}).attr("r",function(t,e){return Math.sqrt(f(m(t,e))/Math.PI)})}else{var q=O.selectAll("path.nv-point").data(function(t){return t.values});q.enter().append("path").attr("transform",function(t,n){return"translate("+e(g(t,n))+","+r(h(t,n))+")"}).attr("d",d3.svg.symbol().type(v).size(function(t,e){return f(m(t,e))})),q.exit().remove(),d3.transition(O.exit().selectAll("path.nv-point")).attr("transform",function(t,e){return"translate("+d(g(t,e))+","+p(h(t,e))+")"}).remove(),q.attr("class",function(t,e){return"nv-point nv-point-"+e}),d3.transition(q).attr("transform",function(t,e){return"translate("+d(g(t,e))+","+p(h(t,e))+")"}).attr("d",d3.svg.symbol().type(v).size(function(t,e){return f(m(t,e))}))}clearTimeout(o),o=setTimeout(n,300),e=d.copy(),r=p.copy(),a=f.copy()}),t}var e,r,a,o,i={top:0,right:0,bottom:0,left:0},l=960,s=500,u=n.utils.defaultColor(),c=Math.floor(1e5*Math.random()),d=d3.scale.linear(),p=d3.scale.linear(),f=d3.scale.linear(),g=function(t){return t.x},h=function(t){return t.y},m=function(t){return t.size||1},v=function(t){return t.shape||"circle"},x=!0,y=[],b=[],k=[],w=!0,A=function(t){return!t.notActive},C=!1,M=.1,S=!1,D=!0,I=function(){return 25},W=null,z=null,B=null,P=null,H=!1,F=d3.dispatch("elementClick","elementMouseover","elementMouseout"),L=!0,T=!1;return F.on("elementMouseover.point",function(t){w&&d3.select(".nv-chart-"+c+" .nv-series-"+t.seriesIndex+" .nv-point-"+t.pointIndex).classed("hover",!0)}),F.on("elementMouseout.point",function(t){w&&d3.select(".nv-chart-"+c+" .nv-series-"+t.seriesIndex+" .nv-point-"+t.pointIndex).classed("hover",!1)}),t.dispatch=F,t.x=function(e){return arguments.length?(g=d3.functor(e),t):g},t.y=function(e){return arguments.length?(h=d3.functor(e),t):h},t.size=function(e){return arguments.length?(m=d3.functor(e),t):m},t.margin=function(e){return arguments.length?(i.top=e.top!==void 0?e.top:i.top,i.right=e.right!==void 0?e.right:i.right,i.bottom=e.bottom!==void 0?e.bottom:i.bottom,i.left=e.left!==void 0?e.left:i.left,t):i},t.width=function(e){return arguments.length?(l=e,t):l},t.height=function(e){return arguments.length?(s=e,t):s},t.xScale=function(e){return arguments.length?(d=e,t):d},t.yScale=function(e){return arguments.length?(p=e,t):p},t.zScale=function(e){return arguments.length?(f=e,t):f},t.xDomain=function(e){return arguments.length?(W=e,t):W},t.yDomain=function(e){return arguments.length?(z=e,t):z},t.sizeDomain=function(e){return arguments.length?(B=e,t):B},t.sizeRange=function(e){return arguments.length?(P=e,t):P},t.forceX=function(e){return arguments.length?(y=e,t):y},t.forceY=function(e){return arguments.length?(b=e,t):b},t.forceSize=function(e){return arguments.length?(k=e,t):k},t.interactive=function(e){return arguments.length?(w=e,t):w},t.pointActive=function(e){return arguments.length?(A=e,t):A},t.padData=function(e){return arguments.length?(C=e,t):C},t.padDataOuter=function(e){return arguments.length?(M=e,t):M},t.clipEdge=function(e){return arguments.length?(S=e,t):S},t.clipVoronoi=function(e){return arguments.length?(D=e,t):D},t.useVoronoi=function(e){return arguments.length?(L=e,L===!1&&(D=!1),t):L},t.clipRadius=function(e){return arguments.length?(I=e,t):I},t.color=function(e){return arguments.length?(u=n.utils.getColor(e),t):u},t.shape=function(e){return arguments.length?(v=e,t):v},t.onlyCircles=function(e){return arguments.length?(x=e,t):x},t.id=function(e){return arguments.length?(c=e,t):c},t.singlePoint=function(e){return arguments.length?(H=e,t):H},t},n.models.scatterChart=function(){function t(n){return n.each(function(C){function M(){if(w)return R.select(".nv-point-paths").style("pointer-events","all"),!1;R.select(".nv-point-paths").style("pointer-events","none");var t=d3.mouse(this);f.distortion(k).focus(t[0]),g.distortion(k).focus(t[1]),R.select(".nv-scatterWrap").call(e),R.select(".nv-x.nv-axis").call(r),R.select(".nv-y.nv-axis").call(a),R.select(".nv-distributionX").datum(C.filter(function(t){return!t.disabled})).call(l),R.select(".nv-distributionY").datum(C.filter(function(t){return!t.disabled})).call(s)}var S=d3.select(this),L=this,T=(c||parseInt(S.style("width"))||960)-u.left-u.right,N=(d||parseInt(S.style("height"))||400)-u.top-u.bottom;if(t.update=function(){t(n)
},t.container=this,D.disabled=C.map(function(t){return!!t.disabled}),!I){var Y;I={};for(Y in D)I[Y]=D[Y]instanceof Array?D[Y].slice(0):D[Y]}if(!(C&&C.length&&C.filter(function(t){return t.values.length}).length)){var E=S.selectAll(".nv-noData").data([z]);return E.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),E.attr("x",u.left+T/2).attr("y",u.top+N/2).text(function(t){return t}),t}S.selectAll(".nv-noData").remove(),B=B||f,P=P||g;var V=S.selectAll("g.nv-wrap.nv-scatterChart").data([C]),_=V.enter().append("g").attr("class","nvd3 nv-wrap nv-scatterChart nv-chart-"+e.id()),X=_.append("g"),R=V.select("g");if(X.append("rect").attr("class","nvd3 nv-background"),X.append("g").attr("class","nv-x nv-axis"),X.append("g").attr("class","nv-y nv-axis"),X.append("g").attr("class","nv-scatterWrap"),X.append("g").attr("class","nv-distWrap"),X.append("g").attr("class","nv-legendWrap"),X.append("g").attr("class","nv-controlsWrap"),y&&(o.width(T/2),V.select(".nv-legendWrap").datum(C).call(o),u.top!=o.height()&&(u.top=o.height(),N=(d||parseInt(S.style("height"))||400)-u.top-u.bottom),V.select(".nv-legendWrap").attr("transform","translate("+T/2+","+-u.top+")")),b&&(i.width(180).color(["#444"]),R.select(".nv-controlsWrap").datum(F).attr("transform","translate(0,"+-u.top+")").call(i)),V.attr("transform","translate("+u.left+","+u.top+")"),e.width(T).height(N).color(C.map(function(t,e){return t.color||p(t,e)}).filter(function(t,e){return!C[e].disabled})),V.select(".nv-scatterWrap").datum(C.filter(function(t){return!t.disabled})).call(e),h){var K=f.domain()[1]-f.domain()[0];f.domain([f.domain()[0]-h*K,f.domain()[1]+h*K])}if(m){var Z=g.domain()[1]-g.domain()[0];g.domain([g.domain()[0]-m*Z,g.domain()[1]+m*Z])}r.scale(f).ticks(r.ticks()&&r.ticks().length?r.ticks():T/100).tickSize(-N,0),R.select(".nv-x.nv-axis").attr("transform","translate(0,"+g.range()[0]+")").call(r),a.scale(g).ticks(a.ticks()&&a.ticks().length?a.ticks():N/36).tickSize(-T,0),R.select(".nv-y.nv-axis").call(a),v&&(l.getData(e.x()).scale(f).width(T).color(C.map(function(t,e){return t.color||p(t,e)}).filter(function(t,e){return!C[e].disabled})),X.select(".nv-distWrap").append("g").attr("class","nv-distributionX"),R.select(".nv-distributionX").attr("transform","translate(0,"+g.range()[0]+")").datum(C.filter(function(t){return!t.disabled})).call(l)),x&&(s.getData(e.y()).scale(g).width(N).color(C.map(function(t,e){return t.color||p(t,e)}).filter(function(t,e){return!C[e].disabled})),X.select(".nv-distWrap").append("g").attr("class","nv-distributionY"),R.select(".nv-distributionY").attr("transform","translate(-"+s.size()+",0)").datum(C.filter(function(t){return!t.disabled})).call(s)),d3.fisheye&&(R.select(".nv-background").attr("width",T).attr("height",N),R.select(".nv-background").on("mousemove",M),R.select(".nv-background").on("click",function(){w=!w}),e.dispatch.on("elementClick.freezeFisheye",function(){w=!w})),i.dispatch.on("legendClick",function(o){o.disabled=!o.disabled,k=o.disabled?0:2.5,R.select(".nv-background").style("pointer-events",o.disabled?"none":"all"),R.select(".nv-point-paths").style("pointer-events",o.disabled?"all":"none"),o.disabled?(f.distortion(k).focus(0),g.distortion(k).focus(0),R.select(".nv-scatterWrap").call(e),R.select(".nv-x.nv-axis").call(r),R.select(".nv-y.nv-axis").call(a)):w=!1,t(n)}),o.dispatch.on("legendClick",function(e){e.disabled=!e.disabled,C.filter(function(t){return!t.disabled}).length||C.map(function(t){return t.disabled=!1,V.selectAll(".nv-series").classed("disabled",!1),t}),D.disabled=C.map(function(t){return!!t.disabled}),W.stateChange(D),t(n)}),e.dispatch.on("elementMouseover.tooltip",function(t){d3.select(".nv-chart-"+e.id()+" .nv-series-"+t.seriesIndex+" .nv-distx-"+t.pointIndex).attr("y1",t.pos[1]-N),d3.select(".nv-chart-"+e.id()+" .nv-series-"+t.seriesIndex+" .nv-disty-"+t.pointIndex).attr("x2",t.pos[0]+l.size()),t.pos=[t.pos[0]+u.left,t.pos[1]+u.top],W.tooltipShow(t)}),W.on("tooltipShow",function(t){A&&H(t,L.parentNode)}),W.on("changeState",function(e){e.disabled!==void 0&&(C.forEach(function(t,n){t.disabled=e.disabled[n]}),D.disabled=e.disabled),n.call(t)}),B=f.copy(),P=g.copy()}),t}var e=n.models.scatter(),r=n.models.axis(),a=n.models.axis(),o=n.models.legend(),i=n.models.legend(),l=n.models.distribution(),s=n.models.distribution(),u={top:30,right:20,bottom:50,left:75},c=null,d=null,p=n.utils.defaultColor(),f=d3.fisheye?d3.fisheye.scale(d3.scale.linear).distortion(0):e.xScale(),g=d3.fisheye?d3.fisheye.scale(d3.scale.linear).distortion(0):e.yScale(),h=0,m=0,v=!1,x=!1,y=!0,b=!!d3.fisheye,k=0,w=!1,A=!0,C=function(t,e){return"<strong>"+e+"</strong>"},M=function(t,e,n){return"<strong>"+n+"</strong>"},S=null,D={},I=null,W=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),z="No Data Available.";e.xScale(f).yScale(g),r.orient("bottom").tickPadding(10),a.orient("left").tickPadding(10),l.axis("x"),s.axis("y");var B,P,H=function(o,i){var l=o.pos[0]+(i.offsetLeft||0),s=o.pos[1]+(i.offsetTop||0),c=o.pos[0]+(i.offsetLeft||0),d=g.range()[0]+u.top+(i.offsetTop||0),p=f.range()[0]+u.left+(i.offsetLeft||0),h=o.pos[1]+(i.offsetTop||0),m=r.tickFormat()(e.x()(o.point,o.pointIndex)),v=a.tickFormat()(e.y()(o.point,o.pointIndex));null!=C&&n.tooltip.show([c,d],C(o.series.key,m,v,o,t),"n",1,i,"x-nvtooltip"),null!=M&&n.tooltip.show([p,h],M(o.series.key,m,v,o,t),"e",1,i,"y-nvtooltip"),null!=S&&n.tooltip.show([l,s],S(o.series.key,m,v,o,t),0>o.value?"n":"s",null,i)},F=[{key:"Magnify",disabled:!0}];return e.dispatch.on("elementMouseout.tooltip",function(t){W.tooltipHide(t),d3.select(".nv-chart-"+e.id()+" .nv-series-"+t.seriesIndex+" .nv-distx-"+t.pointIndex).attr("y1",0),d3.select(".nv-chart-"+e.id()+" .nv-series-"+t.seriesIndex+" .nv-disty-"+t.pointIndex).attr("x2",s.size())}),W.on("tooltipHide",function(){A&&n.tooltip.cleanup()}),t.dispatch=W,t.scatter=e,t.legend=o,t.controls=i,t.xAxis=r,t.yAxis=a,t.distX=l,t.distY=s,d3.rebind(t,e,"id","interactive","pointActive","x","y","shape","size","xScale","yScale","zScale","xDomain","yDomain","sizeDomain","sizeRange","forceX","forceY","forceSize","clipVoronoi","clipRadius","useVoronoi"),t.margin=function(e){return arguments.length?(u.top=e.top!==void 0?e.top:u.top,u.right=e.right!==void 0?e.right:u.right,u.bottom=e.bottom!==void 0?e.bottom:u.bottom,u.left=e.left!==void 0?e.left:u.left,t):u},t.width=function(e){return arguments.length?(c=e,t):c},t.height=function(e){return arguments.length?(d=e,t):d},t.color=function(e){return arguments.length?(p=n.utils.getColor(e),o.color(p),l.color(p),s.color(p),t):p},t.showDistX=function(e){return arguments.length?(v=e,t):v},t.showDistY=function(e){return arguments.length?(x=e,t):x},t.showControls=function(e){return arguments.length?(b=e,t):b},t.showLegend=function(e){return arguments.length?(y=e,t):y},t.fisheye=function(e){return arguments.length?(k=e,t):k},t.xPadding=function(e){return arguments.length?(h=e,t):h},t.yPadding=function(e){return arguments.length?(m=e,t):m},t.tooltips=function(e){return arguments.length?(A=e,t):A},t.tooltipContent=function(e){return arguments.length?(S=e,t):S},t.tooltipXContent=function(e){return arguments.length?(C=e,t):C},t.tooltipYContent=function(e){return arguments.length?(M=e,t):M},t.state=function(e){return arguments.length?(D=e,t):D},t.defaultState=function(e){return arguments.length?(I=e,t):I},t.noData=function(e){return arguments.length?(z=e,t):z},t},n.models.scatterPlusLineChart=function(){function t(n){return n.each(function(w){function A(){if(b)return _.select(".nv-point-paths").style("pointer-events","all"),!1;_.select(".nv-point-paths").style("pointer-events","none");var t=d3.mouse(this);f.distortion(y).focus(t[0]),g.distortion(y).focus(t[1]),_.select(".nv-scatterWrap").datum(w.filter(function(t){return!t.disabled})).call(e),_.select(".nv-x.nv-axis").call(r),_.select(".nv-y.nv-axis").call(a),_.select(".nv-distributionX").datum(w.filter(function(t){return!t.disabled})).call(l),_.select(".nv-distributionY").datum(w.filter(function(t){return!t.disabled})).call(s)}var C=d3.select(this),H=this,F=(c||parseInt(C.style("width"))||960)-u.left-u.right,L=(d||parseInt(C.style("height"))||400)-u.top-u.bottom;if(t.update=function(){t(n)},t.container=this,M.disabled=w.map(function(t){return!!t.disabled}),!S){var T;S={};for(T in M)S[T]=M[T]instanceof Array?M[T].slice(0):M[T]}if(!(w&&w.length&&w.filter(function(t){return t.values.length}).length)){var N=C.selectAll(".nv-noData").data([I]);return N.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),N.attr("x",u.left+F/2).attr("y",u.top+L/2).text(function(t){return t}),t}C.selectAll(".nv-noData").remove(),f=e.xScale(),g=e.yScale(),W=W||f,z=z||g;var Y=C.selectAll("g.nv-wrap.nv-scatterChart").data([w]),E=Y.enter().append("g").attr("class","nvd3 nv-wrap nv-scatterChart nv-chart-"+e.id()),V=E.append("g"),_=Y.select("g");V.append("rect").attr("class","nvd3 nv-background"),V.append("g").attr("class","nv-x nv-axis"),V.append("g").attr("class","nv-y nv-axis"),V.append("g").attr("class","nv-scatterWrap"),V.append("g").attr("class","nv-regressionLinesWrap"),V.append("g").attr("class","nv-distWrap"),V.append("g").attr("class","nv-legendWrap"),V.append("g").attr("class","nv-controlsWrap"),Y.attr("transform","translate("+u.left+","+u.top+")"),v&&(o.width(F/2),Y.select(".nv-legendWrap").datum(w).call(o),u.top!=o.height()&&(u.top=o.height(),L=(d||parseInt(C.style("height"))||400)-u.top-u.bottom),Y.select(".nv-legendWrap").attr("transform","translate("+F/2+","+-u.top+")")),x&&(i.width(180).color(["#444"]),_.select(".nv-controlsWrap").datum(P).attr("transform","translate(0,"+-u.top+")").call(i)),e.width(F).height(L).color(w.map(function(t,e){return t.color||p(t,e)}).filter(function(t,e){return!w[e].disabled})),Y.select(".nv-scatterWrap").datum(w.filter(function(t){return!t.disabled})).call(e),Y.select(".nv-regressionLinesWrap").attr("clip-path","url(#nv-edge-clip-"+e.id()+")");var X=Y.select(".nv-regressionLinesWrap").selectAll(".nv-regLines").data(function(t){return t});X.enter().append("g").attr("class","nv-regLines").append("line").attr("class","nv-regLine").style("stroke-opacity",0),X.selectAll(".nv-regLines line").attr("x1",f.range()[0]).attr("x2",f.range()[1]).attr("y1",function(t){return g(f.domain()[0]*t.slope+t.intercept)}).attr("y2",function(t){return g(f.domain()[1]*t.slope+t.intercept)}).style("stroke",function(t,e,n){return p(t,n)}).style("stroke-opacity",function(t){return t.disabled||t.slope===void 0||t.intercept===void 0?0:1}),r.scale(f).ticks(r.ticks()?r.ticks():F/100).tickSize(-L,0),_.select(".nv-x.nv-axis").attr("transform","translate(0,"+g.range()[0]+")").call(r),a.scale(g).ticks(a.ticks()?a.ticks():L/36).tickSize(-F,0),_.select(".nv-y.nv-axis").call(a),h&&(l.getData(e.x()).scale(f).width(F).color(w.map(function(t,e){return t.color||p(t,e)}).filter(function(t,e){return!w[e].disabled})),V.select(".nv-distWrap").append("g").attr("class","nv-distributionX"),_.select(".nv-distributionX").attr("transform","translate(0,"+g.range()[0]+")").datum(w.filter(function(t){return!t.disabled})).call(l)),m&&(s.getData(e.y()).scale(g).width(L).color(w.map(function(t,e){return t.color||p(t,e)}).filter(function(t,e){return!w[e].disabled})),V.select(".nv-distWrap").append("g").attr("class","nv-distributionY"),_.select(".nv-distributionY").attr("transform","translate(-"+s.size()+",0)").datum(w.filter(function(t){return!t.disabled})).call(s)),d3.fisheye&&(_.select(".nv-background").attr("width",F).attr("height",L),_.select(".nv-background").on("mousemove",A),_.select(".nv-background").on("click",function(){b=!b}),e.dispatch.on("elementClick.freezeFisheye",function(){b=!b})),i.dispatch.on("legendClick",function(o){o.disabled=!o.disabled,y=o.disabled?0:2.5,_.select(".nv-background").style("pointer-events",o.disabled?"none":"all"),_.select(".nv-point-paths").style("pointer-events",o.disabled?"all":"none"),o.disabled?(f.distortion(y).focus(0),g.distortion(y).focus(0),_.select(".nv-scatterWrap").call(e),_.select(".nv-x.nv-axis").call(r),_.select(".nv-y.nv-axis").call(a)):b=!1,t(n)}),o.dispatch.on("legendClick",function(e){e.disabled=!e.disabled,w.filter(function(t){return!t.disabled}).length||w.map(function(t){return t.disabled=!1,Y.selectAll(".nv-series").classed("disabled",!1),t}),M.disabled=w.map(function(t){return!!t.disabled}),D.stateChange(M),t(n)}),e.dispatch.on("elementMouseover.tooltip",function(t){d3.select(".nv-chart-"+e.id()+" .nv-series-"+t.seriesIndex+" .nv-distx-"+t.pointIndex).attr("y1",t.pos[1]-L),d3.select(".nv-chart-"+e.id()+" .nv-series-"+t.seriesIndex+" .nv-disty-"+t.pointIndex).attr("x2",t.pos[0]+l.size()),t.pos=[t.pos[0]+u.left,t.pos[1]+u.top],D.tooltipShow(t)}),D.on("tooltipShow",function(t){k&&B(t,H.parentNode)}),D.on("changeState",function(e){e.disabled!==void 0&&(w.forEach(function(t,n){t.disabled=e.disabled[n]}),M.disabled=e.disabled),n.call(t)}),W=f.copy(),z=g.copy()}),t}var e=n.models.scatter(),r=n.models.axis(),a=n.models.axis(),o=n.models.legend(),i=n.models.legend(),l=n.models.distribution(),s=n.models.distribution(),u={top:30,right:20,bottom:50,left:75},c=null,d=null,p=n.utils.defaultColor(),f=d3.fisheye?d3.fisheye.scale(d3.scale.linear).distortion(0):e.xScale(),g=d3.fisheye?d3.fisheye.scale(d3.scale.linear).distortion(0):e.yScale(),h=!1,m=!1,v=!0,x=!!d3.fisheye,y=0,b=!1,k=!0,w=function(t,e){return"<strong>"+e+"</strong>"},A=function(t,e,n){return"<strong>"+n+"</strong>"},C=function(t,e,n,r){return"<h3>"+t+"</h3>"+"<p>"+r+"</p>"},M={},S=null,D=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),I="No Data Available.";e.xScale(f).yScale(g),r.orient("bottom").tickPadding(10),a.orient("left").tickPadding(10),l.axis("x"),s.axis("y");var W,z,B=function(o,i){var l=o.pos[0]+(i.offsetLeft||0),s=o.pos[1]+(i.offsetTop||0),c=o.pos[0]+(i.offsetLeft||0),d=g.range()[0]+u.top+(i.offsetTop||0),p=f.range()[0]+u.left+(i.offsetLeft||0),h=o.pos[1]+(i.offsetTop||0),m=r.tickFormat()(e.x()(o.point,o.pointIndex)),v=a.tickFormat()(e.y()(o.point,o.pointIndex));null!=w&&n.tooltip.show([c,d],w(o.series.key,m,v,o,t),"n",1,i,"x-nvtooltip"),null!=A&&n.tooltip.show([p,h],A(o.series.key,m,v,o,t),"e",1,i,"y-nvtooltip"),null!=C&&n.tooltip.show([l,s],C(o.series.key,m,v,o.point.tooltip,o,t),0>o.value?"n":"s",null,i)},P=[{key:"Magnify",disabled:!0}];return e.dispatch.on("elementMouseout.tooltip",function(t){D.tooltipHide(t),d3.select(".nv-chart-"+e.id()+" .nv-series-"+t.seriesIndex+" .nv-distx-"+t.pointIndex).attr("y1",0),d3.select(".nv-chart-"+e.id()+" .nv-series-"+t.seriesIndex+" .nv-disty-"+t.pointIndex).attr("x2",s.size())}),D.on("tooltipHide",function(){k&&n.tooltip.cleanup()}),t.dispatch=D,t.scatter=e,t.legend=o,t.controls=i,t.xAxis=r,t.yAxis=a,t.distX=l,t.distY=s,d3.rebind(t,e,"id","interactive","pointActive","x","y","shape","size","xScale","yScale","zScale","xDomain","yDomain","sizeDomain","sizeRange","forceX","forceY","forceSize","clipVoronoi","clipRadius","useVoronoi"),t.margin=function(e){return arguments.length?(u.top=e.top!==void 0?e.top:u.top,u.right=e.right!==void 0?e.right:u.right,u.bottom=e.bottom!==void 0?e.bottom:u.bottom,u.left=e.left!==void 0?e.left:u.left,t):u},t.width=function(e){return arguments.length?(c=e,t):c},t.height=function(e){return arguments.length?(d=e,t):d},t.color=function(e){return arguments.length?(p=n.utils.getColor(e),o.color(p),l.color(p),s.color(p),t):p},t.showDistX=function(e){return arguments.length?(h=e,t):h},t.showDistY=function(e){return arguments.length?(m=e,t):m},t.showControls=function(e){return arguments.length?(x=e,t):x},t.showLegend=function(e){return arguments.length?(v=e,t):v},t.fisheye=function(e){return arguments.length?(y=e,t):y},t.tooltips=function(e){return arguments.length?(k=e,t):k},t.tooltipContent=function(e){return arguments.length?(C=e,t):C},t.tooltipXContent=function(e){return arguments.length?(w=e,t):w},t.tooltipYContent=function(e){return arguments.length?(A=e,t):A},t.state=function(e){return arguments.length?(M=e,t):M},t.defaultState=function(e){return arguments.length?(S=e,t):S},t.noData=function(e){return arguments.length?(I=e,t):I},t},n.models.sparkline=function(){function t(n){return n.each(function(t){var n=o-a.left-a.right,l=i-a.top-a.bottom,f=d3.select(this);s.domain(e||d3.extent(t,c)).range([0,n]),u.domain(r||d3.extent(t,d)).range([l,0]);var g=f.selectAll("g.nv-wrap.nv-sparkline").data([t]),h=g.enter().append("g").attr("class","nvd3 nv-wrap nv-sparkline");h.append("g"),g.select("g"),g.attr("transform","translate("+a.left+","+a.top+")");var m=g.selectAll("path").data(function(t){return[t]});m.enter().append("path"),m.exit().remove(),m.style("stroke",function(t,e){return t.color||p(t,e)}).attr("d",d3.svg.line().x(function(t,e){return s(c(t,e))}).y(function(t,e){return u(d(t,e))}));var v=g.selectAll("circle.nv-point").data(function(t){function e(e){if(-1!=e){var n=t[e];return n.pointIndex=e,n}return null}var n=t.map(function(t,e){return d(t,e)}),r=e(n.lastIndexOf(u.domain()[1])),a=e(n.indexOf(u.domain()[0])),o=e(n.length-1);return[a,r,o].filter(function(t){return null!=t})});v.enter().append("circle"),v.exit().remove(),v.attr("cx",function(t){return s(c(t,t.pointIndex))}).attr("cy",function(t){return u(d(t,t.pointIndex))}).attr("r",2).attr("class",function(t){return c(t,t.pointIndex)==s.domain()[1]?"nv-point nv-currentValue":d(t,t.pointIndex)==u.domain()[0]?"nv-point nv-minValue":"nv-point nv-maxValue"})}),t}var e,r,a={top:2,right:0,bottom:2,left:0},o=400,i=32,l=!0,s=d3.scale.linear(),u=d3.scale.linear(),c=function(t){return t.x},d=function(t){return t.y},p=n.utils.getColor(["#000"]);return t.margin=function(e){return arguments.length?(a.top=e.top!==void 0?e.top:a.top,a.right=e.right!==void 0?e.right:a.right,a.bottom=e.bottom!==void 0?e.bottom:a.bottom,a.left=e.left!==void 0?e.left:a.left,t):a},t.width=function(e){return arguments.length?(o=e,t):o},t.height=function(e){return arguments.length?(i=e,t):i},t.x=function(e){return arguments.length?(c=d3.functor(e),t):c},t.y=function(e){return arguments.length?(d=d3.functor(e),t):d},t.xScale=function(e){return arguments.length?(s=e,t):s},t.yScale=function(e){return arguments.length?(u=e,t):u},t.xDomain=function(n){return arguments.length?(e=n,t):e},t.yDomain=function(e){return arguments.length?(r=e,t):r},t.animate=function(e){return arguments.length?(l=e,t):l},t.color=function(e){return arguments.length?(p=n.utils.getColor(e),t):p},t},n.models.sparklinePlus=function(){function t(n){return n.each(function(p){function m(){if(!u){var t=S.selectAll(".nv-hoverValue").data(s),n=t.enter().append("g").attr("class","nv-hoverValue").style("stroke-opacity",0).style("fill-opacity",0);t.exit().transition().duration(250).style("stroke-opacity",0).style("fill-opacity",0).remove(),t.attr("transform",function(t){return"translate("+e(a.x()(p[t],t))+",0)"}).transition().duration(250).style("stroke-opacity",1).style("fill-opacity",1),s.length&&(n.append("line").attr("x1",0).attr("y1",-o.top).attr("x2",0).attr("y2",b),n.append("text").attr("class","nv-xValue").attr("x",-6).attr("y",-o.top).attr("text-anchor","end").attr("dy",".9em"),S.select(".nv-hoverValue .nv-xValue").text(c(a.x()(p[s[0]],s[0]))),n.append("text").attr("class","nv-yValue").attr("x",6).attr("y",-o.top).attr("text-anchor","start").attr("dy",".9em"),S.select(".nv-hoverValue .nv-yValue").text(d(a.y()(p[s[0]],s[0]))))}}function v(){function t(t,e){for(var n=Math.abs(a.x()(t[0],0)-e),r=0,o=0;t.length>o;o++)n>Math.abs(a.x()(t[o],o)-e)&&(n=Math.abs(a.x()(t[o],o)-e),r=o);return r}if(!u){var n=d3.mouse(this)[0]-o.left;s=[t(p,Math.round(e.invert(n)))],m()}}var x=d3.select(this),y=(i||parseInt(x.style("width"))||960)-o.left-o.right,b=(l||parseInt(x.style("height"))||400)-o.top-o.bottom,k=a.y()(p[p.length-1],p.length-1);if(t.update=function(){t(n)},t.container=this,!p||!p.length){var w=x.selectAll(".nv-noData").data([h]);return w.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),w.attr("x",o.left+y/2).attr("y",o.top+b/2).text(function(t){return t}),t}x.selectAll(".nv-noData").remove(),e=a.xScale(),r=a.yScale();var A=x.selectAll("g.nv-wrap.nv-sparklineplus").data([p]),C=A.enter().append("g").attr("class","nvd3 nv-wrap nv-sparklineplus"),M=C.append("g"),S=A.select("g");M.append("g").attr("class","nv-sparklineWrap"),M.append("g").attr("class","nv-valueWrap"),M.append("g").attr("class","nv-hoverArea"),A.attr("transform","translate("+o.left+","+o.top+")");var D=S.select(".nv-sparklineWrap");a.width(y).height(b),D.call(a);var I=S.select(".nv-valueWrap"),W=I.selectAll(".nv-currentValue").data([k]);W.enter().append("text").attr("class","nv-currentValue").attr("dx",g?-8:8).attr("dy",".9em").style("text-anchor",g?"end":"start"),W.attr("x",y+(g?o.right:0)).attr("y",f?function(t){return r(t)}:0).style("fill",a.color()(p[p.length-1],p.length-1)).text(d(k)),M.select(".nv-hoverArea").append("rect").on("mousemove",v).on("click",function(){u=!u}).on("mouseout",function(){s=[],m()}),S.select(".nv-hoverArea rect").attr("transform",function(){return"translate("+-o.left+","+-o.top+")"}).attr("width",y+o.left+o.right).attr("height",b+o.top)}),t}var e,r,a=n.models.sparkline(),o={top:15,right:100,bottom:10,left:50},i=null,l=null,s=[],u=!1,c=d3.format(",r"),d=d3.format(",.2f"),p=!0,f=!0,g=!1,h="No Data Available.";return t.sparkline=a,d3.rebind(t,a,"x","y","xScale","yScale","color"),t.margin=function(e){return arguments.length?(o.top=e.top!==void 0?e.top:o.top,o.right=e.right!==void 0?e.right:o.right,o.bottom=e.bottom!==void 0?e.bottom:o.bottom,o.left=e.left!==void 0?e.left:o.left,t):o},t.width=function(e){return arguments.length?(i=e,t):i},t.height=function(e){return arguments.length?(l=e,t):l},t.xTickFormat=function(e){return arguments.length?(c=e,t):c},t.yTickFormat=function(e){return arguments.length?(d=e,t):d},t.showValue=function(e){return arguments.length?(p=e,t):p},t.alignValue=function(e){return arguments.length?(f=e,t):f},t.rightAlignValue=function(e){return arguments.length?(g=e,t):g},t.noData=function(e){return arguments.length?(h=e,t):h},t},n.models.stackedArea=function(){function t(n){return n.each(function(t){var n=o-a.left-a.right,d=i-a.top-a.bottom,x=d3.select(this);e=m.xScale(),r=m.yScale(),t=t.map(function(t){return t.values=t.values.map(function(e,n){return e.index=n,e.stackedY=t.disabled?0:c(e,n),e}),t}),t=d3.layout.stack().order(f).offset(p).values(function(t){return t.values}).x(u).y(function(t){return t.stackedY}).out(function(t,e,n){t.display={y:n,y0:e}})(t);var y=x.selectAll("g.nv-wrap.nv-stackedarea").data([t]),b=y.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedarea"),k=b.append("defs"),w=b.append("g"),A=y.select("g");w.append("g").attr("class","nv-areaWrap"),w.append("g").attr("class","nv-scatterWrap"),y.attr("transform","translate("+a.left+","+a.top+")"),m.width(n).height(d).x(u).y(function(t){return t.display.y+t.display.y0}).forceY([0]).color(t.map(function(t,e){return t.color||l(t,e)}).filter(function(e,n){return!t[n].disabled}));var C=A.select(".nv-scatterWrap").datum(t.filter(function(t){return!t.disabled}));C.call(m),k.append("clipPath").attr("id","nv-edge-clip-"+s).append("rect"),y.select("#nv-edge-clip-"+s+" rect").attr("width",n).attr("height",d),A.attr("clip-path",h?"url(#nv-edge-clip-"+s+")":"");var M=d3.svg.area().x(function(t,n){return e(u(t,n))}).y0(function(t){return r(t.display.y0)}).y1(function(t){return r(t.display.y+t.display.y0)}).interpolate(g),S=d3.svg.area().x(function(t,n){return e(u(t,n))}).y0(function(t){return r(t.display.y0)}).y1(function(t){return r(t.display.y0)}),D=A.select(".nv-areaWrap").selectAll("path.nv-area").data(function(t){return t});D.enter().append("path").attr("class",function(t,e){return"nv-area nv-area-"+e}).on("mouseover",function(t,e){d3.select(this).classed("hover",!0),v.areaMouseover({point:t,series:t.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:e})}).on("mouseout",function(t,e){d3.select(this).classed("hover",!1),v.areaMouseout({point:t,series:t.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:e})}).on("click",function(t,e){d3.select(this).classed("hover",!1),v.areaClick({point:t,series:t.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:e})}),D.exit().attr("d",function(t,e){return S(t.values,e)}).remove(),D.style("fill",function(t,e){return t.color||l(t,e)}).style("stroke",function(t,e){return t.color||l(t,e)}),D.attr("d",function(t,e){return M(t.values,e)}),m.dispatch.on("elementMouseover.area",function(t){A.select(".nv-chart-"+s+" .nv-area-"+t.seriesIndex).classed("hover",!0)}),m.dispatch.on("elementMouseout.area",function(t){A.select(".nv-chart-"+s+" .nv-area-"+t.seriesIndex).classed("hover",!1)})}),t}var e,r,a={top:0,right:0,bottom:0,left:0},o=960,i=500,l=n.utils.defaultColor(),s=Math.floor(1e5*Math.random()),u=function(t){return t.x},c=function(t){return t.y},d="stack",p="zero",f="default",g="linear",h=!1,m=n.models.scatter(),v=d3.dispatch("tooltipShow","tooltipHide","areaClick","areaMouseover","areaMouseout");return m.size(2.2).sizeDomain([2.2,2.2]),m.dispatch.on("elementClick.area",function(t){v.areaClick(t)}),m.dispatch.on("elementMouseover.tooltip",function(t){t.pos=[t.pos[0]+a.left,t.pos[1]+a.top],v.tooltipShow(t)}),m.dispatch.on("elementMouseout.tooltip",function(t){v.tooltipHide(t)}),t.dispatch=v,t.scatter=m,d3.rebind(t,m,"interactive","size","xScale","yScale","zScale","xDomain","yDomain","sizeDomain","forceX","forceY","forceSize","clipVoronoi","clipRadius"),t.x=function(e){return arguments.length?(u=d3.functor(e),t):u},t.y=function(e){return arguments.length?(c=d3.functor(e),t):c},t.margin=function(e){return arguments.length?(a.top=e.top!==void 0?e.top:a.top,a.right=e.right!==void 0?e.right:a.right,a.bottom=e.bottom!==void 0?e.bottom:a.bottom,a.left=e.left!==void 0?e.left:a.left,t):a},t.width=function(e){return arguments.length?(o=e,t):o},t.height=function(e){return arguments.length?(i=e,t):i},t.clipEdge=function(e){return arguments.length?(h=e,t):h},t.color=function(e){return arguments.length?(l=n.utils.getColor(e),t):l},t.offset=function(e){return arguments.length?(p=e,t):p},t.order=function(e){return arguments.length?(f=e,t):f},t.style=function(e){if(!arguments.length)return d;switch(d=e){case"stack":t.offset("zero"),t.order("default");break;case"stream":t.offset("wiggle"),t.order("inside-out");break;case"stream-center":t.offset("silhouette"),t.order("inside-out");break;case"expand":t.offset("expand"),t.order("default")}return t},t.interpolate=function(t){return arguments.length?g=t:g},t},n.models.stackedAreaChart=function(){function t(n){return n.each(function(p){var m=d3.select(this),C=this,M=(c||parseInt(m.style("width"))||960)-u.left-u.right,S=(d||parseInt(m.style("height"))||400)-u.top-u.bottom;if(t.update=function(){t(n)},t.container=this,x.disabled=p.map(function(t){return!!t.disabled}),!y){var D;y={};for(D in x)y[D]=x[D]instanceof Array?x[D].slice(0):x[D]}if(!(p&&p.length&&p.filter(function(t){return t.values.length}).length)){var I=m.selectAll(".nv-noData").data([b]);return I.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),I.attr("x",u.left+M/2).attr("y",u.top+S/2).text(function(t){return t}),t}m.selectAll(".nv-noData").remove(),e=a.xScale(),r=a.yScale();var W=m.selectAll("g.nv-wrap.nv-stackedAreaChart").data([p]),z=W.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedAreaChart").append("g"),B=W.select("g");if(z.append("g").attr("class","nv-x nv-axis"),z.append("g").attr("class","nv-y nv-axis"),z.append("g").attr("class","nv-stackedWrap"),z.append("g").attr("class","nv-legendWrap"),z.append("g").attr("class","nv-controlsWrap"),g&&(l.width(M-w),B.select(".nv-legendWrap").datum(p).call(l),u.top!=l.height()&&(u.top=l.height(),S=(d||parseInt(m.style("height"))||400)-u.top-u.bottom),B.select(".nv-legendWrap").attr("transform","translate("+w+","+-u.top+")")),f){var P=[{key:"Stacked",disabled:"zero"!=a.offset()},{key:"Stream",disabled:"wiggle"!=a.offset()},{key:"Expanded",disabled:"expand"!=a.offset()}];s.width(w).color(["#444","#444","#444"]),B.select(".nv-controlsWrap").datum(P).call(s),u.top!=Math.max(s.height(),l.height())&&(u.top=Math.max(s.height(),l.height()),S=(d||parseInt(m.style("height"))||400)-u.top-u.bottom),B.select(".nv-controlsWrap").attr("transform","translate(0,"+-u.top+")")}W.attr("transform","translate("+u.left+","+u.top+")"),a.width(M).height(S);var H=B.select(".nv-stackedWrap").datum(p);H.call(a),o.scale(e).ticks(M/100).tickSize(-S,0),B.select(".nv-x.nv-axis").attr("transform","translate(0,"+S+")"),B.select(".nv-x.nv-axis").transition().duration(0).call(o),i.scale(r).ticks("wiggle"==a.offset()?0:S/36).tickSize(-M,0).setTickFormat("expand"==a.offset()?d3.format("%"):v),B.select(".nv-y.nv-axis").transition().duration(0).call(i),a.dispatch.on("areaClick.toggle",function(e){p=1===p.filter(function(t){return!t.disabled}).length?p.map(function(t){return t.disabled=!1,t}):p.map(function(t,n){return t.disabled=n!=e.seriesIndex,t}),x.disabled=p.map(function(t){return!!t.disabled}),k.stateChange(x),t(n)}),l.dispatch.on("legendClick",function(e){e.disabled=!e.disabled,p.filter(function(t){return!t.disabled}).length||p.map(function(t){return t.disabled=!1,t}),x.disabled=p.map(function(t){return!!t.disabled}),k.stateChange(x),t(n)}),s.dispatch.on("legendClick",function(e){if(e.disabled){switch(P=P.map(function(t){return t.disabled=!0,t}),e.disabled=!1,e.key){case"Stacked":a.style("stack");break;case"Stream":a.style("stream");break;case"Expanded":a.style("expand")}x.style=a.style(),k.stateChange(x),t(n)}}),k.on("tooltipShow",function(t){h&&A(t,C.parentNode)}),k.on("changeState",function(e){e.disabled!==void 0&&(p.forEach(function(t,n){t.disabled=e.disabled[n]}),x.disabled=e.disabled),e.style!==void 0&&a.style(e.style),n.call(t)})}),t}var e,r,a=n.models.stackedArea(),o=n.models.axis(),i=n.models.axis(),l=n.models.legend(),s=n.models.legend(),u={top:30,right:25,bottom:50,left:60},c=null,d=null,p=n.utils.defaultColor(),f=!0,g=!0,h=!0,m=function(t,e,n){return"<h3>"+t+"</h3>"+"<p>"+n+" on "+e+"</p>"},v=d3.format(",.2f"),x={style:a.style()},y=null,b="No Data Available.",k=d3.dispatch("tooltipShow","tooltipHide","stateChange","changeState"),w=250;o.orient("bottom").tickPadding(7),i.orient("left"),a.scatter.pointActive(function(t){return!!Math.round(100*a.y()(t))});var A=function(e,r){var l=e.pos[0]+(r.offsetLeft||0),s=e.pos[1]+(r.offsetTop||0),u=o.tickFormat()(a.x()(e.point,e.pointIndex)),c=i.tickFormat()(a.y()(e.point,e.pointIndex)),d=m(e.series.key,u,c,e,t);n.tooltip.show([l,s],d,0>e.value?"n":"s",null,r)};return a.dispatch.on("tooltipShow",function(t){t.pos=[t.pos[0]+u.left,t.pos[1]+u.top],k.tooltipShow(t)}),a.dispatch.on("tooltipHide",function(t){k.tooltipHide(t)}),k.on("tooltipHide",function(){h&&n.tooltip.cleanup()}),t.dispatch=k,t.stacked=a,t.legend=l,t.controls=s,t.xAxis=o,t.yAxis=i,d3.rebind(t,a,"x","y","size","xScale","yScale","xDomain","yDomain","sizeDomain","interactive","offset","order","style","clipEdge","forceX","forceY","forceSize","interpolate"),t.margin=function(e){return arguments.length?(u.top=e.top!==void 0?e.top:u.top,u.right=e.right!==void 0?e.right:u.right,u.bottom=e.bottom!==void 0?e.bottom:u.bottom,u.left=e.left!==void 0?e.left:u.left,t):u},t.width=function(e){return arguments.length?(c=e,t):getWidth},t.height=function(e){return arguments.length?(d=e,t):getHeight},t.color=function(e){return arguments.length?(p=n.utils.getColor(e),l.color(p),a.color(p),t):p},t.showControls=function(e){return arguments.length?(f=e,t):f},t.showLegend=function(e){return arguments.length?(g=e,t):g},t.tooltip=function(e){return arguments.length?(m=e,t):m},t.tooltips=function(e){return arguments.length?(h=e,t):h},t.tooltipContent=function(e){return arguments.length?(m=e,t):m},t.state=function(e){return arguments.length?(x=e,t):x},t.defaultState=function(e){return arguments.length?(y=e,t):y},t.noData=function(e){return arguments.length?(b=e,t):b},i.setTickFormat=i.tickFormat,i.tickFormat=function(t){return arguments.length?(v=t,i):v
},t}})();